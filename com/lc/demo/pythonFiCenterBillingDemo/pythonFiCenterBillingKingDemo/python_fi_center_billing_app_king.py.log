============================================================================================================================================================分隔符
----------------------------------------------------------------------------------------
{'SFI_ORG_ID': '0003', 'FLMETER_NO': '00036000000039', 'RTU_NO': '00030000000080', 'COMM_NO': '00036000000039', 'CUSTOMER_NO': '00030000000029', 'COMM_ADDR': None, 'PROTOCOL_NO': '0002', 'MESSAGE_ID': None, 'DEVICE_NAME': '漕宝路NB测试表', 'DEVICE_MODEL': '0001', 'FACTORY_NO': '0001', 'DEFINE_NO1': None, 'DEFINE_NO2': '0002', 'BARCODE': None, 'REMARK': None, 'CREATE_TIME': datetime.datetime(2018, 10, 26, 14, 15, 16, 446000), 'EDIT_TIME': datetime.datetime(2019, 8, 4, 8, 21, 7, 802000), 'CREATOR': '00030002', 'EDITOR': '00030003', 'LINK_MAN': None, 'MOBILE_NO': None, 'ALARM_TIMES': None, 'ALARM_INV_TIME': None, 'TEMP_UPPER': '1', 'TEMP_LOW': '1', 'PRESS_UPPER': '1', 'PRESS_LOW': '1', 'STD_FLOW_MAX': '1', 'STD_FLOW_MIN': '1', 'WORK_FLOW_MAX': '1', 'WORK_FLOW_MIN': '1', 'REMAIN_MONEY_MIN': '1', 'REMAIN_VOLUM_MIN': '1', 'OVER_MONEY_MAX': '1', 'OVER_VOLUME_MAX': '1', 'DOOR_ALARM': '0', 'POWER_MAX': '1', 'POWER_MIN': '1', 'BATTERY_LOW': None, 'HIS_TEMP_UPPER': '1', 'HIS_TEMP_LOW': '1', 'HIS_PRESS_UPPER': '1', 'HIS_PRESS_LOW': '1', 'HIS_STD_FLOW_UPPER': '1', 'HIS_STD_FLOW_LOW': '1', 'HIS_WORK_FLOW_UPPER': '1', 'HIS_WORK_FLOW_LOW': '1', 'COMPUTE_DAYS': '30', 'SFI_STATUS': '1', 'SERVER_IP_ADDRESS1': None, 'SERVER_PORT1': None, 'SERVER_IP_ADDRESS2': None, 'SERVER_PORT2': None, 'SIM_APN': None, 'SIM_CUSTOMER_NAME': None, 'SIM_PWD': None, 'REPORT_CYCLE_TYPE': None, 'REPORT_INTERVAL': '1440', 'WAKE_TIME': None, 'WAKE_CONTINUE_TIME': None, 'STAGGERED_SHIFTS_TIME': None, 'NO_REPORT_CLOSE_VAVLE_DAYS': None, 'NO_USE_CLOSE_VAVLE_DAYS': None, 'PRICE_INFO_CONTENT': None, 'PROTOCOL_NO_IC': '0003', 'VOLVE_STATUS': None, 'POWER_STATUS': None, 'HAND_SHAKE_TIMES': None, 'PRICE_NO': '0003000026', 'CHARGE_SERIAL_NUMBER': '000320190800000089', 'WITH_CORRECTOR': '0001', 'PRICE_VERSION': None, 'SEAL_NO': None, 'CURRENT_PRICE': None, 'IC_CARD_CREATE_TIMES': '10', 'FEE_CONTROL_MODE': '0003', 'FIRMWARE_VERSION': '0001', 'HARDWARE_VERSION': '0001', 'METERTYPE_NO': '0003', 'OLD_SYSTEM': None, 'OLD_DATE1': None, 'OLD_DATE2': None, 'OLD_DATE3': None, 'SUM_TOTAL': None, 'PIPELINE_NO': None, 'GAS_USE_CLASSIFY': None, 'EQUIPMENT_NUMBER': '1', 'FLMETER_MADE_DATE': None, 'CONTROLLER_NO': None, 'CONTROLLER_MADE_DATE': None, 'CONTROLLER_TYPE': None, 'USE_STATUS': None, 'USE_START_DATE': None, 'TO_CHECK_DATE': None, 'IC_CARD_NO': '00036000000039', 'PURCHASE_RETAIL': None, 'CONTROLLER_FACTORY_NO': None, 'LAST_COMMUNICATE_TIME': datetime.datetime(2019, 8, 9, 12, 51, 43, 576000), 'ONLINE_STATUS': '1', 'RATED_USE_VOLUME_HOURLY': '1', 'RATED_USE_VOLUME_DAILY': '24', 'RATED_USE_VOLUME_MONTHLY': '720', 'COAP_DEVICE_ID': None, 'WITH_CONTROLLER': None}
☆I am main()开始--------------------------------------------------------------------------------
总共抄表数据: 3
[{'SFD_ORG_ID': '0003', 'SFD_ID': '2019070000019718', 'RTU_NO': '00030000000080', 'FLMETER_NO': '00036000000039', 'MESSAGE_ID': '00000000000000', 'INSTANT_TIME': datetime.datetime(2019, 8, 7, 21, 20), 'RECEIV_TIME': datetime.datetime(2019, 7, 20, 0, 50, 42, 221000), 'STD_SUM': '0', 'WORK_SUM': '0', 'STD_FLOW': '0.0', 'WORK_FLOW': '0.0', 'TEMPERATURE': '0.0', 'PRESSURE': '0.0', 'FM_STATE': '000000000001000100000000000000000000000000000000', 'FM_STATE_MSG': '[待定][待定]', 'RTU_STATE': None, 'RTU_STATE_MSG': None, 'SUM_TOTAL': '0', 'REMAIN_MONEY': '655', 'REMAIN_VOLUME': None, 'OVERDRAFT': None, 'REMOTE_CHARGE_MONEY': None, 'REMOTE_CHARGE_TIMES': '654', 'PRICE': '4.85', 'VALVE_STATE': '0', 'VALVE_STATE_MSG': '阀开', 'POWER_VOLTAGE': '00', 'BATTERY_VOLTAGE': None, 'RESERVE1': None, 'RESERVE2': None, 'RESERVE3': None, 'RESERVE4': None, 'AVG_STD_FLOW': None, 'AVG_WORK_FLOW': None, 'AVG_TEMPERATURE': None, 'AVG_PRESSURE': None, 'COMPUTE_DAYS': None, 'MAG_ATT_TIMES': None, 'MONTH_USE_VOL': None, 'L1_MONTH_USE_VOL': None, 'CYCLE_USE_VOL': None, 'L1_CYCLE_USE_VOL': None, 'RSSI': '14', 'BATTERY_LEVEL': '100', 'BASE_VOLUME': None, 'TOTAL_BUY_VOLUME': None, 'TOTAL_BUY_MONEY': '655', 'EXT_DATA': None, 'CUSTOMER_NO': '00030000000029', 'TOTAL_EXPEND_MONEY': '0', 'SFD_STATUS': None}, {'SFD_ORG_ID': '0003', 'SFD_ID': '2019070000019067', 'RTU_NO': '00030000000080', 'FLMETER_NO': '00036000000039', 'MESSAGE_ID': '00000000000000', 'INSTANT_TIME': datetime.datetime(2019, 8, 7, 21, 10), 'RECEIV_TIME': datetime.datetime(2019, 7, 18, 0, 36, 18, 242000), 'STD_SUM': '0', 'WORK_SUM': '0', 'STD_FLOW': '0.0', 'WORK_FLOW': '0.0', 'TEMPERATURE': '0.0', 'PRESSURE': '0.0', 'FM_STATE': '000000000001000100000000000000000000000000000000', 'FM_STATE_MSG': '[待定][待定]', 'RTU_STATE': None, 'RTU_STATE_MSG': None, 'SUM_TOTAL': '0', 'REMAIN_MONEY': '655', 'REMAIN_VOLUME': None, 'OVERDRAFT': None, 'REMOTE_CHARGE_MONEY': None, 'REMOTE_CHARGE_TIMES': '654', 'PRICE': '4.85', 'VALVE_STATE': '0', 'VALVE_STATE_MSG': '阀开', 'POWER_VOLTAGE': '00', 'BATTERY_VOLTAGE': None, 'RESERVE1': None, 'RESERVE2': None, 'RESERVE3': None, 'RESERVE4': None, 'AVG_STD_FLOW': None, 'AVG_WORK_FLOW': None, 'AVG_TEMPERATURE': None, 'AVG_PRESSURE': None, 'COMPUTE_DAYS': None, 'MAG_ATT_TIMES': None, 'MONTH_USE_VOL': None, 'L1_MONTH_USE_VOL': None, 'CYCLE_USE_VOL': None, 'L1_CYCLE_USE_VOL': None, 'RSSI': '16', 'BATTERY_LEVEL': '100', 'BASE_VOLUME': None, 'TOTAL_BUY_VOLUME': None, 'TOTAL_BUY_MONEY': '655', 'EXT_DATA': None, 'CUSTOMER_NO': '00030000000029', 'TOTAL_EXPEND_MONEY': '0', 'SFD_STATUS': None}, {'SFD_ORG_ID': '0003', 'SFD_ID': '2019070000019893', 'RTU_NO': '00030000000080', 'FLMETER_NO': '00036000000039', 'MESSAGE_ID': '00000000000000', 'INSTANT_TIME': datetime.datetime(2019, 8, 8, 10, 5), 'RECEIV_TIME': datetime.datetime(2019, 7, 21, 0, 52, 1, 46000), 'STD_SUM': '0', 'WORK_SUM': '0', 'STD_FLOW': '0.0', 'WORK_FLOW': '0.0', 'TEMPERATURE': '0.0', 'PRESSURE': '0.0', 'FM_STATE': '000000000001000100000000000000000000000000000000', 'FM_STATE_MSG': '[待定][待定]', 'RTU_STATE': None, 'RTU_STATE_MSG': None, 'SUM_TOTAL': '0', 'REMAIN_MONEY': '655', 'REMAIN_VOLUME': None, 'OVERDRAFT': None, 'REMOTE_CHARGE_MONEY': None, 'REMOTE_CHARGE_TIMES': '654', 'PRICE': '4.85', 'VALVE_STATE': '0', 'VALVE_STATE_MSG': '阀开', 'POWER_VOLTAGE': '00', 'BATTERY_VOLTAGE': None, 'RESERVE1': None, 'RESERVE2': None, 'RESERVE3': None, 'RESERVE4': None, 'AVG_STD_FLOW': None, 'AVG_WORK_FLOW': None, 'AVG_TEMPERATURE': None, 'AVG_PRESSURE': None, 'COMPUTE_DAYS': None, 'MAG_ATT_TIMES': None, 'MONTH_USE_VOL': None, 'L1_MONTH_USE_VOL': None, 'CYCLE_USE_VOL': None, 'L1_CYCLE_USE_VOL': None, 'RSSI': '18', 'BATTERY_LEVEL': '100', 'BASE_VOLUME': None, 'TOTAL_BUY_VOLUME': None, 'TOTAL_BUY_MONEY': '655', 'EXT_DATA': None, 'CUSTOMER_NO': '00030000000029', 'TOTAL_EXPEND_MONEY': '0', 'SFD_STATUS': None}]
执行sql:[UPDATE FI_CHARGE_RECORD fcr SET fcr.TOTAL_BILLING_VOLUME = '-8.0' ,  fcr.LAST_TOTAL_BILLING_VOLUME = '-7.0' ,  fcr.BILLING_REMAIN_MONEY = '-30.319999999999997' ,  fcr.LAST_BILLING_REMAIN_MONEY = '-26.529999999999998' ,  fcr.BILLING_TIME = to_timestamp('2019-08-12 15:42:43.809299','yyyy-MM-DD HH24:mi:ss.ff') ,  fcr.LAST_BILLING_TIME = to_timestamp('2019-08-12 15:11:21.756798','yyyy-MM-DD HH24:mi:ss.ff') where RCR_ORG_ID = :rcr_org_id and RCR_ID=:rcr_id],参数:[{'rcr_org_id': '0003', 'rcr_id': '00030000000073'}]
update_fi_charge_record_for_center_billing ok
开始取自动递增流水号逻辑
总列表长度: 1
执行sql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],参数:[{'ssn_org_id': '0003', 'ssn_key_name': 'FI_CENTER_BILLING_DETAIL', 'ssn_year': '2019', 'ssn_month': '08'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'FI_CENTER_BILLING_DETAIL', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '201908中心计费', 'SSN_YEAR': '2019', 'SSN_MONTH': '08', 'SSN_VALUE': '0000000025'}]
执行sql:[INSERT INTO FI_CENTER_BILLING_DETAIL (FCBD_ORG_ID,FCBD_ID, CUSTOMER_NO,METER_NO,PRICE_NO,PRICE,BILLING_VOLUME,BILLING_MONEY,REMAIN_VOLUME, REMAIN_MONEY,CALC_MSG,BILLING_TIME,TOTAL_BILLING_VOLUME,LAST_TOTAL_BILLING_VOLUME,FCBD_STATUS) VALUES(:fcbd_org_id,:fcbd_id, :customer_no,:meter_no,:price_no,:price,:billing_volume,:billing_money,:remain_volume, :remain_money,:calc_msg,:billing_time,:total_billing_volume,:last_total_billing_volume,:fcbd_status)],参数:[{'fcbd_org_id': '0003', 'fcbd_id': '00032019080000000025', 'customer_no': '00030000000029', 'meter_no': '00036000000039', 'price_no': '0003000026', 'price': 3.794, 'billing_volume': 1.0, 'billing_money': 3.79, 'remain_volume': None, 'remain_money': '655', 'calc_msg': '结算气量1.0 单价:3.794 结算金额:3.79', 'billing_time': datetime.datetime(2019, 8, 12, 15, 42, 43, 809299), 'total_billing_volume': '-8.0', 'last_total_billing_volume': '-7.0', 'fcbd_status': '1'}]
insert_fi_center_billing_detail ok
----------------------------------------------------------------------------------------
☆main结束--------------------------------------------------------------------------------
☆----------------------------------------------------------------------------------------
程序运行开始时间 2019-08-12 15:42:43.686624
程序运行结束时间: 2019-08-12 15:42:44.179935
整个程序运行总时间: 0 秒
☆----------------------------------------------------------------------------------------
程序运行开始time.clock(): 3.413335080960895e-07
程序运行结束time.clock(): 0.4927104816010999
整个程序运行总时间time.clock()差: 0.49271014026759186 秒
----------------------------------------------------------------------------------------
