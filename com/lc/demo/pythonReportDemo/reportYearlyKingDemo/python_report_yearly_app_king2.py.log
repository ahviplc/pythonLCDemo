============================================================================================================================================================åˆ†éš”ç¬¦
æ­¤æœºæ„: 0008
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 134
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0008 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00086000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 134
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0008', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0008', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000009'}]
0000000009
00086000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0008', '000820180000000008')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0008', 'sry_id': '000820180000000009', 'rtu_no': '00080000000001', 'flmeter_no': '00086000000001', 'customer_no': '00080000000001', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 2, 767637), 'year': '2018', 'std_sum': '1', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_std_flow_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_work_flow_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_temp_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_press_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'price': '2.3', 'use_volume_work': '2.0', 'use_volume_std': '1.0', 'use_money': '2.3', 'sum_total_volume': None, 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '23', 'remain_money': '20', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '5.0', 'sry_status': '1'}]
insert sys_serial_no ok
00086000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0008 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0015
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0015 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0017
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0017 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0005
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 27757
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0005 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 17
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00056000000028
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 135
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000394'}]
0000000394
00056000000028
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000381')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000394', 'rtu_no': '00050000000023', 'flmeter_no': '00056000000028', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 4, 422433), 'year': '2018', 'std_sum': '10145', 'work_sum': '11985', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_std_flow_time': datetime.datetime(2018, 12, 23, 0, 14, 39, 668000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_work_flow_time': datetime.datetime(2018, 12, 23, 0, 14, 39, 668000), 'max_temperature': '21.14', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 12, 26, 3, 38, 35, 356000), 'min_temp_time': datetime.datetime(2018, 12, 29, 13, 38, 37, 231000), 'max_press': '109.49', 'min_press': '-2498346090000.0', 'avg_press': '-18506267235.0', 'max_press_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_press_time': datetime.datetime(2018, 12, 29, 13, 38, 37, 231000), 'price': '1.52', 'use_volume_work': '11272.0', 'use_volume_std': '9543.0', 'use_money': '14505.36', 'sum_total_volume': '10145', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '76152.14', 'remain_volume': '0.0', 'fm_state': '98', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-18506267235.0', 'press_out': '-18506267235.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000028å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000006
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 6859
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000395'}]
0000000395
00050000000006
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000379')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000395', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000006', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 4, 722440), 'year': '2018', 'std_sum': '3', 'work_sum': '0', 'max_std_flow': '1108320570.0', 'min_std_flow': '26178.0', 'avg_std_flow': '1101425015.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 843000), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 19, 35, 974000), 'max_work_flow': '1118216506.0', 'min_work_flow': '262224450.0', 'avg_work_flow': '1105221506.0', 'max_work_flow_time': datetime.datetime(2018, 8, 11, 0, 19, 35, 990000), 'min_work_flow_time': datetime.datetime(2018, 7, 30, 5, 42, 52, 209000), 'max_temperature': '2.2933942e+23', 'min_temperature': '-2103696.5', 'avg_temperature': '2.0061765855080913e+20', 'max_temp_time': datetime.datetime(2018, 8, 2, 3, 18, 56, 705000), 'min_temp_time': datetime.datetime(2018, 7, 28, 7, 57, 34, 22000), 'max_press': '101.325', 'min_press': '-2103696.5', 'avg_press': '-10942.0', 'max_press_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 843000), 'min_press_time': datetime.datetime(2018, 7, 28, 1, 14, 55, 6000), 'price': '1.4900001', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '10.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '87', 'valve_state_msg': '87', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-10942.0', 'press_out': '-10942.0', 'temp_in': '2.0061765855080913e+20', 'temp_out': '2.0061765855080913e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000006å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000027
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 176
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000396'}]
0000000396
00056000000027
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000391')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000396', 'rtu_no': '00050000000022', 'flmeter_no': '00056000000027', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 5, 122412), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_temp_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_press_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '73340', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '522.8', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000027å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000010
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1978
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000397'}]
0000000397
00056000000010
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000392')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000397', 'rtu_no': '00050000000004', 'flmeter_no': '00056000000010', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 5, 442441), 'year': '2018', 'std_sum': '525342', 'work_sum': '525342', 'max_std_flow': '1883308032.0', 'min_std_flow': '0.0', 'avg_std_flow': '112844395.0', 'max_std_flow_time': datetime.datetime(2018, 11, 28, 22, 5, 22, 719000), 'min_std_flow_time': datetime.datetime(2018, 10, 1, 22, 38, 58, 914000), 'max_work_flow': '1675051846.0', 'min_work_flow': '0.0', 'avg_work_flow': '109431540.0', 'max_work_flow_time': datetime.datetime(2018, 12, 4, 19, 49, 18, 804000), 'min_work_flow_time': datetime.datetime(2018, 10, 1, 22, 38, 58, 914000), 'max_temperature': '6.681447e+35', 'min_temperature': '0.0', 'avg_temperature': '6.746571029402958e+32', 'max_temp_time': datetime.datetime(2018, 10, 14, 20, 13, 57, 671000), 'min_temp_time': datetime.datetime(2018, 10, 4, 2, 29, 5, 945000), 'max_press': '868.0', 'min_press': '0.0', 'avg_press': '82.0', 'max_press_time': datetime.datetime(2018, 10, 4, 2, 29, 5, 945000), 'min_press_time': datetime.datetime(2018, 10, 1, 10, 27, 59, 304000), 'price': '1.52', 'use_volume_work': '79425.0', 'use_volume_std': '79425.0', 'use_money': '120726.0', 'sum_total_volume': '525342', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '4298.49', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '82.0', 'press_out': '82.0', 'temp_in': '6.746571029402958e+32', 'temp_out': '6.746571029402958e+32', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000010å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000024
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 28
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000398'}]
0000000398
00056000000024
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000388')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000398', 'rtu_no': '00050000000019', 'flmeter_no': '00056000000024', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 5, 742443), 'year': '2018', 'std_sum': '174131', 'work_sum': '174131', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_std_flow_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_work_flow_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'max_temperature': '19.01', 'min_temperature': '8.53', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 27, 5, 49, 35, 90000), 'min_temp_time': datetime.datetime(2018, 12, 29, 5, 49, 42, 137000), 'max_press': '86.29', 'min_press': '86.29', 'avg_press': '86.0', 'max_press_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_press_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'price': '1.43', 'use_volume_work': '8061.0', 'use_volume_std': '8061.0', 'use_money': '11527.23', 'sum_total_volume': '174131', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5645.89', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '86.0', 'press_out': '86.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000024å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 7183
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000399'}]
0000000399
00050000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000385')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000399', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 6, 42412), 'year': '2018', 'std_sum': '520', 'work_sum': '520', 'max_std_flow': '1101004800.0', 'min_std_flow': '0.0', 'avg_std_flow': '1544653.0', 'max_std_flow_time': datetime.datetime(2018, 8, 16, 2, 36, 34, 228000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 48, 32, 439000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 874000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 48, 32, 439000), 'max_temperature': '2.2977563e+23', 'min_temperature': '-3451289.5', 'avg_temperature': '5.116989920645969e+20', 'max_temp_time': datetime.datetime(2018, 8, 13, 2, 9, 39, 326000), 'min_temp_time': datetime.datetime(2018, 8, 7, 22, 19, 35, 97000), 'max_press': '154898956000.0', 'min_press': '-3447184.5', 'avg_press': '86253858.0', 'max_press_time': datetime.datetime(2018, 8, 12, 22, 9, 39, 76000), 'min_press_time': datetime.datetime(2018, 8, 8, 10, 49, 32, 272000), 'price': '0.0', 'use_volume_work': '520.0', 'use_volume_std': '520.0', 'use_money': '0.0', 'sum_total_volume': '520', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '83', 'valve_state_msg': '83', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '86253858.0', 'press_out': '86253858.0', 'temp_in': '5.116989920645969e+20', 'temp_out': '5.116989920645969e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000013
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1879
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000400'}]
0000000400
00056000000013
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000386')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000400', 'rtu_no': '00050000000012', 'flmeter_no': '00056000000013', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 6, 392411), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '1108320570.0', 'min_std_flow': '0.0', 'avg_std_flow': '4128921.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 12, 58, 32, 45000), 'min_std_flow_time': datetime.datetime(2018, 10, 1, 22, 11, 16, 414000), 'max_work_flow': '1108320570.0', 'min_work_flow': '0.0', 'avg_work_flow': '4128921.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 12, 58, 32, 45000), 'min_work_flow_time': datetime.datetime(2018, 10, 1, 22, 11, 16, 414000), 'max_temperature': '4.775683e+23', 'min_temperature': '-2103696.5', 'avg_temperature': '2.541608834486429e+20', 'max_temp_time': datetime.datetime(2018, 12, 17, 4, 25, 41, 543000), 'min_temp_time': datetime.datetime(2018, 9, 30, 5, 35, 18, 23000), 'max_press': '3.7779616e+22', 'min_press': '-2103696.5', 'avg_press': '2.0106235231506117e+19', 'max_press_time': datetime.datetime(2018, 10, 26, 18, 56, 51, 347000), 'min_press_time': datetime.datetime(2018, 9, 26, 11, 52, 20, 617000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '-3.0', 'use_money': '-6.84', 'sum_total_volume': '80351', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '1230.67', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '2.0106235231506117e+19', 'press_out': '2.0106235231506117e+19', 'temp_in': '2.541608834486429e+20', 'temp_out': '2.541608834486429e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000013å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 7279
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000401'}]
0000000401
00050000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000380')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000401', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 6, 692408), 'year': '2018', 'std_sum': '3', 'work_sum': '0', 'max_std_flow': '1715605414.0', 'min_std_flow': '262224450.0', 'avg_std_flow': '1098663791.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 14, 51, 36, 283000), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 23, 31, 23, 678000), 'max_work_flow': '1108320570.0', 'min_work_flow': '262224450.0', 'avg_work_flow': '1102112988.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 37, 359000), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 23, 31, 23, 678000), 'max_temperature': '2.2910694e+23', 'min_temperature': '-2107792.5', 'avg_temperature': '3.147505701332601e+20', 'max_temp_time': datetime.datetime(2018, 8, 7, 4, 39, 47, 526000), 'min_temp_time': datetime.datetime(2018, 7, 28, 18, 57, 58, 100000), 'max_press': '101.325', 'min_press': '-2107801.5', 'avg_press': '-20712.0', 'max_press_time': datetime.datetime(2018, 9, 19, 10, 32, 37, 359000), 'min_press_time': datetime.datetime(2018, 8, 9, 17, 29, 34, 402000), 'price': '1.5900002', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '93', 'valve_state_msg': '93', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-20712.0', 'press_out': '-20712.0', 'temp_in': '3.147505701332601e+20', 'temp_out': '3.147505701332601e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000025
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 223
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000402'}]
0000000402
00056000000025
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000390')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000402', 'rtu_no': '00050000000020', 'flmeter_no': '00056000000025', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 7, 32409), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_temp_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_press_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '35381', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '9132.72', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000025å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 198
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000403'}]
0000000403
00056000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000378')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000403', 'rtu_no': '00050000000015', 'flmeter_no': '00056000000021', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 7, 312412), 'year': '2018', 'std_sum': '40070', 'work_sum': '43337', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 17, 809000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 42, 26, 903000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 17, 809000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 42, 26, 903000), 'max_temperature': '34.03', 'min_temperature': '19.18', 'avg_temperature': '29.0', 'max_temp_time': datetime.datetime(2018, 12, 21, 21, 18, 29, 90000), 'min_temp_time': datetime.datetime(2018, 12, 24, 6, 19, 31, 200000), 'max_press': '101.05', 'min_press': '82.65', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 12, 31, 12, 58, 24, 278000), 'min_press_time': datetime.datetime(2018, 12, 28, 6, 33, 26, 247000), 'price': '1.46', 'use_volume_work': '2997.0', 'use_volume_std': '2804.0', 'use_money': '4093.84', 'sum_total_volume': '40070', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '39451.92', 'remain_volume': '0.0', 'fm_state': '33', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '29.0', 'temp_out': '29.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000029
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 180
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000404'}]
0000000404
00056000000029
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000384')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000404', 'rtu_no': '00050000000024', 'flmeter_no': '00056000000029', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 7, 632443), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'price': '161.51', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '23284', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '3134.36', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000029å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 222
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000405'}]
0000000405
00056000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000387')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000405', 'rtu_no': '00050000000017', 'flmeter_no': '00056000000022', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 7, 892408), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'price': '1.61', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '5021', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '430.89', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000023
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 2
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000406'}]
0000000406
00056000000023
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000389')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000406', 'rtu_no': '00050000000018', 'flmeter_no': '00056000000023', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 8, 162438), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_std_flow_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_work_flow_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_temperature': '14.04', 'min_temperature': '8.0', 'avg_temperature': '11.0', 'max_temp_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_temp_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_press': '96.85', 'min_press': '91.27', 'avg_press': '94.0', 'max_press_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_press_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'price': '220.52', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '144825', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '4948.6', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '94.0', 'press_out': '94.0', 'temp_in': '11.0', 'temp_out': '11.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000023å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 169
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000407'}]
0000000407
00056000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000382')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000407', 'rtu_no': '00050000000015', 'flmeter_no': '00056000000020', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 8, 462409), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 16, 637000), 'min_std_flow_time': datetime.datetime(2018, 12, 28, 11, 38, 22, 918000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 16, 637000), 'min_work_flow_time': datetime.datetime(2018, 12, 28, 11, 38, 22, 918000), 'max_temperature': '1.7374836e+18', 'min_temperature': '-362.41', 'avg_temperature': '1.028096804733728e+16', 'max_temp_time': datetime.datetime(2018, 12, 25, 11, 20, 27, 684000), 'min_temp_time': datetime.datetime(2018, 12, 31, 10, 55, 29, 637000), 'max_press': '101.53', 'min_press': '-11.17', 'avg_press': '95.0', 'max_press_time': datetime.datetime(2018, 12, 29, 1, 57, 27, 106000), 'min_press_time': datetime.datetime(2018, 12, 31, 10, 55, 29, 637000), 'price': '1.59', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '29928', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '469.55', 'remain_volume': '0.0', 'fm_state': '20', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '95.0', 'press_out': '95.0', 'temp_in': '1.028096804733728e+16', 'temp_out': '1.028096804733728e+16', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000026
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 230
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000408'}]
0000000408
00056000000026
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000377')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000408', 'rtu_no': '00050000000021', 'flmeter_no': '00056000000026', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 8, 752410), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_temp_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_press_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'price': '1.61', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '7985', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '1489.91', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000026å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 860
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000409'}]
0000000409
00050000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000383')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000409', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 9, 62443), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_std_flow_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_work_flow_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_temp_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_press_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'price': '1.71', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '238579', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '56355.66', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': '80', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000014
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 156
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000410'}]
0000000410
00056000000014
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000393')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000410', 'rtu_no': '00050000000013', 'flmeter_no': '00056000000014', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 9, 342415), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '3439', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '730.38', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000014å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0005 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0007
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 324
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0007 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00076000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 324
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0007', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0007', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000008'}]
0000000008
00076000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0007', '000720180000000007')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0007', 'sry_id': '000720180000000008', 'rtu_no': '00070000000001', 'flmeter_no': '00076000000001', 'customer_no': '00070000000001', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 9, 772443), 'year': '2018', 'std_sum': '781', 'work_sum': '777', 'max_std_flow': '4.02', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 10, 34, 48, 84000), 'min_std_flow_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 23, 31, 59, 653000), 'min_work_flow_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'max_temperature': '20.3', 'min_temperature': '-1.9', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 11, 9, 11, 45, 4, 718000), 'min_temp_time': datetime.datetime(2018, 12, 29, 7, 33, 49, 59000), 'max_press': '139.5', 'min_press': '0.0', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 11, 16, 9, 34, 13, 100000), 'min_press_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'price': '3.09', 'use_volume_work': '777.0', 'use_volume_std': '781.0', 'use_money': '2413.29', 'sum_total_volume': None, 'sum_total_money': 103.0, 'total_buy_volume': None, 'total_buy_money': '2192', 'remain_money': '2089', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '10.0', 'sry_status': '1'}]
insert sys_serial_no ok
00076000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0007 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0009
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0009 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0011
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0011 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0012
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 18
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0012 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00126000000002
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 18
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0012', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0012', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000008'}]
0000000008
00126000000002
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0012', '001220180000000007')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0012', 'sry_id': '001220180000000008', 'rtu_no': '00120000000002', 'flmeter_no': '00126000000002', 'customer_no': '00120000000001', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 10, 292449), 'year': '2018', 'std_sum': '11', 'work_sum': '12', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_std_flow_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_work_flow_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_temperature': '20.0', 'min_temperature': '20.0', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_temp_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_press': '101.1', 'min_press': '101.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_press_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 19.0, 'total_buy_volume': None, 'total_buy_money': '24', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00126000000002å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0012 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0016
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0016 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0003
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 49303
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0003 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 71
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00036000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 787
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000366'}]
0000000366
00036000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000327')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000366', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000022', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 12, 724803), 'year': '2018', 'std_sum': '1500674.370', 'work_sum': '428552.710', 'max_std_flow': '173.94', 'min_std_flow': '0.0', 'avg_std_flow': '107.0', 'max_std_flow_time': datetime.datetime(2018, 8, 14, 0, 0, 26), 'min_std_flow_time': datetime.datetime(2018, 7, 25, 16, 0, 22), 'max_work_flow': '101.09', 'min_work_flow': '0.0', 'avg_work_flow': '31.0', 'max_work_flow_time': datetime.datetime(2018, 8, 14, 16, 0, 25), 'min_work_flow_time': datetime.datetime(2018, 7, 25, 16, 0, 22), 'max_temperature': '41.54', 'min_temperature': '16.591', 'avg_temperature': '29.0', 'max_temp_time': datetime.datetime(2018, 8, 24, 16, 0, 23), 'min_temp_time': datetime.datetime(2018, 10, 24, 2, 7, 18), 'max_press': '431.816', 'min_press': '133.135', 'avg_press': '355.0', 'max_press_time': datetime.datetime(2018, 9, 25, 2, 0, 23), 'min_press_time': datetime.datetime(2018, 8, 14, 16, 0, 25), 'price': '0.000', 'use_volume_work': '75799.62', 'use_volume_std': '258077.13000000012', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '355.0', 'press_out': '355.0', 'temp_in': '29.0', 'temp_out': '29.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000005
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 4783
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000367'}]
0000000367
00030000000005
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000340')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000367', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000005', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 13, 64803), 'year': '2018', 'std_sum': '148', 'work_sum': '154', 'max_std_flow': '2051080329.0', 'min_std_flow': '0.0', 'avg_std_flow': '12187862.0', 'max_std_flow_time': datetime.datetime(2018, 8, 25, 2, 12, 3, 274000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 50, 8, 548000), 'max_work_flow': '1183838787.0', 'min_work_flow': '0.0', 'avg_work_flow': '7026997.0', 'max_work_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 53, 814000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 50, 8, 548000), 'max_temperature': '5.526836e+22', 'min_temperature': '-5.0393358e+35', 'avg_temperature': '-1.0535931026782638e+32', 'max_temp_time': datetime.datetime(2018, 11, 1, 19, 46, 6, 142000), 'min_temp_time': datetime.datetime(2018, 10, 19, 10, 51, 7, 329000), 'max_press': '102.06', 'min_press': '-2112016.5', 'avg_press': '-2404.0', 'max_press_time': datetime.datetime(2018, 11, 22, 8, 20, 5, 948000), 'min_press_time': datetime.datetime(2018, 11, 1, 15, 42, 3, 286000), 'price': '3.5', 'use_volume_work': '104.0', 'use_volume_std': '-4337516.0', 'use_money': '-15181306.0', 'sum_total_volume': '148', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '212.5', 'remain_volume': '0.0', 'fm_state': '15', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-2404.0', 'press_out': '-2404.0', 'temp_in': '-1.0535931026782638e+32', 'temp_out': '-1.0535931026782638e+32', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000005å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000066
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 14
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000368'}]
0000000368
00036000000066
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000303')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000368', 'rtu_no': '00030000000108', 'flmeter_no': '00036000000066', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 13, 434803), 'year': '2018', 'std_sum': '109', 'work_sum': '101', 'max_std_flow': '7.5', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 20, 12, 3, 41, 700000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 24, 12, 20, 19, 528000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'max_temperature': '20.5', 'min_temperature': '12.1', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 12, 35, 52, 309000), 'min_temp_time': datetime.datetime(2018, 12, 22, 1, 21, 14, 996000), 'max_press': '106.9', 'min_press': '101.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 24, 12, 20, 19, 528000), 'min_press_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'price': '1.0', 'use_volume_work': '101.0', 'use_volume_std': '109.0', 'use_money': '109.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000066å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000039
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 755
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000369'}]
0000000369
00036000000039
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000325')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000369', 'rtu_no': '00030000000080', 'flmeter_no': '00036000000039', 'customer_no': '00030000000029', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 13, 764798), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '10.34', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 1, 9, 51, 18, 66000), 'min_std_flow_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 16, 25, 39, 793000), 'min_work_flow_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_temperature': '22.6', 'min_temperature': '0.0', 'avg_temperature': '1.0', 'max_temp_time': datetime.datetime(2018, 11, 1, 15, 59, 39, 240000), 'min_temp_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_press': '102.2', 'min_press': '0.0', 'avg_press': '7.0', 'max_press_time': datetime.datetime(2018, 11, 1, 15, 57, 35, 256000), 'min_press_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'price': '2.32', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '1095', 'remain_money': '1095', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '7.0', 'press_out': '7.0', 'temp_in': '1.0', 'temp_out': '1.0', 'rssi': '7.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000039å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000037
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 312
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000370'}]
0000000370
00036000000037
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000328')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000370', 'rtu_no': '00030000000064', 'flmeter_no': '00036000000037', 'customer_no': '00030000000018', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 14, 114775), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_std_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_work_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_temperature': '19.0', 'min_temperature': '0.0', 'avg_temperature': '7.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 0, 21, 11, 418000), 'min_temp_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '46.0', 'max_press_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_press_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 6.0, 'total_buy_volume': None, 'total_buy_money': '6', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '46.0', 'press_out': '46.0', 'temp_in': '7.0', 'temp_out': '7.0', 'rssi': '5.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000037å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000028
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1618
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000371'}]
0000000371
00036000000028
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000321')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000371', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000028', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 14, 444774), 'year': '2018', 'std_sum': '311644.480', 'work_sum': '287074.660', 'max_std_flow': '110.62', 'min_std_flow': '0.0', 'avg_std_flow': '8.0', 'max_std_flow_time': datetime.datetime(2018, 10, 31, 6, 0, 24), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 23), 'max_work_flow': '107.11', 'min_work_flow': '0.0', 'avg_work_flow': '8.0', 'max_work_flow_time': datetime.datetime(2018, 8, 9, 16, 0, 23), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 23), 'max_temperature': '37.858', 'min_temperature': '3.406', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 8, 2, 16, 0, 24), 'min_temp_time': datetime.datetime(2018, 11, 9, 6, 0, 24), 'max_press': '113.946', 'min_press': '101.325', 'avg_press': '108.0', 'max_press_time': datetime.datetime(2018, 11, 1, 16, 0, 26), 'min_press_time': datetime.datetime(2018, 11, 23, 0, 0, 23), 'price': '0.000', 'use_volume_work': '33982.06999999998', 'use_volume_std': '34906.01000000001', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '108.0', 'press_out': '108.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000028å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000051
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 643
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000372'}]
0000000372
00036000000051
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000314')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000372', 'rtu_no': '00030000000093', 'flmeter_no': '00036000000051', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 14, 724773), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 17, 16, 38, 6, 450000), 'min_std_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 17, 16, 38, 6, 450000), 'min_work_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'max_temperature': '23.4', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 11, 0, 20, 56, 632000), 'min_temp_time': datetime.datetime(2018, 12, 7, 8, 40, 54, 795000), 'max_press': '114.8', 'min_press': '101.3', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 12, 30, 10, 24, 41, 950000), 'min_press_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'price': '1.0', 'use_volume_work': '-2.0', 'use_volume_std': '-2.0', 'use_money': '-2.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '5', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000051å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000019
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 60
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000373'}]
0000000373
00030000000019
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000353')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000373', 'rtu_no': '00030000000049', 'flmeter_no': '00030000000019', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 15, 14807), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 9, 11, 16, 36, 733000), 'min_std_flow_time': datetime.datetime(2018, 11, 2, 13, 11, 30, 924000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 13, 27, 16, 356000), 'min_work_flow_time': datetime.datetime(2018, 9, 9, 11, 15, 30, 177000), 'max_temperature': '21.9', 'min_temperature': '-25.7', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 13, 25, 14, 120000), 'min_temp_time': datetime.datetime(2018, 9, 9, 11, 15, 30, 177000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '11.0', 'max_press_time': datetime.datetime(2018, 9, 9, 11, 16, 36, 733000), 'min_press_time': datetime.datetime(2018, 11, 2, 13, 11, 30, 924000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': '0', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '59', 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '11.0', 'press_out': '11.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '10.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000019å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 706
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000374'}]
0000000374
00030000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000335')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000374', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 15, 304776), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_temp_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_press_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '43578', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '56492.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 749
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000375'}]
0000000375
00030000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000358')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000375', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 15, 624800), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_temp_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_press_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '14220', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '85830.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000063
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 586
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000376'}]
0000000376
00036000000063
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000323')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000376', 'rtu_no': '00030000000105', 'flmeter_no': '00036000000063', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 15, 944773), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 15, 56, 168000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 48, 590000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 15, 56, 168000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 48, 590000), 'max_temperature': '19.2', 'min_temperature': '9.3', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 0, 20, 56, 918000), 'min_temp_time': datetime.datetime(2018, 12, 25, 14, 6, 12, 418000), 'max_press': '103.1', 'min_press': '92.6', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 14, 19, 33, 0, 90000), 'min_press_time': datetime.datetime(2018, 12, 15, 23, 37, 4, 590000), 'price': '1.0', 'use_volume_work': '-2.0', 'use_volume_std': '-2.0', 'use_money': '-2.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '3.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000063å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000013
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 829
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000377'}]
0000000377
00030000000013
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000337')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000377', 'rtu_no': '00030000000043', 'flmeter_no': '00030000000013', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 16, 264803), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '20.0', 'max_std_flow_time': datetime.datetime(2018, 9, 4, 18, 11, 17, 600000), 'min_std_flow_time': datetime.datetime(2018, 10, 30, 10, 33, 37, 530000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 37, 13, 749000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 400000), 'max_temperature': '25.8', 'min_temperature': '-25.7', 'avg_temperature': '-18.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 9, 20, 30, 909000), 'min_temp_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 400000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 9, 4, 18, 11, 17, 600000), 'min_press_time': datetime.datetime(2018, 10, 31, 13, 41, 42, 548000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '5310', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '-18.0', 'temp_out': '-18.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000013å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000003
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 5655
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000378'}]
0000000378
00030000000003
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000307')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000378', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000003', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 16, 614772), 'year': '2018', 'std_sum': '64', 'work_sum': '67', 'max_std_flow': '2142519759.0', 'min_std_flow': '0.0', 'avg_std_flow': '17855155.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 16, 54, 9, 470000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 5, 751000), 'max_work_flow': '1241223232.0', 'min_work_flow': '0.0', 'avg_work_flow': '7043536.0', 'max_work_flow_time': datetime.datetime(2018, 7, 25, 16, 3, 11, 914000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 5, 751000), 'max_temperature': '2.5821684e+38', 'min_temperature': '-1.0115858e+36', 'avg_temperature': '1.8219899872459316e+35', 'max_temp_time': datetime.datetime(2018, 8, 4, 16, 4, 43, 87000), 'min_temp_time': datetime.datetime(2018, 8, 3, 19, 4, 42, 837000), 'max_press': '128.0', 'min_press': '-8449346.0', 'avg_press': '-7230.0', 'max_press_time': datetime.datetime(2018, 10, 24, 21, 47, 6, 622000), 'min_press_time': datetime.datetime(2018, 11, 1, 11, 25, 21, 511000), 'price': '2.5', 'use_volume_work': '67.0', 'use_volume_std': '64.0', 'use_money': '160.0', 'sum_total_volume': '64', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '292.5', 'remain_volume': '0.0', 'fm_state': '06', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-7230.0', 'press_out': '-7230.0', 'temp_in': '1.8219899872459316e+35', 'temp_out': '1.8219899872459316e+35', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000003å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000057
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 512
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000379'}]
0000000379
00036000000057
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000347')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000379', 'rtu_no': '00030000000099', 'flmeter_no': '00036000000057', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 16, 994773), 'year': '2018', 'std_sum': '12', 'work_sum': '12', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 29, 7, 30, 41, 934000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 1, 21, 45, 215000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 7, 30, 41, 934000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 1, 21, 45, 215000), 'max_temperature': '20.1', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 12, 10, 26, 57, 719000), 'min_temp_time': datetime.datetime(2018, 12, 31, 0, 21, 11, 59000), 'max_press': '106.9', 'min_press': '101.5', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 11, 20, 42, 11, 728000), 'min_press_time': datetime.datetime(2018, 12, 19, 15, 34, 32, 262000), 'price': '1.0', 'use_volume_work': '12.0', 'use_volume_std': '12.0', 'use_money': '12.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000057å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000055
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 56
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000380'}]
0000000380
00036000000055
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000348')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000380', 'rtu_no': '00030000000097', 'flmeter_no': '00036000000055', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 17, 324777), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 2, 24, 41, 200000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 51, 49, 75000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 2, 24, 41, 200000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 51, 49, 75000), 'max_temperature': '19.2', 'min_temperature': '9.9', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 12, 14, 24, 23, 429000), 'min_temp_time': datetime.datetime(2018, 12, 31, 8, 28, 15, 996000), 'max_press': '103.6', 'min_press': '99.4', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 31, 9, 28, 37, 981000), 'min_press_time': datetime.datetime(2018, 12, 13, 7, 27, 45, 56000), 'price': '1.0', 'use_volume_work': '-3.0', 'use_volume_std': '-3.0', 'use_money': '-3.0', 'sum_total_volume': None, 'sum_total_money': 8.0, 'total_buy_volume': None, 'total_buy_money': '16', 'remain_money': '8', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000055å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000080
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 6
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000381'}]
0000000381
00036000000080
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000309')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000381', 'rtu_no': '00030000000120', 'flmeter_no': '00036000000080', 'customer_no': '00030000000050', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 17, 654773), 'year': '2018', 'std_sum': '0', 'work_sum': '1', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 26, 11, 11, 55, 457000), 'min_std_flow_time': datetime.datetime(2019, 3, 26, 14, 2, 35, 281000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 26, 11, 11, 55, 457000), 'min_work_flow_time': datetime.datetime(2019, 3, 26, 14, 2, 35, 281000), 'max_temperature': '20.0', 'min_temperature': '0.1', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2019, 3, 26, 13, 54, 3, 265000), 'min_temp_time': datetime.datetime(2019, 3, 26, 11, 15, 20, 86000), 'max_press': '101.3', 'min_press': '0.0', 'avg_press': '50.0', 'max_press_time': datetime.datetime(2019, 3, 26, 13, 54, 3, 265000), 'min_press_time': datetime.datetime(2019, 3, 26, 11, 15, 20, 86000), 'price': '665.6244', 'use_volume_work': '1.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '600', 'remain_money': '600', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '50.0', 'press_out': '50.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000080å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000043
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 235
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000382'}]
0000000382
00036000000043
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000306')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000382', 'rtu_no': '00030000000084', 'flmeter_no': '00036000000043', 'customer_no': '00030000000035', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 17, 984773), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 25, 0, 22, 13, 762000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 12, 34, 30, 561000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 0, 22, 13, 762000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 12, 34, 30, 561000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 11, 13, 13, 51, 30, 639000), 'min_temp_time': datetime.datetime(2018, 11, 13, 15, 51, 19, 152000), 'max_press': '1915.2', 'min_press': '0.0', 'avg_press': '168.0', 'max_press_time': datetime.datetime(2018, 11, 13, 15, 49, 16, 875000), 'min_press_time': datetime.datetime(2018, 11, 13, 13, 50, 32, 965000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 650.0, 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '168.0', 'press_out': '168.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000043å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000010
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 114
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000383'}]
0000000383
00036000000010
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000349')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000383', 'rtu_no': None, 'flmeter_no': '00036000000010', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 18, 274772), 'year': '2018', 'std_sum': '2523.170', 'work_sum': '2557.740', 'max_std_flow': '40.4', 'min_std_flow': '0.0', 'avg_std_flow': '14.0', 'max_std_flow_time': datetime.datetime(2018, 10, 25, 0, 0, 46), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 1, 17), 'max_work_flow': '41.09', 'min_work_flow': '0.0', 'avg_work_flow': '14.0', 'max_work_flow_time': datetime.datetime(2018, 10, 26, 0, 1, 3), 'min_work_flow_time': datetime.datetime(2018, 8, 11, 0, 1, 17), 'max_temperature': '26.636', 'min_temperature': '19.225', 'avg_temperature': '24.0', 'max_temp_time': datetime.datetime(2018, 8, 15, 0, 0, 51), 'min_temp_time': datetime.datetime(2018, 10, 19, 0, 0, 45), 'max_press': '102.385', 'min_press': '98.676', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 10, 12, 0, 0, 48), 'min_press_time': datetime.datetime(2018, 8, 17, 0, 0, 47), 'price': '0.000', 'use_volume_work': '2527.87', 'use_volume_std': '2494.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '24.0', 'temp_out': '24.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000010å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000101
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000384'}]
0000000384
00036000000101
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000344')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000384', 'rtu_no': '00030000000141', 'flmeter_no': '00036000000101', 'customer_no': '00030000000068', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 18, 674803), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'min_std_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'min_work_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_temperature': '20.0', 'min_temperature': '20.0', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'min_temp_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'min_press_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '01', 'battery_voltage': None, 'battery_level': '22', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000101å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000003
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 679
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000385'}]
0000000385
00036000000003
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000339')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000385', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000003', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 19, 24804), 'year': '2018', 'std_sum': '64', 'work_sum': '67', 'max_std_flow': '9306112.0', 'min_std_flow': '0.0', 'avg_std_flow': '22585.0', 'max_std_flow_time': datetime.datetime(2018, 12, 3, 10, 46, 11, 364000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 12, 0, 15, 49000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 43, 11, 590000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 12, 0, 15, 49000), 'max_temperature': '2.0172747e+36', 'min_temperature': '0.0', 'avg_temperature': '2.9709494845360823e+33', 'max_temp_time': datetime.datetime(2018, 12, 4, 10, 36, 50, 871000), 'min_temp_time': datetime.datetime(2018, 12, 3, 10, 46, 11, 364000), 'max_press': '101.62', 'min_press': '-2109584.5', 'avg_press': '-3783.0', 'max_press_time': datetime.datetime(2018, 11, 30, 7, 31, 11, 657000), 'min_press_time': datetime.datetime(2018, 12, 6, 23, 30, 14, 63000), 'price': '2.5', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '64', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '293.61', 'remain_volume': '0.0', 'fm_state': '06', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '87', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-3783.0', 'press_out': '-3783.0', 'temp_in': '2.9709494845360823e+33', 'temp_out': '2.9709494845360823e+33', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000003å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 96
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000386'}]
0000000386
00030000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000324')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000386', 'rtu_no': '00030000000052', 'flmeter_no': '00030000000022', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 19, 314807), 'year': '2018', 'std_sum': '4321', 'work_sum': '1234', 'max_std_flow': '0.5', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 17, 8, 37, 22, 503000), 'min_std_flow_time': datetime.datetime(2018, 9, 18, 10, 29, 38, 822000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 18, 10, 43, 13, 916000), 'min_work_flow_time': datetime.datetime(2018, 9, 6, 19, 47, 14, 180000), 'max_temperature': '2.5', 'min_temperature': '2.0', 'avg_temperature': '2.0', 'max_temp_time': datetime.datetime(2018, 9, 17, 8, 37, 22, 503000), 'min_temp_time': datetime.datetime(2018, 9, 18, 10, 29, 38, 822000), 'max_press': '10.1', 'min_press': '10.1', 'avg_press': '10.0', 'max_press_time': datetime.datetime(2018, 9, 18, 10, 43, 13, 916000), 'min_press_time': datetime.datetime(2018, 9, 6, 19, 47, 14, 180000), 'price': '0.1', 'use_volume_work': '1234.0', 'use_volume_std': '4321.0', 'use_money': '432.1', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '63', 'press_in': '10.0', 'press_out': '10.0', 'temp_in': '2.0', 'temp_out': '2.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000041
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 127
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000387'}]
0000000387
00036000000041
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000313')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000387', 'rtu_no': '00030000000082', 'flmeter_no': '00036000000041', 'customer_no': '00030000000031', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 19, 674775), 'year': '2018', 'std_sum': '4', 'work_sum': '4', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 21, 0, 20, 26, 45000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 16, 39, 32, 598000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 21, 0, 20, 26, 45000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 16, 39, 32, 598000), 'max_temperature': '20.6', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 21, 9, 16, 3, 723000), 'min_temp_time': datetime.datetime(2018, 11, 14, 15, 28, 29, 565000), 'max_press': '102.7', 'min_press': '88.4', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 11, 14, 15, 28, 29, 565000), 'min_press_time': datetime.datetime(2018, 11, 15, 10, 29, 1, 347000), 'price': '1.0', 'use_volume_work': '-3.0', 'use_volume_std': '-3.0', 'use_money': '-3.0', 'sum_total_volume': None, 'sum_total_money': 15.0, 'total_buy_volume': None, 'total_buy_money': '15', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000041å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000068
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 22
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000388'}]
0000000388
00036000000068
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000365')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000388', 'rtu_no': '00030000000110', 'flmeter_no': '00036000000068', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 19, 974772), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 11, 668000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 42, 825000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 11, 668000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 42, 825000), 'max_temperature': '20.5', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 13, 36, 50, 496000), 'min_temp_time': datetime.datetime(2018, 12, 28, 15, 21, 51, 496000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '88.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 20, 56, 403000), 'min_press_time': datetime.datetime(2018, 12, 28, 15, 21, 51, 496000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '2', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '88.0', 'press_out': '88.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000068å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000042
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 483
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000389'}]
0000000389
00036000000042
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000354')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000389', 'rtu_no': '00030000000083', 'flmeter_no': '00036000000042', 'customer_no': '00030000000032', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 20, 264807), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '19.75', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 13, 10, 49, 12, 658000), 'min_std_flow_time': datetime.datetime(2018, 11, 17, 8, 23, 31, 42000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 21, 10, 22, 19, 197000), 'min_work_flow_time': datetime.datetime(2018, 11, 17, 8, 23, 31, 42000), 'max_temperature': '26.5', 'min_temperature': '14.9', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 19, 17, 21, 17, 669000), 'min_temp_time': datetime.datetime(2018, 11, 20, 10, 11, 29, 883000), 'max_press': '102.3', 'min_press': '92.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 11, 20, 23, 1, 51, 621000), 'min_press_time': datetime.datetime(2018, 11, 19, 13, 49, 31, 769000), 'price': '1.0', 'use_volume_work': '-7.0', 'use_volume_std': '-7.0', 'use_money': '-7.0', 'sum_total_volume': None, 'sum_total_money': 17.0, 'total_buy_volume': None, 'total_buy_money': '19', 'remain_money': '2', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '8.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000042å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000015
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 263
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000390'}]
0000000390
00030000000015
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000297')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000390', 'rtu_no': '00030000000045', 'flmeter_no': '00030000000015', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 20, 574802), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '21.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 16, 51, 58, 303000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 13, 58, 45, 280000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 52, 0, 774000), 'min_work_flow_time': datetime.datetime(2018, 9, 10, 9, 4, 30, 239000), 'max_temperature': '0.0', 'min_temperature': '-25.7', 'avg_temperature': '-22.0', 'max_temp_time': datetime.datetime(2018, 11, 7, 10, 52, 0, 774000), 'min_temp_time': datetime.datetime(2018, 9, 10, 9, 4, 30, 239000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '88.0', 'max_press_time': datetime.datetime(2018, 9, 19, 16, 51, 58, 303000), 'min_press_time': datetime.datetime(2018, 10, 31, 13, 58, 45, 280000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '2103', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '88.0', 'press_out': '88.0', 'temp_in': '-22.0', 'temp_out': '-22.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000015å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000067
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 81
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000391'}]
0000000391
00036000000067
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000359')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000391', 'rtu_no': '00030000000109', 'flmeter_no': '00036000000067', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 20, 904807), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 3, 356000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 10, 1, 5, 465000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 3, 356000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 10, 1, 5, 465000), 'max_temperature': '20.5', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 12, 47, 45, 450000), 'min_temp_time': datetime.datetime(2018, 12, 20, 15, 21, 57, 121000), 'max_press': '113.5', 'min_press': '0.0', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 12, 26, 3, 17, 52, 465000), 'min_press_time': datetime.datetime(2018, 12, 20, 15, 21, 57, 121000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '2.0', 'use_money': '2.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '5', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '11.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000067å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000040
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1932
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000392'}]
0000000392
00036000000040
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000341')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000392', 'rtu_no': '00030000000081', 'flmeter_no': '00036000000040', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 21, 234772), 'year': '2018', 'std_sum': '2', 'work_sum': '1', 'max_std_flow': '19.84', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 9, 10, 48, 38, 934000), 'min_std_flow_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 5, 13, 24, 51, 905000), 'min_work_flow_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_temperature': '27.0', 'min_temperature': '0.0', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 10, 30, 10, 19, 8, 780000), 'min_temp_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_press': '110.7', 'min_press': '0.0', 'avg_press': '74.0', 'max_press_time': datetime.datetime(2018, 12, 24, 14, 48, 45, 919000), 'min_press_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'price': '1.0', 'use_volume_work': '-1.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '74.0', 'press_out': '74.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '11.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000040å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000046
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 959
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000393'}]
0000000393
00036000000046
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000363')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000393', 'rtu_no': '00030000000088', 'flmeter_no': '00036000000046', 'customer_no': '00030000000040', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 21, 574828), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 18, 934000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 15, 14, 53, 942000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 18, 934000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 15, 14, 53, 942000), 'max_temperature': '27.4', 'min_temperature': '0.0', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2018, 12, 4, 15, 15, 14, 575000), 'min_temp_time': datetime.datetime(2018, 11, 29, 8, 50, 47, 552000), 'max_press': '106.0', 'min_press': '0.0', 'avg_press': '61.0', 'max_press_time': datetime.datetime(2018, 12, 9, 3, 22, 36, 855000), 'min_press_time': datetime.datetime(2018, 11, 29, 8, 50, 47, 552000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '2.0', 'use_money': '2.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '1999815', 'remain_money': '1999813', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '61.0', 'press_out': '61.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000046å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000050
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 364
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000394'}]
0000000394
00036000000050
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000312')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000394', 'rtu_no': '00030000000092', 'flmeter_no': '00036000000050', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 21, 844801), 'year': '2018', 'std_sum': '0', 'work_sum': '30', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_std_flow_time': datetime.datetime(2018, 11, 29, 9, 8, 3, 721000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_work_flow_time': datetime.datetime(2018, 11, 29, 9, 8, 3, 721000), 'max_temperature': '20.5', 'min_temperature': '18.4', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_temp_time': datetime.datetime(2018, 12, 4, 0, 20, 30, 919000), 'max_press': '101.4', 'min_press': '101.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 4, 8, 23, 45, 167000), 'min_press_time': datetime.datetime(2018, 12, 4, 0, 20, 30, 919000), 'price': '1.0', 'use_volume_work': '30.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 29.0, 'total_buy_volume': None, 'total_buy_money': '104', 'remain_money': '75', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '50', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000050å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000053
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 694
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000395'}]
0000000395
00036000000053
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000304')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000395', 'rtu_no': '00030000000095', 'flmeter_no': '00036000000053', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 22, 114810), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 14, 26, 39, 246000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 21, 16, 762000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 14, 26, 39, 246000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 21, 16, 762000), 'max_temperature': '25.6', 'min_temperature': '0.0', 'avg_temperature': '11.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 15, 7, 42, 195000), 'min_temp_time': datetime.datetime(2018, 12, 11, 16, 2, 7, 531000), 'max_press': '110.4', 'min_press': '0.0', 'avg_press': '73.0', 'max_press_time': datetime.datetime(2018, 12, 10, 10, 56, 15, 414000), 'min_press_time': datetime.datetime(2018, 12, 11, 16, 2, 7, 531000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '190', 'remain_money': '190', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '73.0', 'press_out': '73.0', 'temp_in': '11.0', 'temp_out': '11.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000053å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 10
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000396'}]
0000000396
00036000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000362')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000396', 'rtu_no': '00030000000055', 'flmeter_no': '00036000000021', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 22, 474802), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 14, 11, 10, 634000), 'min_std_flow_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 14, 11, 10, 634000), 'min_work_flow_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'max_temperature': '23.4', 'min_temperature': '0.0', 'avg_temperature': '2.0', 'max_temp_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'min_temp_time': datetime.datetime(2019, 3, 27, 14, 11, 18, 481000), 'max_press': '102.4', 'min_press': '0.0', 'avg_press': '10.0', 'max_press_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'min_press_time': datetime.datetime(2019, 3, 27, 14, 11, 18, 481000), 'price': '0.0', 'use_volume_work': '-3.0', 'use_volume_std': '-3.0', 'use_money': '-0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '100', 'press_in': '10.0', 'press_out': '10.0', 'temp_in': '2.0', 'temp_out': '2.0', 'rssi': '23.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000002
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 594
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000397'}]
0000000397
00030000000002
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000319')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000397', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000002', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 22, 774804), 'year': '2018', 'std_sum': '48', 'work_sum': '50', 'max_std_flow': '1631649859.0', 'min_std_flow': '0.0', 'avg_std_flow': '20593324.0', 'max_std_flow_time': datetime.datetime(2018, 7, 30, 11, 40, 54, 756000), 'min_std_flow_time': datetime.datetime(2018, 7, 26, 9, 19, 9, 414000), 'max_work_flow': '6881280.0', 'min_work_flow': '0.0', 'avg_work_flow': '46338.0', 'max_work_flow_time': datetime.datetime(2018, 7, 26, 10, 1, 54, 352000), 'min_work_flow_time': datetime.datetime(2018, 7, 26, 9, 19, 9, 414000), 'max_temperature': '1.5433238e+31', 'min_temperature': '-3275871490.0', 'avg_temperature': '5.196376430976431e+28', 'max_temp_time': datetime.datetime(2018, 7, 30, 11, 40, 54, 756000), 'min_temp_time': datetime.datetime(2018, 7, 25, 16, 43, 14, 570000), 'max_press': '99.54323', 'min_press': '-8255.064', 'avg_press': '-44.0', 'max_press_time': datetime.datetime(2018, 7, 26, 10, 35, 41, 649000), 'min_press_time': datetime.datetime(2018, 7, 26, 11, 32, 13, 211000), 'price': '2.0800002', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '48', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '10.0', 'remain_volume': '0.0', 'fm_state': '05', 'fm_state_msg': 'è§£æè¡¨çŠ¶æ€å¤±è´¥', 'rtu_state': '0000', 'rtu_state_msg': 'é—¨å…³,å¸‚ç”µæ–­ç”µ', 'valve_state': '81', 'valve_state_msg': '81', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-44.0', 'press_out': '-44.0', 'temp_in': '5.196376430976431e+28', 'temp_out': '5.196376430976431e+28', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000002å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 945
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000398'}]
0000000398
00036000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000356')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000398', 'rtu_no': '00030000000051', 'flmeter_no': '00036000000020', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 23, 64813), 'year': '2018', 'std_sum': '22', 'work_sum': '2', 'max_std_flow': '16.46', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 7, 9, 48, 23, 61000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 12, 57, 34, 605000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 19, 22, 50, 796000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 12, 57, 34, 605000), 'max_temperature': '32.1', 'min_temperature': '0.0', 'avg_temperature': '8.0', 'max_temp_time': datetime.datetime(2019, 2, 19, 18, 53, 43, 835000), 'min_temp_time': datetime.datetime(2018, 12, 5, 15, 6, 53, 297000), 'max_press': '628.3', 'min_press': '0.0', 'avg_press': '78.0', 'max_press_time': datetime.datetime(2018, 12, 24, 7, 30, 14, 356000), 'min_press_time': datetime.datetime(2018, 12, 5, 15, 6, 53, 297000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 5.0, 'total_buy_volume': None, 'total_buy_money': '90', 'remain_money': '85', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '78.0', 'press_out': '78.0', 'temp_in': '8.0', 'temp_out': '8.0', 'rssi': '17.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000023
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 605
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000399'}]
0000000399
00036000000023
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000302')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000399', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000023', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 23, 364801), 'year': '2018', 'std_sum': '187556.740', 'work_sum': '73774.290', 'max_std_flow': '329.0', 'min_std_flow': '0.0', 'avg_std_flow': '57.0', 'max_std_flow_time': datetime.datetime(2018, 9, 2, 4, 0, 25), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 22), 'max_work_flow': '143.6', 'min_work_flow': '0.0', 'avg_work_flow': '19.0', 'max_work_flow_time': datetime.datetime(2018, 8, 14, 16, 0, 35), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 22), 'max_temperature': '40.914', 'min_temperature': '-10.763', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2018, 7, 25, 14, 0, 25), 'min_temp_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'max_press': '408.554', 'min_press': '99.167', 'avg_press': '176.0', 'max_press_time': datetime.datetime(2018, 8, 27, 4, 0, 27), 'min_press_time': datetime.datetime(2018, 9, 29, 20, 0, 30), 'price': '0.000', 'use_volume_work': '58872.649999999994', 'use_volume_std': '171607.52', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '176.0', 'press_out': '176.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000023å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000012
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 3748
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000400'}]
0000000400
00030000000012
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000318')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000400', 'rtu_no': '00030000000042', 'flmeter_no': '00030000000012', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 23, 674802), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '25.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 11, 40, 19, 867000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 15, 4, 5, 771000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 15, 56, 16, 530000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 10, 35, 7, 470000), 'max_temperature': '3302.5', 'min_temperature': '-25.7', 'avg_temperature': '2843.0', 'max_temp_time': datetime.datetime(2018, 9, 4, 14, 33, 5, 258000), 'min_temp_time': datetime.datetime(2018, 9, 7, 13, 57, 14, 694000), 'max_press': '103.7', 'min_press': '101.6', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 9, 19, 11, 40, 19, 867000), 'min_press_time': datetime.datetime(2018, 11, 6, 15, 46, 30, 174000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '2.0', 'use_money': '2.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2996', 'remain_money': '2996', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '2843.0', 'temp_out': '2843.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000012å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 348
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000401'}]
0000000401
00036000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000338')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000401', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 24, 24805), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '19668', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '80382.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000059
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 381
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000402'}]
0000000402
00036000000059
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000308')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000402', 'rtu_no': '00030000000101', 'flmeter_no': '00036000000059', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 24, 294806), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 51, 50, 434000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 2, 32, 10, 231000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 51, 50, 434000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 2, 32, 10, 231000), 'max_temperature': '21.7', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 12, 26, 23, 38, 16, 793000), 'min_temp_time': datetime.datetime(2018, 12, 20, 20, 41, 51, 309000), 'max_press': '107.0', 'min_press': '101.4', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 20, 20, 41, 51, 309000), 'min_press_time': datetime.datetime(2018, 12, 19, 14, 39, 45, 278000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '2.0', 'use_money': '2.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000059å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000011
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 217
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000403'}]
0000000403
00030000000011
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000299')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000403', 'rtu_no': '00030000000020', 'flmeter_no': '00030000000011', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 24, 654772), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '25.36', 'avg_std_flow': '25.0', 'max_std_flow_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_std_flow_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_work_flow_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_temperature': '3302.5', 'min_temperature': '3302.5', 'avg_temperature': '3302.0', 'max_temp_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_temp_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_press': '103.7', 'min_press': '103.7', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_press_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'price': '0.2500', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '156', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '50', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '3302.0', 'temp_out': '3302.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000011å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000017
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 8
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000404'}]
0000000404
00036000000017
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000357')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000404', 'rtu_no': '00030000000048', 'flmeter_no': '00036000000017', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 25, 34775), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_std_flow_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_work_flow_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_temp_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_press_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2252', 'remain_money': '2252', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000017å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000024
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1611
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000405'}]
0000000405
00036000000024
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000296')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000405', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000024', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 25, 444831), 'year': '2018', 'std_sum': '2579974.290', 'work_sum': '695543.720', 'max_std_flow': '385.52', 'min_std_flow': '0.0', 'avg_std_flow': '197.0', 'max_std_flow_time': datetime.datetime(2018, 8, 24, 4, 0, 23), 'min_std_flow_time': datetime.datetime(2018, 8, 20, 2, 0, 26), 'max_work_flow': '162.6', 'min_work_flow': '0.0', 'avg_work_flow': '50.0', 'max_work_flow_time': datetime.datetime(2018, 8, 7, 6, 0, 24), 'min_work_flow_time': datetime.datetime(2018, 8, 20, 2, 0, 26), 'max_temperature': '33.145', 'min_temperature': '-6.597', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 8, 26, 14, 0, 27), 'min_temp_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'max_press': '436.168', 'min_press': '98.572', 'avg_press': '320.0', 'max_press_time': datetime.datetime(2018, 9, 25, 2, 0, 24), 'min_press_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'price': '0.000', 'use_volume_work': '191453.65999999997', 'use_volume_std': '741490.2', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '320.0', 'press_out': '320.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000024å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000014
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 761
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000406'}]
0000000406
00030000000014
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000334')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000406', 'rtu_no': '00030000000044', 'flmeter_no': '00030000000014', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 25, 824803), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '20.0', 'max_std_flow_time': datetime.datetime(2018, 9, 4, 18, 11, 12, 118000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 14, 47, 38, 183000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 28, 14, 52, 1, 832000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 694000), 'max_temperature': '25.8', 'min_temperature': '-25.7', 'avg_temperature': '-19.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 10, 17, 0, 342000), 'min_temp_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 694000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '94.0', 'max_press_time': datetime.datetime(2018, 9, 4, 18, 11, 12, 118000), 'min_press_time': datetime.datetime(2018, 10, 31, 14, 47, 38, 183000), 'price': '0.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '94.0', 'press_out': '94.0', 'temp_in': '-19.0', 'temp_out': '-19.0', 'rssi': '4.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000014å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 346
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000407'}]
0000000407
00036000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000346')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000407', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 26, 184771), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '48380', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '51691.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000060
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 357
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000408'}]
0000000408
00036000000060
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000343')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000408', 'rtu_no': '00030000000102', 'flmeter_no': '00036000000060', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 26, 544779), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 1, 20, 40, 278000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 1, 20, 40, 278000), 'max_temperature': '20.4', 'min_temperature': '0.0', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 10, 23, 33, 75000), 'min_temp_time': datetime.datetime(2018, 12, 18, 9, 4, 38, 997000), 'max_press': '103.8', 'min_press': '0.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_press_time': datetime.datetime(2018, 12, 18, 9, 4, 38, 997000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '1', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000060å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 80
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000409'}]
0000000409
00030000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000336')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000409', 'rtu_no': '00030000000051', 'flmeter_no': '00030000000021', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 26, 924802), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 6, 16, 58, 7, 913000), 'min_std_flow_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 16, 58, 7, 913000), 'min_work_flow_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_temperature': '24.2', 'min_temperature': '0.0', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 10, 29, 11, 11, 30, 633000), 'min_temp_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_press': '101.4', 'min_press': '0.0', 'avg_press': '16.0', 'max_press_time': datetime.datetime(2018, 10, 29, 11, 11, 30, 633000), 'min_press_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': '650', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '790', 'fm_state': '1', 'fm_state_msg': '[è¡¨å†…ç´¯è®¡å……å€¼é‡‘é¢æ¯”ICå¡å†…çš„ç´¯è®¡é‡‘é¢å¤§][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[è¡¨å†…ç´¯è®¡å……å€¼é‡‘é¢æ¯”ICå¡å†…çš„ç´¯è®¡é‡‘é¢å¤§][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '16.0', 'press_out': '16.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '3.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000070
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 22
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000410'}]
0000000410
00036000000070
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000332')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000410', 'rtu_no': '00030000000112', 'flmeter_no': '00036000000070', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 27, 274775), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_temperature': '20.5', 'min_temperature': '20.5', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_temp_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_press_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '200', 'remain_money': '200', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000070å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000017
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 29
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000411'}]
0000000411
00030000000017
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000345')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000411', 'rtu_no': '00030000000047', 'flmeter_no': '00030000000017', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 27, 587382), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_std_flow_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_work_flow_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_temp_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_press_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '2103', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000017å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000045
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 429
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000412'}]
0000000412
00036000000045
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000361')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000412', 'rtu_no': '00030000000086', 'flmeter_no': '00036000000045', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 27, 867381), 'year': '2018', 'std_sum': '759', 'work_sum': '757', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 23, 15, 37, 20, 12000), 'min_std_flow_time': datetime.datetime(2018, 11, 1, 14, 58, 17, 675000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 23, 15, 37, 20, 12000), 'min_work_flow_time': datetime.datetime(2018, 11, 1, 14, 58, 17, 675000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 29, 11, 10, 34, 328000), 'min_temp_time': datetime.datetime(2018, 11, 29, 9, 21, 30, 138000), 'max_press': '104.2', 'min_press': '0.0', 'avg_press': '95.0', 'max_press_time': datetime.datetime(2018, 11, 20, 9, 32, 10, 368000), 'min_press_time': datetime.datetime(2018, 11, 29, 9, 21, 30, 138000), 'price': '1.0', 'use_volume_work': '757.0', 'use_volume_std': '759.0', 'use_money': '759.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '3', 'remain_money': '3', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '95.0', 'press_out': '95.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000045å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000069
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 63
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000413'}]
0000000413
00036000000069
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000295')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000413', 'rtu_no': '00030000000111', 'flmeter_no': '00036000000069', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 28, 227384), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_temperature': '20.5', 'min_temperature': '20.5', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_temp_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_press_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '306', 'remain_money': '306', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000069å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000018
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 225
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000414'}]
0000000414
00030000000018
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000331')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000414', 'rtu_no': '00030000000048', 'flmeter_no': '00030000000018', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 28, 557348), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 29, 12, 57, 41, 574000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 29, 12, 57, 41, 574000), 'min_work_flow_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_temperature': '20.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 9, 16, 23, 14, 462000), 'min_temp_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_press': '102.0', 'min_press': '0.0', 'avg_press': '1.0', 'max_press_time': datetime.datetime(2018, 11, 9, 16, 23, 14, 462000), 'min_press_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '148', 'remain_money': '149', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '1.0', 'press_out': '1.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '4.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000018å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000018
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 849
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000415'}]
0000000415
00036000000018
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000350')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000415', 'rtu_no': '00030000000049', 'flmeter_no': '00036000000018', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 28, 857352), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '477.63', 'min_std_flow': '0.0', 'avg_std_flow': '6.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 18, 40, 13, 656000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 10, 39, 6, 277000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 19, 11, 4, 203000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 10, 39, 6, 277000), 'max_temperature': '2491.0', 'min_temperature': '-25.7', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2019, 3, 26, 8, 42, 10, 843000), 'min_temp_time': datetime.datetime(2019, 1, 30, 14, 25, 2, 12000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '39.0', 'max_press_time': datetime.datetime(2019, 1, 30, 14, 25, 2, 12000), 'min_press_time': datetime.datetime(2018, 11, 30, 0, 20, 55, 586000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': '0', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '45', 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '39.0', 'press_out': '39.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000018å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000011
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 333
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000416'}]
0000000416
00036000000011
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000322')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000416', 'rtu_no': None, 'flmeter_no': '00036000000011', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 29, 157351), 'year': '2018', 'std_sum': '1649.380', 'work_sum': '1669.680', 'max_std_flow': '15.97', 'min_std_flow': '0.0', 'avg_std_flow': '12.0', 'max_std_flow_time': datetime.datetime(2018, 10, 25, 0, 0, 47), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 0, 49), 'max_work_flow': '16.11', 'min_work_flow': '0.0', 'avg_work_flow': '12.0', 'max_work_flow_time': datetime.datetime(2018, 10, 26, 0, 1, 17), 'min_work_flow_time': datetime.datetime(2018, 8, 11, 0, 0, 49), 'max_temperature': '26.993', 'min_temperature': '19.649', 'avg_temperature': '23.0', 'max_temp_time': datetime.datetime(2018, 8, 15, 0, 0, 50), 'min_temp_time': datetime.datetime(2018, 10, 19, 0, 0, 45), 'max_press': '114.847', 'min_press': '98.563', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 8, 30, 0, 1, 18), 'min_press_time': datetime.datetime(2018, 8, 17, 0, 0, 43), 'price': '0.000', 'use_volume_work': '1652.77', 'use_volume_std': '1632.88', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '23.0', 'temp_out': '23.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000011å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 298
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000417'}]
0000000417
00036000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000315')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000417', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 29, 497383), 'year': '2018', 'std_sum': '64', 'work_sum': '66', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_temperature': '26.96', 'min_temperature': '26.96', 'avg_temperature': '26.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_press': '100.15', 'min_press': '100.15', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '60492', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '39572.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '26.0', 'temp_out': '26.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000056
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 283
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000418'}]
0000000418
00036000000056
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000317')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000418', 'rtu_no': '00030000000098', 'flmeter_no': '00036000000056', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 29, 767352), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 11, 15, 31, 11, 452000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 11, 15, 31, 11, 452000), 'max_temperature': '19.4', 'min_temperature': '10.3', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 18, 41, 55, 777000), 'min_temp_time': datetime.datetime(2018, 12, 31, 0, 20, 39, 43000), 'max_press': '103.8', 'min_press': '99.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_press_time': datetime.datetime(2018, 12, 11, 17, 31, 57, 432000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000056å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000047
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 451
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000419'}]
0000000419
00036000000047
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000351')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000419', 'rtu_no': '00030000000089', 'flmeter_no': '00036000000047', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 30, 127381), 'year': '2018', 'std_sum': '12', 'work_sum': '12', 'max_std_flow': '0.04', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 21, 13, 42, 20, 374000), 'min_std_flow_time': datetime.datetime(2018, 11, 21, 16, 6, 55, 855000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 12, 51, 25, 934000), 'min_work_flow_time': datetime.datetime(2018, 11, 21, 16, 6, 55, 855000), 'max_temperature': '24.3', 'min_temperature': '0.0', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 28, 13, 21, 18, 75000), 'min_temp_time': datetime.datetime(2018, 11, 22, 15, 38, 16, 652000), 'max_press': '111.6', 'min_press': '0.0', 'avg_press': '80.0', 'max_press_time': datetime.datetime(2018, 12, 5, 9, 10, 17, 84000), 'min_press_time': datetime.datetime(2018, 11, 22, 15, 38, 16, 652000), 'price': '1.0', 'use_volume_work': '12.0', 'use_volume_std': '12.0', 'use_money': '12.0', 'sum_total_volume': None, 'sum_total_money': 21.0, 'total_buy_volume': None, 'total_buy_money': '119', 'remain_money': '98', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '80.0', 'press_out': '80.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000047å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000064
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 180
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000420'}]
0000000420
00036000000064
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000301')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000420', 'rtu_no': '00030000000106', 'flmeter_no': '00036000000064', 'customer_no': '00030000000046', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 30, 417402), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 19, 38, 43, 153000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 19, 38, 43, 153000), 'max_temperature': '13.3', 'min_temperature': '10.1', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 23, 17, 32, 28, 762000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 42, 309000), 'max_press': '103.5', 'min_press': '99.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_press_time': datetime.datetime(2018, 12, 21, 11, 32, 37, 715000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000064å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 662
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000421'}]
0000000421
00030000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000310')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000421', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 30, 737392), 'year': '2018', 'std_sum': '64', 'work_sum': '66', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 14, 0, 51, 380000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 11, 9, 34, 360000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 14, 0, 51, 380000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 11, 9, 34, 360000), 'max_temperature': '26.963799', 'min_temperature': '26.96', 'avg_temperature': '26.0', 'max_temp_time': datetime.datetime(2018, 9, 6, 17, 41, 19, 939000), 'min_temp_time': datetime.datetime(2018, 10, 8, 11, 17, 51, 702000), 'max_press': '100.15426', 'min_press': '100.15', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 9, 6, 17, 41, 19, 939000), 'min_press_time': datetime.datetime(2018, 10, 8, 11, 17, 51, 702000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '54353', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '45711.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '26.0', 'temp_out': '26.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000044
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 450
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000422'}]
0000000422
00036000000044
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000320')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000422', 'rtu_no': '00030000000085', 'flmeter_no': '00036000000044', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 31, 37383), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 10, 5, 23, 15, 754000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 10, 5, 23, 15, 754000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_temperature': '19.8', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 11, 29, 19, 25, 30, 139000), 'min_temp_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 12, 8, 18, 25, 27, 550000), 'min_press_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 650.0, 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000044å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000035
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 443
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000423'}]
0000000423
00036000000035
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000333')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000423', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000035', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 31, 337382), 'year': '2018', 'std_sum': '60316', 'work_sum': '51742', 'max_std_flow': '1101004800.0', 'min_std_flow': '0.0', 'avg_std_flow': '2494954.0', 'max_std_flow_time': datetime.datetime(2018, 11, 5, 21, 41, 6, 620000), 'min_std_flow_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 15, 19, 7, 177000), 'min_work_flow_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_temperature': '2.2977563e+23', 'min_temperature': '0.0', 'avg_temperature': '1.035695914221219e+21', 'max_temp_time': datetime.datetime(2018, 11, 1, 13, 32, 11, 33000), 'min_temp_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_press': '4.0815275e+31', 'min_press': '-3430800.5', 'avg_press': '1.842676072234763e+29', 'max_press_time': datetime.datetime(2018, 11, 3, 19, 13, 1, 851000), 'min_press_time': datetime.datetime(2018, 11, 2, 14, 20, 12, 441000), 'price': '2.5', 'use_volume_work': '51742.0', 'use_volume_std': '60316.0', 'use_money': '150790.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '15.0', 'remain_volume': '0.0', 'fm_state': '74', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '1.842676072234763e+29', 'press_out': '1.842676072234763e+29', 'temp_in': '1.035695914221219e+21', 'temp_out': '1.035695914221219e+21', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000035å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000038
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 573
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000424'}]
0000000424
00036000000038
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000298')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000424', 'rtu_no': '00030000000079', 'flmeter_no': '00036000000038', 'customer_no': '00030000000016', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 31, 617350), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 17, 50, 746000), 'min_std_flow_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 17, 50, 746000), 'min_work_flow_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_temperature': '23.3', 'min_temperature': '0.0', 'avg_temperature': '15.0', 'max_temp_time': datetime.datetime(2018, 11, 1, 15, 9, 7, 433000), 'min_temp_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_press': '107.1', 'min_press': '0.0', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 11, 20, 12, 54, 3, 883000), 'min_press_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'price': '1.0', 'use_volume_work': '-2.0', 'use_volume_std': '-2.0', 'use_money': '-2.0', 'sum_total_volume': None, 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '3', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '15.0', 'temp_out': '15.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000038å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000052
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 826
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000425'}]
0000000425
00036000000052
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000311')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000425', 'rtu_no': '00030000000094', 'flmeter_no': '00036000000052', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 31, 961132), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '6.31', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 4, 10, 45, 30, 39000), 'min_std_flow_time': datetime.datetime(2018, 11, 29, 8, 48, 30, 878000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 21, 16, 22, 27, 183000), 'min_work_flow_time': datetime.datetime(2018, 11, 29, 8, 48, 30, 878000), 'max_temperature': '26.1', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 18, 20, 29, 365000), 'min_temp_time': datetime.datetime(2018, 12, 4, 9, 2, 4, 27000), 'max_press': '104.1', 'min_press': '0.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 9, 24, 23, 28000), 'min_press_time': datetime.datetime(2018, 12, 4, 9, 2, 4, 27000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 5.0, 'total_buy_volume': None, 'total_buy_money': '10', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000052å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000061
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 373
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000426'}]
0000000426
00036000000061
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000360')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000426', 'rtu_no': '00030000000103', 'flmeter_no': '00036000000061', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 32, 247319), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 36, 49, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 36, 49, 246000), 'max_temperature': '18.7', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 22, 28, 10, 200000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'max_press': '107.5', 'min_press': '101.5', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 15, 2, 25, 20, 575000), 'min_press_time': datetime.datetime(2018, 12, 19, 15, 26, 13, 121000), 'price': '1.0', 'use_volume_work': '-6.0', 'use_volume_std': '-6.0', 'use_money': '-6.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000061å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000058
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 309
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000427'}]
0000000427
00036000000058
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000316')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000427', 'rtu_no': '00030000000100', 'flmeter_no': '00036000000058', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 32, 517313), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 12, 950000), 'min_std_flow_time': datetime.datetime(2018, 12, 15, 14, 28, 5, 715000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 12, 950000), 'min_work_flow_time': datetime.datetime(2018, 12, 15, 14, 28, 5, 715000), 'max_temperature': '23.0', 'min_temperature': '0.0', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 21, 16, 18, 29, 981000), 'min_temp_time': datetime.datetime(2018, 12, 21, 16, 16, 57, 918000), 'max_press': '109.1', 'min_press': '0.0', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 14, 10, 37, 29, 590000), 'min_press_time': datetime.datetime(2018, 12, 21, 16, 16, 57, 918000), 'price': '1.0', 'use_volume_work': '-10.0', 'use_volume_std': '-10.0', 'use_money': '-10.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000058å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 392
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000428'}]
0000000428
00030000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000364')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000428', 'rtu_no': '00030000000051', 'flmeter_no': '00030000000020', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 32, 807288), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 29, 11, 42, 38, 869000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 29, 11, 42, 38, 869000), 'min_work_flow_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_temperature': '19.4', 'min_temperature': '0.0', 'avg_temperature': '6.0', 'max_temp_time': datetime.datetime(2018, 11, 15, 16, 52, 44, 888000), 'min_temp_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_press': '103.1', 'min_press': '0.0', 'avg_press': '35.0', 'max_press_time': datetime.datetime(2018, 11, 22, 15, 44, 20, 331000), 'min_press_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'price': '2.32', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '657', 'remain_money': '657', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '35.0', 'press_out': '35.0', 'temp_in': '6.0', 'temp_out': '6.0', 'rssi': '7.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000062
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 21
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000429'}]
0000000429
00036000000062
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000330')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000429', 'rtu_no': '00030000000104', 'flmeter_no': '00036000000062', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 33, 165580), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_std_flow_time': datetime.datetime(2018, 12, 14, 12, 25, 58, 981000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_work_flow_time': datetime.datetime(2018, 12, 14, 12, 25, 58, 981000), 'max_temperature': '19.2', 'min_temperature': '10.3', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 19, 33, 2, 43000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 53, 153000), 'max_press': '103.6', 'min_press': '102.0', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_press_time': datetime.datetime(2018, 12, 25, 1, 22, 56, 559000), 'price': '1.0', 'use_volume_work': '-2.0', 'use_volume_std': '-2.0', 'use_money': '-2.0', 'sum_total_volume': None, 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000062å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000005
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 650
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000430'}]
0000000430
00036000000005
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000329')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000430', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000005', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 33, 455552), 'year': '2018', 'std_sum': '148', 'work_sum': '154', 'max_std_flow': '6881280.0', 'min_std_flow': '0.0', 'avg_std_flow': '10586.0', 'max_std_flow_time': datetime.datetime(2018, 12, 4, 14, 49, 7, 147000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 19, 8, 894000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 43, 10, 465000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 19, 8, 894000), 'max_temperature': '24.39', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 1, 14, 27, 14, 659000), 'min_temp_time': datetime.datetime(2018, 12, 4, 14, 49, 7, 147000), 'max_press': '103.4', 'min_press': '-33781180.0', 'avg_press': '-59146.0', 'max_press_time': datetime.datetime(2018, 12, 31, 9, 0, 17, 293000), 'min_press_time': datetime.datetime(2018, 12, 9, 22, 27, 9, 576000), 'price': '3.5', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '148', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '212.5', 'remain_volume': '0.0', 'fm_state': '15', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '-59146.0', 'press_out': '-59146.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000005å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000016
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 16
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000431'}]
0000000431
00030000000016
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000305')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000431', 'rtu_no': '00030000000047', 'flmeter_no': '00030000000016', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 33, 763841), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 7, 10, 30, 27, 345000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 19, 23, 33, 892000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 30, 27, 345000), 'min_work_flow_time': datetime.datetime(2018, 11, 8, 19, 23, 33, 892000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 11, 7, 9, 34, 52, 938000), 'min_temp_time': datetime.datetime(2018, 11, 7, 10, 22, 48, 82000), 'max_press': '101.9', 'min_press': '0.0', 'avg_press': '19.0', 'max_press_time': datetime.datetime(2018, 11, 7, 9, 34, 52, 938000), 'min_press_time': datetime.datetime(2018, 11, 7, 10, 22, 48, 82000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '1618', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '19.0', 'press_out': '19.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000016å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000049
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1172
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000432'}]
0000000432
00036000000049
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000355')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000432', 'rtu_no': '00030000000091', 'flmeter_no': '00036000000049', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 34, 142031), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '2.97', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 5, 15, 16, 53, 445000), 'min_std_flow_time': datetime.datetime(2018, 11, 12, 18, 11, 49, 381000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 23, 10, 46, 4, 746000), 'min_work_flow_time': datetime.datetime(2018, 11, 12, 18, 11, 49, 381000), 'max_temperature': '24.4', 'min_temperature': '6.4', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 12, 7, 18, 20, 51, 728000), 'min_temp_time': datetime.datetime(2018, 12, 10, 0, 21, 10, 425000), 'max_press': '105.0', 'min_press': '100.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 4, 20, 18, 10, 413000), 'min_press_time': datetime.datetime(2018, 12, 3, 9, 25, 57, 724000), 'price': '1312.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '90', 'remain_money': '90', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000049å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000048
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 438
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000433'}]
0000000433
00036000000048
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000326')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000433', 'rtu_no': '00030000000090', 'flmeter_no': '00036000000048', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 34, 582053), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 10, 26, 27, 715000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 16, 24, 50, 483000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 10, 26, 27, 715000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 16, 24, 50, 483000), 'max_temperature': '25.2', 'min_temperature': '6.9', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 18, 24, 53, 39000), 'min_temp_time': datetime.datetime(2018, 12, 12, 0, 21, 58, 25000), 'max_press': '104.0', 'min_press': '100.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 9, 25, 50, 106000), 'min_press_time': datetime.datetime(2018, 12, 17, 1, 21, 36, 340000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '20.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000048å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000004
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 4979
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000434'}]
0000000434
00030000000004
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000342')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000434', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000004', 'customer_no': None, 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 34, 972000), 'year': '2018', 'std_sum': '60357', 'work_sum': '51783', 'max_std_flow': '1183737306.0', 'min_std_flow': '0.0', 'avg_std_flow': '10185396.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 57, 33000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 7, 720000), 'max_work_flow': '1183737308.0', 'min_work_flow': '0.0', 'avg_work_flow': '7524140.0', 'max_work_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 57, 33000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 7, 720000), 'max_temperature': '2.2977563e+23', 'min_temperature': '-3434896.5', 'avg_temperature': '3.230426611769431e+20', 'max_temp_time': datetime.datetime(2018, 11, 2, 2, 52, 31, 401000), 'min_temp_time': datetime.datetime(2018, 8, 3, 15, 34, 12, 72000), 'max_press': '1.044871e+34', 'min_press': '-3430800.5', 'avg_press': '1.4689891544486847e+31', 'max_press_time': datetime.datetime(2018, 11, 2, 2, 52, 31, 401000), 'min_press_time': datetime.datetime(2018, 7, 31, 11, 47, 11, 611000), 'price': '2.5', 'use_volume_work': '41.0', 'use_volume_std': '41.0', 'use_money': '102.5', 'sum_total_volume': '60357', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5.0', 'remain_volume': '0.0', 'fm_state': '78', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '1.4689891544486847e+31', 'press_out': '1.4689891544486847e+31', 'temp_in': '3.230426611769431e+20', 'temp_out': '3.230426611769431e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000004å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000065
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 191
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000435'}]
0000000435
00036000000065
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000352')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000435', 'rtu_no': '00030000000107', 'flmeter_no': '00036000000065', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 35, 292030), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 6, 543000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 43, 55, 465000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 6, 543000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 43, 55, 465000), 'max_temperature': '20.5', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 28, 14, 23, 42, 262000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 21, 18, 75000), 'max_press': '107.2', 'min_press': '101.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 23, 18, 27, 48, 418000), 'min_press_time': datetime.datetime(2018, 12, 20, 15, 37, 27, 653000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '12', 'remain_money': '9', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000065å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000054
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 514
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000436'}]
0000000436
00036000000054
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000300')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000436', 'rtu_no': '00030000000096', 'flmeter_no': '00036000000054', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 35, 572036), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '267.15', 'min_std_flow': '0.0', 'avg_std_flow': '1.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 18, 55, 19, 281000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 45, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 18, 55, 19, 281000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 45, 246000), 'max_temperature': '98.4', 'min_temperature': '0.0', 'avg_temperature': '15.0', 'max_temp_time': datetime.datetime(2019, 3, 21, 9, 57, 27, 921000), 'min_temp_time': datetime.datetime(2018, 12, 11, 14, 26, 44, 303000), 'max_press': '104.2', 'min_press': '0.0', 'avg_press': '72.0', 'max_press_time': datetime.datetime(2018, 12, 31, 0, 21, 22, 262000), 'min_press_time': datetime.datetime(2018, 12, 11, 14, 26, 44, 303000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '72.0', 'press_out': '72.0', 'temp_in': '15.0', 'temp_out': '15.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000054å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0003 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0002
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0002 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0010
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0010 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0018
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 8
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0018 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00186000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 8
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0018', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '03'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0018', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '03', 'SSN_VALUE': '0000000006'}]
0000000006
00186000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0018', '001820180000000005')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0018', 'sry_id': '001820180000000006', 'rtu_no': '00180000000001', 'flmeter_no': '00186000000001', 'customer_no': '00180000000001', 'report_time': datetime.datetime(2019, 3, 29, 17, 8, 36, 252116), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_std_flow_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_work_flow_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_temp_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_press_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': None, 'sum_total_money': 21.0, 'total_buy_volume': None, 'total_buy_money': '26471', 'remain_money': '26450', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[è¡¨å†…å……å€¼æ¬¡æ•°æ¯”ICå¡å……å€¼æ¬¡æ•°å¤š][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[è¡¨å†…å……å€¼æ¬¡æ•°æ¯”ICå¡å……å€¼æ¬¡æ•°å¤š][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '100', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '25.0', 'sry_status': '1'}]
insert sys_serial_no ok
00186000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0018 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0006
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0006 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0013
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0013 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0014
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0014 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
all done-å¹´æŠ¥è¡¨æ•´ä¸ªå¤„ç†æµç¨‹å®Œæˆ
----------------------------------------------------------------------------------------
ç¨‹åºè¿è¡Œå¼€å§‹æ—¶é—´ 2019-03-29 17:08:02.557521
ç¨‹åºè¿è¡Œç»“æŸæ—¶é—´: 2019-03-29 17:08:36.791999
æ•´ä¸ªç¨‹åºè¿è¡Œæ€»æ—¶é—´: 34 ç§’
----------------------------------------------------------------------------------------
ç¨‹åºè¿è¡Œå¼€å§‹time.clock(): 2e-07
ç¨‹åºè¿è¡Œç»“æŸtime.clock(): 34.2335064
æ•´ä¸ªç¨‹åºè¿è¡Œæ€»æ—¶é—´time.clock()å·®: 34.2335062 ç§’
----------------------------------------------------------------------------------------
============================================================================================================================================================åˆ†éš”ç¬¦
æ­¤æœºæ„: 0008
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 134
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0008 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00086000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 134
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0008', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0008', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000011'}]
0000000011
00086000000001 â˜† sum_total_volume is None ç½®ä¸º0
00086000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0008', '000820180000000010')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0008', 'sry_id': '000820180000000011', 'rtu_no': '00080000000001', 'flmeter_no': '00086000000001', 'customer_no': '00080000000001', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 9, 843696), 'year': '2018', 'std_sum': '1', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_std_flow_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_work_flow_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_temp_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_press_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'price': '2.3', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '23', 'remain_money': '20', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '5.0', 'sry_status': '1'}]
insert sys_serial_no ok
00086000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0008 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0015
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0015 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0017
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0017 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0005
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 27757
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0005 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 17
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00056000000029
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 180
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000152'}]
0000000152
00056000000029 â˜† sum_total_money <0 ç½®ä¸º0
00056000000029
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000151')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000152', 'rtu_no': '00050000000024', 'flmeter_no': '00056000000029', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 11, 510705), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'price': '161.51', 'use_volume_work': '0.0', 'use_volume_std': '355.0', 'use_money': '57336.05', 'sum_total_volume': '23284', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '3134.36', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000029å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000027
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 176
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000153'}]
0000000153
00056000000027 â˜† sum_total_money <0 ç½®ä¸º0
00056000000027
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000138')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000153', 'rtu_no': '00050000000022', 'flmeter_no': '00056000000027', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 11, 803699), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_temp_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_press_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '1898.0', 'use_money': '4327.44', 'sum_total_volume': '73340', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '522.8', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000027å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000028
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 135
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000154'}]
0000000154
00056000000028 â˜† sum_total_money <0 ç½®ä¸º0
00056000000028
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000140')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000154', 'rtu_no': '00050000000023', 'flmeter_no': '00056000000028', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 12, 85698), 'year': '2018', 'std_sum': '10145', 'work_sum': '11985', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_std_flow_time': datetime.datetime(2018, 12, 23, 0, 14, 39, 668000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_work_flow_time': datetime.datetime(2018, 12, 23, 0, 14, 39, 668000), 'max_temperature': '21.14', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 12, 26, 3, 38, 35, 356000), 'min_temp_time': datetime.datetime(2018, 12, 29, 13, 38, 37, 231000), 'max_press': '109.49', 'min_press': '-2498346090000.0', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_press_time': datetime.datetime(2018, 12, 29, 13, 38, 37, 231000), 'price': '1.52', 'use_volume_work': '11272.0', 'use_volume_std': '9543.0', 'use_money': '14505.36', 'sum_total_volume': '10145', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '76152.14', 'remain_volume': '0.0', 'fm_state': '98', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000028å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 198
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000155'}]
0000000155
00056000000021 â˜† sum_total_money <0 ç½®ä¸º0
00056000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000137')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000155', 'rtu_no': '00050000000015', 'flmeter_no': '00056000000021', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 12, 394727), 'year': '2018', 'std_sum': '40070', 'work_sum': '43337', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 17, 809000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 42, 26, 903000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 17, 809000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 42, 26, 903000), 'max_temperature': '34.03', 'min_temperature': '19.18', 'avg_temperature': '29.0', 'max_temp_time': datetime.datetime(2018, 12, 21, 21, 18, 29, 90000), 'min_temp_time': datetime.datetime(2018, 12, 24, 6, 19, 31, 200000), 'max_press': '101.05', 'min_press': '82.65', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 12, 31, 12, 58, 24, 278000), 'min_press_time': datetime.datetime(2018, 12, 28, 6, 33, 26, 247000), 'price': '1.46', 'use_volume_work': '2997.0', 'use_volume_std': '2804.0', 'use_money': '4093.84', 'sum_total_volume': '40070', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '39451.92', 'remain_volume': '0.0', 'fm_state': '33', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '29.0', 'temp_out': '29.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 860
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000156'}]
0000000156
00050000000009 â˜† sum_total_money <0 ç½®ä¸º0
00050000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000135')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000156', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 12, 751696), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_std_flow_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_work_flow_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_temp_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_press_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'price': '1.71', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '238579', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '56355.66', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': '80', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000026
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 230
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000157'}]
0000000157
00056000000026 â˜† sum_total_money <0 ç½®ä¸º0
00056000000026
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000145')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000157', 'rtu_no': '00050000000021', 'flmeter_no': '00056000000026', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 13, 75722), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_temp_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_press_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'price': '1.61', 'use_volume_work': '0.0', 'use_volume_std': '201.0', 'use_money': '323.61', 'sum_total_volume': '7985', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '1489.91', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000026å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000014
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 156
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000158'}]
0000000158
00056000000014 â˜† sum_total_money <0 ç½®ä¸º0
00056000000014
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000146')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000158', 'rtu_no': '00050000000013', 'flmeter_no': '00056000000014', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 13, 385727), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '60.0', 'use_money': '136.8', 'sum_total_volume': '3439', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '730.38', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000014å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 169
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000159'}]
0000000159
00056000000020 â˜† sum_total_money <0 ç½®ä¸º0
00056000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000147')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000159', 'rtu_no': '00050000000015', 'flmeter_no': '00056000000020', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 13, 677696), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 16, 637000), 'min_std_flow_time': datetime.datetime(2018, 12, 28, 11, 38, 22, 918000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 16, 637000), 'min_work_flow_time': datetime.datetime(2018, 12, 28, 11, 38, 22, 918000), 'max_temperature': '1.7374836e+18', 'min_temperature': '-362.41', 'avg_temperature': '1.0280968047337282e+16', 'max_temp_time': datetime.datetime(2018, 12, 25, 11, 20, 27, 684000), 'min_temp_time': datetime.datetime(2018, 12, 31, 10, 55, 29, 637000), 'max_press': '101.53', 'min_press': '-11.17', 'avg_press': '95.0', 'max_press_time': datetime.datetime(2018, 12, 29, 1, 57, 27, 106000), 'min_press_time': datetime.datetime(2018, 12, 31, 10, 55, 29, 637000), 'price': '1.59', 'use_volume_work': '0.0', 'use_volume_std': '1.0', 'use_money': '1.59', 'sum_total_volume': '29928', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '469.55', 'remain_volume': '0.0', 'fm_state': '20', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '95.0', 'press_out': '95.0', 'temp_in': '1.0280968047337282e+16', 'temp_out': '1.0280968047337282e+16', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000006
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 6859
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000160'}]
0000000160
00050000000006 â˜† sum_total_money <0 ç½®ä¸º0
00050000000006
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000141')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000160', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000006', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 14, 2727), 'year': '2018', 'std_sum': '3', 'work_sum': '0', 'max_std_flow': '1108320570.0', 'min_std_flow': '26178.0', 'avg_std_flow': '1101425015.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 843000), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 19, 35, 974000), 'max_work_flow': '1118216506.0', 'min_work_flow': '262224450.0', 'avg_work_flow': '1105221506.0', 'max_work_flow_time': datetime.datetime(2018, 8, 11, 0, 19, 35, 990000), 'min_work_flow_time': datetime.datetime(2018, 7, 30, 5, 42, 52, 209000), 'max_temperature': '2.2933942e+23', 'min_temperature': '-2103696.5', 'avg_temperature': '2.0061765855080913e+20', 'max_temp_time': datetime.datetime(2018, 8, 2, 3, 18, 56, 705000), 'min_temp_time': datetime.datetime(2018, 7, 28, 7, 57, 34, 22000), 'max_press': '101.325', 'min_press': '-2103696.5', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 843000), 'min_press_time': datetime.datetime(2018, 7, 28, 1, 14, 55, 6000), 'price': '1.4900001', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '10.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '87', 'valve_state_msg': '87', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '2.0061765855080913e+20', 'temp_out': '2.0061765855080913e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000006å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000024
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 28
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000161'}]
0000000161
00056000000024 â˜† sum_total_money <0 ç½®ä¸º0
00056000000024
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000150')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000161', 'rtu_no': '00050000000019', 'flmeter_no': '00056000000024', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 14, 351696), 'year': '2018', 'std_sum': '174131', 'work_sum': '174131', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_std_flow_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_work_flow_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'max_temperature': '19.01', 'min_temperature': '8.53', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 27, 5, 49, 35, 90000), 'min_temp_time': datetime.datetime(2018, 12, 29, 5, 49, 42, 137000), 'max_press': '86.29', 'min_press': '86.29', 'avg_press': '86.0', 'max_press_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_press_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'price': '1.43', 'use_volume_work': '8061.0', 'use_volume_std': '8061.0', 'use_money': '11527.23', 'sum_total_volume': '174131', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5645.89', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '86.0', 'press_out': '86.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000024å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000010
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1978
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000162'}]
0000000162
00056000000010 â˜† sum_total_money <0 ç½®ä¸º0
00056000000010
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000142')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000162', 'rtu_no': '00050000000004', 'flmeter_no': '00056000000010', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 14, 640727), 'year': '2018', 'std_sum': '525342', 'work_sum': '525342', 'max_std_flow': '1883308032.0', 'min_std_flow': '0.0', 'avg_std_flow': '112844395.0', 'max_std_flow_time': datetime.datetime(2018, 11, 28, 22, 5, 22, 719000), 'min_std_flow_time': datetime.datetime(2018, 10, 1, 22, 38, 58, 914000), 'max_work_flow': '1675051846.0', 'min_work_flow': '0.0', 'avg_work_flow': '109431540.0', 'max_work_flow_time': datetime.datetime(2018, 12, 4, 19, 49, 18, 804000), 'min_work_flow_time': datetime.datetime(2018, 10, 1, 22, 38, 58, 914000), 'max_temperature': '6.681447e+35', 'min_temperature': '0.0', 'avg_temperature': '6.746571029402958e+32', 'max_temp_time': datetime.datetime(2018, 10, 14, 20, 13, 57, 671000), 'min_temp_time': datetime.datetime(2018, 10, 4, 2, 29, 5, 945000), 'max_press': '868.0', 'min_press': '0.0', 'avg_press': '82.0', 'max_press_time': datetime.datetime(2018, 10, 4, 2, 29, 5, 945000), 'min_press_time': datetime.datetime(2018, 10, 1, 10, 27, 59, 304000), 'price': '1.52', 'use_volume_work': '79425.0', 'use_volume_std': '79425.0', 'use_money': '120726.0', 'sum_total_volume': '525342', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '4298.49', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '82.0', 'press_out': '82.0', 'temp_in': '6.746571029402958e+32', 'temp_out': '6.746571029402958e+32', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000010å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000023
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 2
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000163'}]
0000000163
00056000000023 â˜† sum_total_money <0 ç½®ä¸º0
00056000000023
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000139')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000163', 'rtu_no': '00050000000018', 'flmeter_no': '00056000000023', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 14, 943697), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_std_flow_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_work_flow_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_temperature': '14.04', 'min_temperature': '8.0', 'avg_temperature': '11.0', 'max_temp_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_temp_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_press': '96.85', 'min_press': '91.27', 'avg_press': '94.0', 'max_press_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_press_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'price': '220.52', 'use_volume_work': '0.0', 'use_volume_std': '254.0', 'use_money': '56012.08', 'sum_total_volume': '144825', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '4948.6', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '94.0', 'press_out': '94.0', 'temp_in': '11.0', 'temp_out': '11.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000023å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000025
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 223
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000164'}]
0000000164
00056000000025 â˜† sum_total_money <0 ç½®ä¸º0
00056000000025
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000148')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000164', 'rtu_no': '00050000000020', 'flmeter_no': '00056000000025', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 15, 226700), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_temp_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_press_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '2074.0', 'use_money': '4728.72', 'sum_total_volume': '35381', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '9132.72', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000025å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 7183
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000165'}]
0000000165
00050000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000144')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000165', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 15, 533694), 'year': '2018', 'std_sum': '520', 'work_sum': '520', 'max_std_flow': '1101004800.0', 'min_std_flow': '0.0', 'avg_std_flow': '1544653.0', 'max_std_flow_time': datetime.datetime(2018, 8, 16, 2, 36, 34, 228000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 48, 32, 439000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 874000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 48, 32, 439000), 'max_temperature': '2.2977563e+23', 'min_temperature': '-3451289.5', 'avg_temperature': '5.116989920645969e+20', 'max_temp_time': datetime.datetime(2018, 8, 13, 2, 9, 39, 326000), 'min_temp_time': datetime.datetime(2018, 8, 7, 22, 19, 35, 97000), 'max_press': '154898956000.0', 'min_press': '-3447184.5', 'avg_press': '86258657.0', 'max_press_time': datetime.datetime(2018, 8, 12, 22, 9, 39, 76000), 'min_press_time': datetime.datetime(2018, 8, 8, 10, 49, 32, 272000), 'price': '0.0', 'use_volume_work': '520.0', 'use_volume_std': '520.0', 'use_money': '0.0', 'sum_total_volume': '520', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '83', 'valve_state_msg': '83', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '86258657.0', 'press_out': '86258657.0', 'temp_in': '5.116989920645969e+20', 'temp_out': '5.116989920645969e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 7279
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000166'}]
0000000166
00050000000008 â˜† sum_total_money <0 ç½®ä¸º0
00050000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000136')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000166', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 15, 893711), 'year': '2018', 'std_sum': '3', 'work_sum': '0', 'max_std_flow': '1715605414.0', 'min_std_flow': '262224450.0', 'avg_std_flow': '1098663791.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 14, 51, 36, 283000), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 23, 31, 23, 678000), 'max_work_flow': '1108320570.0', 'min_work_flow': '262224450.0', 'avg_work_flow': '1102112988.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 37, 359000), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 23, 31, 23, 678000), 'max_temperature': '2.2910694e+23', 'min_temperature': '-2107792.5', 'avg_temperature': '3.147505701332601e+20', 'max_temp_time': datetime.datetime(2018, 8, 7, 4, 39, 47, 526000), 'min_temp_time': datetime.datetime(2018, 7, 28, 18, 57, 58, 100000), 'max_press': '101.325', 'min_press': '-2107801.5', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 9, 19, 10, 32, 37, 359000), 'min_press_time': datetime.datetime(2018, 8, 9, 17, 29, 34, 402000), 'price': '1.5900002', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '93', 'valve_state_msg': '93', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '3.147505701332601e+20', 'temp_out': '3.147505701332601e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 222
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000167'}]
0000000167
00056000000022 â˜† sum_total_money <0 ç½®ä¸º0
00056000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000143')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000167', 'rtu_no': '00050000000017', 'flmeter_no': '00056000000022', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 16, 290700), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'price': '1.61', 'use_volume_work': '0.0', 'use_volume_std': '88.0', 'use_money': '141.68', 'sum_total_volume': '5021', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '430.89', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000013
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1879
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000168'}]
0000000168
00056000000013 â˜† sum_total_money <0 ç½®ä¸º0
00056000000013
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000149')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000168', 'rtu_no': '00050000000012', 'flmeter_no': '00056000000013', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 16, 586721), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '1108320570.0', 'min_std_flow': '0.0', 'avg_std_flow': '4128921.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 12, 58, 32, 45000), 'min_std_flow_time': datetime.datetime(2018, 10, 1, 22, 11, 16, 414000), 'max_work_flow': '1108320570.0', 'min_work_flow': '0.0', 'avg_work_flow': '4128921.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 12, 58, 32, 45000), 'min_work_flow_time': datetime.datetime(2018, 10, 1, 22, 11, 16, 414000), 'max_temperature': '4.775683e+23', 'min_temperature': '-2103696.5', 'avg_temperature': '2.541608834486429e+20', 'max_temp_time': datetime.datetime(2018, 12, 17, 4, 25, 41, 543000), 'min_temp_time': datetime.datetime(2018, 9, 30, 5, 35, 18, 23000), 'max_press': '3.7779616e+22', 'min_press': '-2103696.5', 'avg_press': '2.010623523150612e+19', 'max_press_time': datetime.datetime(2018, 10, 26, 18, 56, 51, 347000), 'min_press_time': datetime.datetime(2018, 9, 26, 11, 52, 20, 617000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '16715.0', 'use_money': '38110.2', 'sum_total_volume': '80351', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '1230.67', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '2.010623523150612e+19', 'press_out': '2.010623523150612e+19', 'temp_in': '2.541608834486429e+20', 'temp_out': '2.541608834486429e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000013å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0005 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0007
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 324
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0007 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00076000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 324
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0007', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0007', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000009'}]
0000000009
00076000000001 â˜† sum_total_volume is None ç½®ä¸º0
00076000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0007', '000720180000000008')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0007', 'sry_id': '000720180000000009', 'rtu_no': '00070000000001', 'flmeter_no': '00076000000001', 'customer_no': '00070000000001', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 17, 37697), 'year': '2018', 'std_sum': '781', 'work_sum': '777', 'max_std_flow': '4.02', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 10, 34, 48, 84000), 'min_std_flow_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 23, 31, 59, 653000), 'min_work_flow_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'max_temperature': '20.3', 'min_temperature': '-1.9', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 11, 9, 11, 45, 4, 718000), 'min_temp_time': datetime.datetime(2018, 12, 29, 7, 33, 49, 59000), 'max_press': '139.5', 'min_press': '0.0', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 11, 16, 9, 34, 13, 100000), 'min_press_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'price': '3.09', 'use_volume_work': '777.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 103.0, 'total_buy_volume': None, 'total_buy_money': '2192', 'remain_money': '2089', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '10.0', 'sry_status': '1'}]
insert sys_serial_no ok
00076000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0007 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0009
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0009 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0011
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0011 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0012
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 18
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0012 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00126000000002
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 18
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0012', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0012', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000006'}]
0000000006
00126000000002 â˜† sum_total_volume is None ç½®ä¸º0
00126000000002
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0012', '001220180000000005')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0012', 'sry_id': '001220180000000006', 'rtu_no': '00120000000002', 'flmeter_no': '00126000000002', 'customer_no': '00120000000001', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 17, 593801), 'year': '2018', 'std_sum': '11', 'work_sum': '12', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_std_flow_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_work_flow_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_temperature': '20.0', 'min_temperature': '20.0', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_temp_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_press': '101.1', 'min_press': '101.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_press_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 19.0, 'total_buy_volume': None, 'total_buy_money': '24', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00126000000002å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0012 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0016
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0016 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0019
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0019 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0003
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 49449
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0003 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 71
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00036000000028
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1618
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000548'}]
0000000548
00036000000028
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000487')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000548', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000028', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 20, 229727), 'year': '2018', 'std_sum': '311644.480', 'work_sum': '287074.660', 'max_std_flow': '110.62', 'min_std_flow': '0.0', 'avg_std_flow': '8.0', 'max_std_flow_time': datetime.datetime(2018, 10, 31, 6, 0, 24), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 23), 'max_work_flow': '107.11', 'min_work_flow': '0.0', 'avg_work_flow': '8.0', 'max_work_flow_time': datetime.datetime(2018, 8, 9, 16, 0, 23), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 23), 'max_temperature': '37.858', 'min_temperature': '3.406', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 8, 2, 16, 0, 24), 'min_temp_time': datetime.datetime(2018, 11, 9, 6, 0, 24), 'max_press': '113.946', 'min_press': '101.325', 'avg_press': '108.0', 'max_press_time': datetime.datetime(2018, 11, 1, 16, 0, 26), 'min_press_time': datetime.datetime(2018, 11, 23, 0, 0, 23), 'price': '0.000', 'use_volume_work': '33982.06999999998', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '108.0', 'press_out': '108.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000028å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000038
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 573
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000549'}]
0000000549
00036000000038 â˜† use_volume_work <0 ç½®ä¸º0
00036000000038 â˜† sum_total_volume is None ç½®ä¸º0
00036000000038
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000521')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000549', 'rtu_no': '00030000000079', 'flmeter_no': '00036000000038', 'customer_no': '00030000000016', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 20, 536695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 17, 50, 746000), 'min_std_flow_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 17, 50, 746000), 'min_work_flow_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_temperature': '23.3', 'min_temperature': '0.0', 'avg_temperature': '15.0', 'max_temp_time': datetime.datetime(2018, 11, 1, 15, 9, 7, 433000), 'min_temp_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_press': '107.1', 'min_press': '0.0', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 11, 20, 12, 54, 3, 883000), 'min_press_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '3', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '15.0', 'temp_out': '15.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000038å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000005
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 4783
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000550'}]
0000000550
00030000000005 â˜† use_volume_std <0 ç½®ä¸º0
00030000000005 â˜† sum_total_money <0 ç½®ä¸º0
00030000000005
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000510')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000550', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000005', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 20, 835695), 'year': '2018', 'std_sum': '148', 'work_sum': '154', 'max_std_flow': '2051080329.0', 'min_std_flow': '0.0', 'avg_std_flow': '12187862.0', 'max_std_flow_time': datetime.datetime(2018, 8, 25, 2, 12, 3, 274000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 50, 8, 548000), 'max_work_flow': '1183838787.0', 'min_work_flow': '0.0', 'avg_work_flow': '7026997.0', 'max_work_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 53, 814000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 50, 8, 548000), 'max_temperature': '5.526836e+22', 'min_temperature': '-5.0393358e+35', 'avg_temperature': '1.1555166424626483e+19', 'max_temp_time': datetime.datetime(2018, 11, 1, 19, 46, 6, 142000), 'min_temp_time': datetime.datetime(2018, 10, 19, 10, 51, 7, 329000), 'max_press': '102.06', 'min_press': '-2112016.5', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 11, 22, 8, 20, 5, 948000), 'min_press_time': datetime.datetime(2018, 11, 1, 15, 42, 3, 286000), 'price': '3.5', 'use_volume_work': '104.0', 'use_volume_std': '0', 'use_money': '0.0', 'sum_total_volume': '148', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '212.5', 'remain_volume': '0.0', 'fm_state': '15', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '1.1555166424626483e+19', 'temp_out': '1.1555166424626483e+19', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000005å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000004
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 4979
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000551'}]
0000000551
00030000000004 â˜† sum_total_money <0 ç½®ä¸º0
00030000000004
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000508')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000551', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000004', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 21, 178695), 'year': '2018', 'std_sum': '60357', 'work_sum': '51783', 'max_std_flow': '1183737306.0', 'min_std_flow': '0.0', 'avg_std_flow': '10185396.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 57, 33000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 7, 720000), 'max_work_flow': '1183737308.0', 'min_work_flow': '0.0', 'avg_work_flow': '7524140.0', 'max_work_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 57, 33000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 7, 720000), 'max_temperature': '2.2977563e+23', 'min_temperature': '-3434896.5', 'avg_temperature': '3.230426611769431e+20', 'max_temp_time': datetime.datetime(2018, 11, 2, 2, 52, 31, 401000), 'min_temp_time': datetime.datetime(2018, 8, 3, 15, 34, 12, 72000), 'max_press': '1.044871e+34', 'min_press': '-3430800.5', 'avg_press': '1.4689891544486847e+31', 'max_press_time': datetime.datetime(2018, 11, 2, 2, 52, 31, 401000), 'min_press_time': datetime.datetime(2018, 7, 31, 11, 47, 11, 611000), 'price': '2.5', 'use_volume_work': '41.0', 'use_volume_std': '41.0', 'use_money': '102.5', 'sum_total_volume': '60357', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5.0', 'remain_volume': '0.0', 'fm_state': '78', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '1.4689891544486847e+31', 'press_out': '1.4689891544486847e+31', 'temp_in': '3.230426611769431e+20', 'temp_out': '3.230426611769431e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000004å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000101
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 5
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000552'}]
0000000552
00036000000101 â˜† sum_total_volume is None ç½®ä¸º0
00036000000101
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000513')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000552', 'rtu_no': '00030000000141', 'flmeter_no': '00036000000101', 'customer_no': '00030000000068', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 21, 508695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_std_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_work_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_temperature': '20.0', 'min_temperature': '20.0', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_temp_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_press_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '01', 'battery_voltage': None, 'battery_level': '22', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000101å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 662
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000553'}]
0000000553
00030000000007 â˜† sum_total_money <0 ç½®ä¸º0
00030000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000526')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000553', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 21, 796695), 'year': '2018', 'std_sum': '64', 'work_sum': '66', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 14, 0, 51, 380000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 11, 9, 34, 360000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 14, 0, 51, 380000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 11, 9, 34, 360000), 'max_temperature': '26.963799', 'min_temperature': '26.96', 'avg_temperature': '26.0', 'max_temp_time': datetime.datetime(2018, 9, 6, 17, 41, 19, 939000), 'min_temp_time': datetime.datetime(2018, 10, 8, 11, 17, 51, 702000), 'max_press': '100.15426', 'min_press': '100.15', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 9, 6, 17, 41, 19, 939000), 'min_press_time': datetime.datetime(2018, 10, 8, 11, 17, 51, 702000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '54289.0', 'use_money': '54289.0', 'sum_total_volume': '54353', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '45711.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '26.0', 'temp_out': '26.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000056
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 283
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000554'}]
0000000554
00036000000056 â˜† sum_total_volume is None ç½®ä¸º0
00036000000056
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000489')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000554', 'rtu_no': '00030000000098', 'flmeter_no': '00036000000056', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 22, 80726), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 11, 15, 31, 11, 452000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 11, 15, 31, 11, 452000), 'max_temperature': '19.4', 'min_temperature': '10.3', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 18, 41, 55, 777000), 'min_temp_time': datetime.datetime(2018, 12, 31, 0, 20, 39, 43000), 'max_press': '103.8', 'min_press': '99.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_press_time': datetime.datetime(2018, 12, 11, 17, 31, 57, 432000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000056å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000070
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 22
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000555'}]
0000000555
00036000000070 â˜† sum_total_volume is None ç½®ä¸º0
00036000000070
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000499')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000555', 'rtu_no': '00030000000112', 'flmeter_no': '00036000000070', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 22, 392698), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_temperature': '20.5', 'min_temperature': '20.5', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_temp_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_press_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '200', 'remain_money': '200', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000070å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000003
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 679
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000556'}]
0000000556
00036000000003 â˜† sum_total_money <0 ç½®ä¸º0
00036000000003
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000529')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000556', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000003', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 22, 700727), 'year': '2018', 'std_sum': '64', 'work_sum': '67', 'max_std_flow': '9306112.0', 'min_std_flow': '0.0', 'avg_std_flow': '22585.0', 'max_std_flow_time': datetime.datetime(2018, 12, 3, 10, 46, 11, 364000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 12, 0, 15, 49000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 43, 11, 590000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 12, 0, 15, 49000), 'max_temperature': '2.0172747e+36', 'min_temperature': '0.0', 'avg_temperature': '2.9709494845360823e+33', 'max_temp_time': datetime.datetime(2018, 12, 4, 10, 36, 50, 871000), 'min_temp_time': datetime.datetime(2018, 12, 3, 10, 46, 11, 364000), 'max_press': '101.62', 'min_press': '-2109584.5', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 11, 30, 7, 31, 11, 657000), 'min_press_time': datetime.datetime(2018, 12, 6, 23, 30, 14, 63000), 'price': '2.5', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '64', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '293.61', 'remain_volume': '0.0', 'fm_state': '06', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '87', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '2.9709494845360823e+33', 'temp_out': '2.9709494845360823e+33', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000003å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000045
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 429
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000557'}]
0000000557
00036000000045 â˜† sum_total_volume is None ç½®ä¸º0
00036000000045
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000523')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000557', 'rtu_no': '00030000000086', 'flmeter_no': '00036000000045', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 22, 960726), 'year': '2018', 'std_sum': '759', 'work_sum': '757', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 23, 15, 37, 20, 12000), 'min_std_flow_time': datetime.datetime(2018, 11, 1, 14, 58, 17, 675000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 23, 15, 37, 20, 12000), 'min_work_flow_time': datetime.datetime(2018, 11, 1, 14, 58, 17, 675000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 29, 11, 10, 34, 328000), 'min_temp_time': datetime.datetime(2018, 11, 29, 9, 21, 30, 138000), 'max_press': '104.2', 'min_press': '0.0', 'avg_press': '95.0', 'max_press_time': datetime.datetime(2018, 11, 20, 9, 32, 10, 368000), 'min_press_time': datetime.datetime(2018, 11, 29, 9, 21, 30, 138000), 'price': '1.0', 'use_volume_work': '757.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '3', 'remain_money': '3', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '95.0', 'press_out': '95.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000045å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 951
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000558'}]
0000000558
00036000000020 â˜† sum_total_volume is None ç½®ä¸º0
00036000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000502')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000558', 'rtu_no': '00030000000051', 'flmeter_no': '00036000000020', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 23, 265726), 'year': '2018', 'std_sum': '22', 'work_sum': '2', 'max_std_flow': '16.46', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 7, 9, 48, 23, 61000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 12, 57, 34, 605000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 17, 55, 23, 156000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 12, 57, 34, 605000), 'max_temperature': '32.1', 'min_temperature': '0.0', 'avg_temperature': '8.0', 'max_temp_time': datetime.datetime(2019, 2, 19, 18, 53, 43, 835000), 'min_temp_time': datetime.datetime(2018, 12, 5, 15, 6, 53, 297000), 'max_press': '628.3', 'min_press': '0.0', 'avg_press': '78.0', 'max_press_time': datetime.datetime(2018, 12, 24, 7, 30, 14, 356000), 'min_press_time': datetime.datetime(2018, 12, 5, 15, 6, 53, 297000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 5.0, 'total_buy_volume': None, 'total_buy_money': '90', 'remain_money': '85', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '78.0', 'press_out': '78.0', 'temp_in': '8.0', 'temp_out': '8.0', 'rssi': '17.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 18
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000559'}]
0000000559
00036000000021 â˜† use_volume_work <0 ç½®ä¸º0
00036000000021 â˜† sum_total_volume is None ç½®ä¸º0
00036000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000490')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000559', 'rtu_no': '00030000000055', 'flmeter_no': '00036000000021', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 23, 553698), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 4, 2, 8, 38, 29, 181000), 'min_std_flow_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 4, 2, 8, 38, 29, 181000), 'min_work_flow_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'max_temperature': '23.4', 'min_temperature': '0.0', 'avg_temperature': '1.0', 'max_temp_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'min_temp_time': datetime.datetime(2019, 3, 27, 14, 11, 18, 481000), 'max_press': '102.4', 'min_press': '0.0', 'avg_press': '5.0', 'max_press_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'min_press_time': datetime.datetime(2019, 3, 27, 14, 11, 18, 481000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '26351', 'remain_money': '26351', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '100', 'press_in': '5.0', 'press_out': '5.0', 'temp_in': '1.0', 'temp_out': '1.0', 'rssi': '25.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000051
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 643
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000560'}]
0000000560
00036000000051 â˜† use_volume_work <0 ç½®ä¸º0
00036000000051 â˜† sum_total_volume is None ç½®ä¸º0
00036000000051
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000534')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000560', 'rtu_no': '00030000000093', 'flmeter_no': '00036000000051', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 23, 838695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 17, 16, 38, 6, 450000), 'min_std_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 17, 16, 38, 6, 450000), 'min_work_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'max_temperature': '23.4', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 11, 0, 20, 56, 632000), 'min_temp_time': datetime.datetime(2018, 12, 7, 8, 40, 54, 795000), 'max_press': '114.8', 'min_press': '101.3', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 12, 30, 10, 24, 41, 950000), 'min_press_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '5', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000051å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000019
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 60
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000561'}]
0000000561
00030000000019 â˜† sum_total_volume is None ç½®ä¸º0
00030000000019
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000509')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000561', 'rtu_no': '00030000000049', 'flmeter_no': '00030000000019', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 24, 131714), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 9, 11, 16, 36, 733000), 'min_std_flow_time': datetime.datetime(2018, 11, 2, 13, 11, 30, 924000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 13, 27, 16, 356000), 'min_work_flow_time': datetime.datetime(2018, 9, 9, 11, 15, 30, 177000), 'max_temperature': '21.9', 'min_temperature': '-25.7', 'avg_temperature': '1.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 13, 25, 14, 120000), 'min_temp_time': datetime.datetime(2018, 9, 9, 11, 15, 30, 177000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '11.0', 'max_press_time': datetime.datetime(2018, 9, 9, 11, 16, 36, 733000), 'min_press_time': datetime.datetime(2018, 11, 2, 13, 11, 30, 924000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': '0', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '59', 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '11.0', 'press_out': '11.0', 'temp_in': '1.0', 'temp_out': '1.0', 'rssi': '10.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000019å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000046
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 959
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000562'}]
0000000562
00036000000046 â˜† sum_total_volume is None ç½®ä¸º0
00036000000046
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000482')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000562', 'rtu_no': '00030000000088', 'flmeter_no': '00036000000046', 'customer_no': '00030000000040', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 24, 410696), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 18, 934000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 15, 14, 53, 942000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 18, 934000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 15, 14, 53, 942000), 'max_temperature': '27.4', 'min_temperature': '0.0', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2018, 12, 4, 15, 15, 14, 575000), 'min_temp_time': datetime.datetime(2018, 11, 29, 8, 50, 47, 552000), 'max_press': '106.0', 'min_press': '0.0', 'avg_press': '61.0', 'max_press_time': datetime.datetime(2018, 12, 9, 3, 22, 36, 855000), 'min_press_time': datetime.datetime(2018, 11, 29, 8, 50, 47, 552000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '1999815', 'remain_money': '1999813', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '61.0', 'press_out': '61.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000046å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 298
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000563'}]
0000000563
00036000000007 â˜† sum_total_money <0 ç½®ä¸º0
00036000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000480')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000563', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 24, 719725), 'year': '2018', 'std_sum': '64', 'work_sum': '66', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_temperature': '26.96', 'min_temperature': '26.96', 'avg_temperature': '26.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_press': '100.15', 'min_press': '100.15', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '60492', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '39572.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '26.0', 'temp_out': '26.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 392
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000564'}]
0000000564
00030000000020 â˜† sum_total_volume is None ç½®ä¸º0
00030000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000497')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000564', 'rtu_no': '00030000000051', 'flmeter_no': '00030000000020', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 25, 40695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 29, 11, 42, 38, 869000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 29, 11, 42, 38, 869000), 'min_work_flow_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_temperature': '19.4', 'min_temperature': '0.0', 'avg_temperature': '6.0', 'max_temp_time': datetime.datetime(2018, 11, 15, 16, 52, 44, 888000), 'min_temp_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_press': '103.1', 'min_press': '0.0', 'avg_press': '35.0', 'max_press_time': datetime.datetime(2018, 11, 22, 15, 44, 20, 331000), 'min_press_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'price': '2.32', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '657', 'remain_money': '657', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '35.0', 'press_out': '35.0', 'temp_in': '6.0', 'temp_out': '6.0', 'rssi': '7.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 749
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000565'}]
0000000565
00030000000009 â˜† sum_total_money <0 ç½®ä¸º0
00030000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000538')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000565', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 25, 350695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_temp_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_press_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '14141.0', 'use_money': '14141.0', 'sum_total_volume': '14220', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '85830.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000052
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 826
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000566'}]
0000000566
00036000000052 â˜† sum_total_volume is None ç½®ä¸º0
00036000000052
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000504')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000566', 'rtu_no': '00030000000094', 'flmeter_no': '00036000000052', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 25, 626727), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '6.31', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 4, 10, 45, 30, 39000), 'min_std_flow_time': datetime.datetime(2018, 11, 29, 8, 48, 30, 878000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 21, 16, 22, 27, 183000), 'min_work_flow_time': datetime.datetime(2018, 11, 29, 8, 48, 30, 878000), 'max_temperature': '26.1', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 18, 20, 29, 365000), 'min_temp_time': datetime.datetime(2018, 12, 4, 9, 2, 4, 27000), 'max_press': '104.1', 'min_press': '0.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 9, 24, 23, 28000), 'min_press_time': datetime.datetime(2018, 12, 4, 9, 2, 4, 27000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 5.0, 'total_buy_volume': None, 'total_buy_money': '10', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000052å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000018
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 863
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000567'}]
0000000567
00036000000018 â˜† sum_total_volume is None ç½®ä¸º0
00036000000018
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000527')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000567', 'rtu_no': '00030000000049', 'flmeter_no': '00036000000018', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 25, 923696), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '477.63', 'min_std_flow': '0.0', 'avg_std_flow': '6.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 18, 40, 13, 656000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 10, 39, 6, 277000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 17, 41, 55, 453000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 10, 39, 6, 277000), 'max_temperature': '2491.0', 'min_temperature': '-25.7', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2019, 3, 26, 8, 42, 10, 843000), 'min_temp_time': datetime.datetime(2019, 1, 30, 14, 25, 2, 12000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '40.0', 'max_press_time': datetime.datetime(2019, 1, 30, 14, 25, 2, 12000), 'min_press_time': datetime.datetime(2018, 11, 30, 0, 20, 55, 586000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': '0', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '45', 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '40.0', 'press_out': '40.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000018å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000054
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 515
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000568'}]
0000000568
00036000000054 â˜† sum_total_volume is None ç½®ä¸º0
00036000000054 â˜† sum_total_money <0 ç½®ä¸º0
00036000000054
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000542')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000568', 'rtu_no': '00030000000096', 'flmeter_no': '00036000000054', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 26, 222695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '267.15', 'min_std_flow': '0.0', 'avg_std_flow': '1.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 18, 55, 19, 281000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 45, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 10, 46, 22, 593000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 45, 246000), 'max_temperature': '98.4', 'min_temperature': '0.0', 'avg_temperature': '15.0', 'max_temp_time': datetime.datetime(2019, 3, 21, 9, 57, 27, 921000), 'min_temp_time': datetime.datetime(2018, 12, 11, 14, 26, 44, 303000), 'max_press': '104.2', 'min_press': '0.0', 'avg_press': '72.0', 'max_press_time': datetime.datetime(2018, 12, 31, 0, 21, 22, 262000), 'min_press_time': datetime.datetime(2018, 12, 11, 14, 26, 44, 303000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '72.0', 'press_out': '72.0', 'temp_in': '15.0', 'temp_out': '15.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000054å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000047
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 451
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000569'}]
0000000569
00036000000047 â˜† sum_total_volume is None ç½®ä¸º0
00036000000047
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000546')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000569', 'rtu_no': '00030000000089', 'flmeter_no': '00036000000047', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 26, 550727), 'year': '2018', 'std_sum': '12', 'work_sum': '12', 'max_std_flow': '0.04', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 21, 13, 42, 20, 374000), 'min_std_flow_time': datetime.datetime(2018, 11, 21, 16, 6, 55, 855000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 12, 51, 25, 934000), 'min_work_flow_time': datetime.datetime(2018, 11, 21, 16, 6, 55, 855000), 'max_temperature': '24.3', 'min_temperature': '0.0', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 28, 13, 21, 18, 75000), 'min_temp_time': datetime.datetime(2018, 11, 22, 15, 38, 16, 652000), 'max_press': '111.6', 'min_press': '0.0', 'avg_press': '80.0', 'max_press_time': datetime.datetime(2018, 12, 5, 9, 10, 17, 84000), 'min_press_time': datetime.datetime(2018, 11, 22, 15, 38, 16, 652000), 'price': '1.0', 'use_volume_work': '12.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 21.0, 'total_buy_volume': None, 'total_buy_money': '119', 'remain_money': '98', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '80.0', 'press_out': '80.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000047å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000063
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 586
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000570'}]
0000000570
00036000000063 â˜† use_volume_work <0 ç½®ä¸º0
00036000000063 â˜† sum_total_volume is None ç½®ä¸º0
00036000000063
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000483')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000570', 'rtu_no': '00030000000105', 'flmeter_no': '00036000000063', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 26, 838697), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 15, 56, 168000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 48, 590000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 15, 56, 168000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 48, 590000), 'max_temperature': '19.2', 'min_temperature': '9.3', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 0, 20, 56, 918000), 'min_temp_time': datetime.datetime(2018, 12, 25, 14, 6, 12, 418000), 'max_press': '103.1', 'min_press': '92.6', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 14, 19, 33, 0, 90000), 'min_press_time': datetime.datetime(2018, 12, 15, 23, 37, 4, 590000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '3.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000063å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000017
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 29
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000571'}]
0000000571
00030000000017 â˜† sum_total_volume is None ç½®ä¸º0
00030000000017 â˜† sum_total_money <0 ç½®ä¸º0
00030000000017
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000503')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000571', 'rtu_no': '00030000000047', 'flmeter_no': '00030000000017', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 27, 211695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_std_flow_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_work_flow_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_temp_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_press_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '2103', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000017å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000053
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 694
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000572'}]
0000000572
00036000000053 â˜† sum_total_volume is None ç½®ä¸º0
00036000000053
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000485')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000572', 'rtu_no': '00030000000095', 'flmeter_no': '00036000000053', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 27, 527698), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 14, 26, 39, 246000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 21, 16, 762000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 14, 26, 39, 246000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 21, 16, 762000), 'max_temperature': '25.6', 'min_temperature': '0.0', 'avg_temperature': '11.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 15, 7, 42, 195000), 'min_temp_time': datetime.datetime(2018, 12, 11, 16, 2, 7, 531000), 'max_press': '110.4', 'min_press': '0.0', 'avg_press': '73.0', 'max_press_time': datetime.datetime(2018, 12, 10, 10, 56, 15, 414000), 'min_press_time': datetime.datetime(2018, 12, 11, 16, 2, 7, 531000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '190', 'remain_money': '190', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '73.0', 'press_out': '73.0', 'temp_in': '11.0', 'temp_out': '11.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000053å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000018
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 225
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000573'}]
0000000573
00030000000018 â˜† sum_total_volume is None ç½®ä¸º0
00030000000018 â˜† sum_total_money <0 ç½®ä¸º0
00030000000018
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000498')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000573', 'rtu_no': '00030000000048', 'flmeter_no': '00030000000018', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 27, 914727), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 29, 12, 57, 41, 574000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 29, 12, 57, 41, 574000), 'min_work_flow_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_temperature': '20.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 9, 16, 23, 14, 462000), 'min_temp_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_press': '102.0', 'min_press': '0.0', 'avg_press': '1.0', 'max_press_time': datetime.datetime(2018, 11, 9, 16, 23, 14, 462000), 'min_press_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '148', 'remain_money': '149', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '1.0', 'press_out': '1.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '4.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000018å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000037
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 312
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000574'}]
0000000574
00036000000037 â˜† sum_total_volume is None ç½®ä¸º0
00036000000037
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000537')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000574', 'rtu_no': '00030000000064', 'flmeter_no': '00036000000037', 'customer_no': '00030000000018', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 28, 215728), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_std_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_work_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_temperature': '19.0', 'min_temperature': '0.0', 'avg_temperature': '7.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 0, 21, 11, 418000), 'min_temp_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '46.0', 'max_press_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_press_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 6.0, 'total_buy_volume': None, 'total_buy_money': '6', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '46.0', 'press_out': '46.0', 'temp_in': '7.0', 'temp_out': '7.0', 'rssi': '5.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000037å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000014
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 761
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000575'}]
0000000575
00030000000014 â˜† sum_total_volume is None ç½®ä¸º0
00030000000014
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000545')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000575', 'rtu_no': '00030000000044', 'flmeter_no': '00030000000014', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 28, 566694), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '20.0', 'max_std_flow_time': datetime.datetime(2018, 9, 4, 18, 11, 12, 118000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 14, 47, 38, 183000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 28, 14, 52, 1, 832000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 694000), 'max_temperature': '25.8', 'min_temperature': '-25.7', 'avg_temperature': '2.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 10, 17, 0, 342000), 'min_temp_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 694000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '94.0', 'max_press_time': datetime.datetime(2018, 9, 4, 18, 11, 12, 118000), 'min_press_time': datetime.datetime(2018, 10, 31, 14, 47, 38, 183000), 'price': '0.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '94.0', 'press_out': '94.0', 'temp_in': '2.0', 'temp_out': '2.0', 'rssi': '4.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000014å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000042
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 483
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000576'}]
0000000576
00036000000042 â˜† use_volume_work <0 ç½®ä¸º0
00036000000042 â˜† sum_total_volume is None ç½®ä¸º0
00036000000042
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000511')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000576', 'rtu_no': '00030000000083', 'flmeter_no': '00036000000042', 'customer_no': '00030000000032', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 28, 902726), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '19.75', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 13, 10, 49, 12, 658000), 'min_std_flow_time': datetime.datetime(2018, 11, 17, 8, 23, 31, 42000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 21, 10, 22, 19, 197000), 'min_work_flow_time': datetime.datetime(2018, 11, 17, 8, 23, 31, 42000), 'max_temperature': '26.5', 'min_temperature': '14.9', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 19, 17, 21, 17, 669000), 'min_temp_time': datetime.datetime(2018, 11, 20, 10, 11, 29, 883000), 'max_press': '102.3', 'min_press': '92.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 11, 20, 23, 1, 51, 621000), 'min_press_time': datetime.datetime(2018, 11, 19, 13, 49, 31, 769000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 17.0, 'total_buy_volume': None, 'total_buy_money': '19', 'remain_money': '2', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '8.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000042å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000055
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 56
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000577'}]
0000000577
00036000000055 â˜† use_volume_work <0 ç½®ä¸º0
00036000000055 â˜† sum_total_volume is None ç½®ä¸º0
00036000000055
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000514')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000577', 'rtu_no': '00030000000097', 'flmeter_no': '00036000000055', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 29, 219730), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 2, 24, 41, 200000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 51, 49, 75000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 2, 24, 41, 200000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 51, 49, 75000), 'max_temperature': '19.2', 'min_temperature': '9.9', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 12, 14, 24, 23, 429000), 'min_temp_time': datetime.datetime(2018, 12, 31, 8, 28, 15, 996000), 'max_press': '103.6', 'min_press': '99.4', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 31, 9, 28, 37, 981000), 'min_press_time': datetime.datetime(2018, 12, 13, 7, 27, 45, 56000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 8.0, 'total_buy_volume': None, 'total_buy_money': '16', 'remain_money': '8', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000055å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000080
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 6
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000578'}]
0000000578
00036000000080 â˜† sum_total_volume is None ç½®ä¸º0
00036000000080
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000512')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000578', 'rtu_no': '00030000000120', 'flmeter_no': '00036000000080', 'customer_no': '00030000000050', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 29, 555697), 'year': '2018', 'std_sum': '0', 'work_sum': '1', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 26, 11, 11, 55, 457000), 'min_std_flow_time': datetime.datetime(2019, 3, 26, 14, 2, 35, 281000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 26, 11, 11, 55, 457000), 'min_work_flow_time': datetime.datetime(2019, 3, 26, 14, 2, 35, 281000), 'max_temperature': '20.0', 'min_temperature': '0.1', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2019, 3, 26, 13, 54, 3, 265000), 'min_temp_time': datetime.datetime(2019, 3, 26, 11, 15, 20, 86000), 'max_press': '101.3', 'min_press': '0.0', 'avg_press': '50.0', 'max_press_time': datetime.datetime(2019, 3, 26, 13, 54, 3, 265000), 'min_press_time': datetime.datetime(2019, 3, 26, 11, 15, 20, 86000), 'price': '665.6244', 'use_volume_work': '1.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '600', 'remain_money': '600', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '50.0', 'press_out': '50.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000080å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000043
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 235
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000579'}]
0000000579
00036000000043 â˜† sum_total_volume is None ç½®ä¸º0
00036000000043
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000505')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000579', 'rtu_no': '00030000000084', 'flmeter_no': '00036000000043', 'customer_no': '00030000000035', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 29, 870726), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 25, 0, 22, 13, 762000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 12, 34, 30, 561000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 0, 22, 13, 762000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 12, 34, 30, 561000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 11, 13, 13, 51, 30, 639000), 'min_temp_time': datetime.datetime(2018, 11, 13, 15, 51, 19, 152000), 'max_press': '1915.2', 'min_press': '0.0', 'avg_press': '168.0', 'max_press_time': datetime.datetime(2018, 11, 13, 15, 49, 16, 875000), 'min_press_time': datetime.datetime(2018, 11, 13, 13, 50, 32, 965000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 650.0, 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '168.0', 'press_out': '168.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000043å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000044
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 450
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000580'}]
0000000580
00036000000044 â˜† sum_total_volume is None ç½®ä¸º0
00036000000044
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000479')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000580', 'rtu_no': '00030000000085', 'flmeter_no': '00036000000044', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 30, 174697), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 10, 5, 23, 15, 754000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 10, 5, 23, 15, 754000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_temperature': '19.8', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 11, 29, 19, 25, 30, 139000), 'min_temp_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 12, 8, 18, 25, 27, 550000), 'min_press_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 650.0, 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000044å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000059
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 381
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000581'}]
0000000581
00036000000059 â˜† sum_total_volume is None ç½®ä¸º0
00036000000059
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000519')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000581', 'rtu_no': '00030000000101', 'flmeter_no': '00036000000059', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 30, 598696), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 51, 50, 434000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 2, 32, 10, 231000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 51, 50, 434000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 2, 32, 10, 231000), 'max_temperature': '21.7', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 12, 26, 23, 38, 16, 793000), 'min_temp_time': datetime.datetime(2018, 12, 20, 20, 41, 51, 309000), 'max_press': '107.0', 'min_press': '101.4', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 20, 20, 41, 51, 309000), 'min_press_time': datetime.datetime(2018, 12, 19, 14, 39, 45, 278000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000059å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000016
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 16
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000582'}]
0000000582
00030000000016 â˜† sum_total_volume is None ç½®ä¸º0
00030000000016 â˜† sum_total_money <0 ç½®ä¸º0
00030000000016
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000494')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000582', 'rtu_no': '00030000000047', 'flmeter_no': '00030000000016', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 30, 888699), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 7, 10, 30, 27, 345000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 19, 23, 33, 892000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 30, 27, 345000), 'min_work_flow_time': datetime.datetime(2018, 11, 8, 19, 23, 33, 892000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 11, 7, 9, 34, 52, 938000), 'min_temp_time': datetime.datetime(2018, 11, 7, 10, 22, 48, 82000), 'max_press': '101.9', 'min_press': '0.0', 'avg_press': '19.0', 'max_press_time': datetime.datetime(2018, 11, 7, 9, 34, 52, 938000), 'min_press_time': datetime.datetime(2018, 11, 7, 10, 22, 48, 82000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '1618', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '19.0', 'press_out': '19.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000016å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000010
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 114
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000583'}]
0000000583
00036000000010
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000501')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000583', 'rtu_no': None, 'flmeter_no': '00036000000010', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 31, 179697), 'year': '2018', 'std_sum': '2523.170', 'work_sum': '2557.740', 'max_std_flow': '40.4', 'min_std_flow': '0.0', 'avg_std_flow': '14.0', 'max_std_flow_time': datetime.datetime(2018, 10, 25, 0, 0, 46), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 1, 17), 'max_work_flow': '41.09', 'min_work_flow': '0.0', 'avg_work_flow': '14.0', 'max_work_flow_time': datetime.datetime(2018, 10, 26, 0, 1, 3), 'min_work_flow_time': datetime.datetime(2018, 8, 11, 0, 1, 17), 'max_temperature': '26.636', 'min_temperature': '19.225', 'avg_temperature': '24.0', 'max_temp_time': datetime.datetime(2018, 8, 15, 0, 0, 51), 'min_temp_time': datetime.datetime(2018, 10, 19, 0, 0, 45), 'max_press': '102.385', 'min_press': '98.676', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 10, 12, 0, 0, 48), 'min_press_time': datetime.datetime(2018, 8, 17, 0, 0, 47), 'price': '0.000', 'use_volume_work': '2527.87', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '24.0', 'temp_out': '24.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000010å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 348
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000584'}]
0000000584
00036000000009 â˜† sum_total_money <0 ç½®ä¸º0
00036000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000536')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000584', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 31, 479695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '19668', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '80382.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 787
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000585'}]
0000000585
00036000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000496')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000585', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000022', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 31, 798729), 'year': '2018', 'std_sum': '1500674.370', 'work_sum': '428552.710', 'max_std_flow': '173.94', 'min_std_flow': '0.0', 'avg_std_flow': '107.0', 'max_std_flow_time': datetime.datetime(2018, 8, 14, 0, 0, 26), 'min_std_flow_time': datetime.datetime(2018, 7, 25, 16, 0, 22), 'max_work_flow': '101.09', 'min_work_flow': '0.0', 'avg_work_flow': '31.0', 'max_work_flow_time': datetime.datetime(2018, 8, 14, 16, 0, 25), 'min_work_flow_time': datetime.datetime(2018, 7, 25, 16, 0, 22), 'max_temperature': '41.54', 'min_temperature': '16.591', 'avg_temperature': '29.0', 'max_temp_time': datetime.datetime(2018, 8, 24, 16, 0, 23), 'min_temp_time': datetime.datetime(2018, 10, 24, 2, 7, 18), 'max_press': '431.816', 'min_press': '133.135', 'avg_press': '355.0', 'max_press_time': datetime.datetime(2018, 9, 25, 2, 0, 23), 'min_press_time': datetime.datetime(2018, 8, 14, 16, 0, 25), 'price': '0.000', 'use_volume_work': '75799.62', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '355.0', 'press_out': '355.0', 'temp_in': '29.0', 'temp_out': '29.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000003
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 5655
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000586'}]
0000000586
00030000000003 â˜† sum_total_money <0 ç½®ä¸º0
00030000000003
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000522')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000586', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000003', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 32, 110695), 'year': '2018', 'std_sum': '64', 'work_sum': '67', 'max_std_flow': '2142519759.0', 'min_std_flow': '0.0', 'avg_std_flow': '17855155.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 16, 54, 9, 470000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 5, 751000), 'max_work_flow': '1241223232.0', 'min_work_flow': '0.0', 'avg_work_flow': '7043536.0', 'max_work_flow_time': datetime.datetime(2018, 7, 25, 16, 3, 11, 914000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 5, 751000), 'max_temperature': '2.5821684e+38', 'min_temperature': '-1.0115858e+36', 'avg_temperature': '1.8264700312268874e+35', 'max_temp_time': datetime.datetime(2018, 8, 4, 16, 4, 43, 87000), 'min_temp_time': datetime.datetime(2018, 8, 3, 19, 4, 42, 837000), 'max_press': '128.0', 'min_press': '-8449346.0', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 10, 24, 21, 47, 6, 622000), 'min_press_time': datetime.datetime(2018, 11, 1, 11, 25, 21, 511000), 'price': '2.5', 'use_volume_work': '67.0', 'use_volume_std': '64.0', 'use_money': '160.0', 'sum_total_volume': '64', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '292.5', 'remain_volume': '0.0', 'fm_state': '06', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '1.8264700312268874e+35', 'temp_out': '1.8264700312268874e+35', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000003å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000041
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 127
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000587'}]
0000000587
00036000000041 â˜† use_volume_work <0 ç½®ä¸º0
00036000000041 â˜† sum_total_volume is None ç½®ä¸º0
00036000000041
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000507')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000587', 'rtu_no': '00030000000082', 'flmeter_no': '00036000000041', 'customer_no': '00030000000031', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 32, 470725), 'year': '2018', 'std_sum': '4', 'work_sum': '4', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 21, 0, 20, 26, 45000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 16, 39, 32, 598000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 21, 0, 20, 26, 45000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 16, 39, 32, 598000), 'max_temperature': '20.6', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 21, 9, 16, 3, 723000), 'min_temp_time': datetime.datetime(2018, 11, 14, 15, 28, 29, 565000), 'max_press': '102.7', 'min_press': '88.4', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 11, 14, 15, 28, 29, 565000), 'min_press_time': datetime.datetime(2018, 11, 15, 10, 29, 1, 347000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 15.0, 'total_buy_volume': None, 'total_buy_money': '15', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000041å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000040
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1947
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000588'}]
0000000588
00036000000040 â˜† use_volume_work <0 ç½®ä¸º0
00036000000040 â˜† sum_total_volume is None ç½®ä¸º0
00036000000040
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000531')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000588', 'rtu_no': '00030000000081', 'flmeter_no': '00036000000040', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 32, 814727), 'year': '2018', 'std_sum': '2', 'work_sum': '1', 'max_std_flow': '19.84', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 9, 10, 48, 38, 934000), 'min_std_flow_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 4, 2, 17, 20, 59, 15000), 'min_work_flow_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_temperature': '27.0', 'min_temperature': '0.0', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 10, 30, 10, 19, 8, 780000), 'min_temp_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_press': '110.7', 'min_press': '0.0', 'avg_press': '74.0', 'max_press_time': datetime.datetime(2018, 12, 24, 14, 48, 45, 919000), 'min_press_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '74.0', 'press_out': '74.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '11.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000040å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000057
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 512
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000589'}]
0000000589
00036000000057 â˜† sum_total_volume is None ç½®ä¸º0
00036000000057
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000516')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000589', 'rtu_no': '00030000000099', 'flmeter_no': '00036000000057', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 33, 117707), 'year': '2018', 'std_sum': '12', 'work_sum': '12', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 29, 7, 30, 41, 934000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 1, 21, 45, 215000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 7, 30, 41, 934000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 1, 21, 45, 215000), 'max_temperature': '20.1', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 12, 10, 26, 57, 719000), 'min_temp_time': datetime.datetime(2018, 12, 31, 0, 21, 11, 59000), 'max_press': '106.9', 'min_press': '101.5', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 11, 20, 42, 11, 728000), 'min_press_time': datetime.datetime(2018, 12, 19, 15, 34, 32, 262000), 'price': '1.0', 'use_volume_work': '12.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000057å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000012
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 3748
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000590'}]
0000000590
00030000000012 â˜† sum_total_volume is None ç½®ä¸º0
00030000000012
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000506')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000590', 'rtu_no': '00030000000042', 'flmeter_no': '00030000000012', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 33, 450697), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '25.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 11, 40, 19, 867000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 15, 4, 5, 771000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 15, 56, 16, 530000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 10, 35, 7, 470000), 'max_temperature': '3302.5', 'min_temperature': '-25.7', 'avg_temperature': '2846.0', 'max_temp_time': datetime.datetime(2018, 9, 4, 14, 33, 5, 258000), 'min_temp_time': datetime.datetime(2018, 9, 7, 13, 57, 14, 694000), 'max_press': '103.7', 'min_press': '101.6', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 9, 19, 11, 40, 19, 867000), 'min_press_time': datetime.datetime(2018, 11, 6, 15, 46, 30, 174000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2996', 'remain_money': '2996', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '2846.0', 'temp_out': '2846.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000012å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000050
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 364
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000591'}]
0000000591
00036000000050 â˜† sum_total_volume is None ç½®ä¸º0
00036000000050
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000495')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000591', 'rtu_no': '00030000000092', 'flmeter_no': '00036000000050', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 33, 789697), 'year': '2018', 'std_sum': '0', 'work_sum': '30', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_std_flow_time': datetime.datetime(2018, 11, 29, 9, 8, 3, 721000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_work_flow_time': datetime.datetime(2018, 11, 29, 9, 8, 3, 721000), 'max_temperature': '20.5', 'min_temperature': '18.4', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_temp_time': datetime.datetime(2018, 12, 4, 0, 20, 30, 919000), 'max_press': '101.4', 'min_press': '101.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 4, 8, 23, 45, 167000), 'min_press_time': datetime.datetime(2018, 12, 4, 0, 20, 30, 919000), 'price': '1.0', 'use_volume_work': '30.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 29.0, 'total_buy_volume': None, 'total_buy_money': '104', 'remain_money': '75', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '50', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000050å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000058
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 309
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000592'}]
0000000592
00036000000058 â˜† use_volume_work <0 ç½®ä¸º0
00036000000058 â˜† sum_total_volume is None ç½®ä¸º0
00036000000058
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000478')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000592', 'rtu_no': '00030000000100', 'flmeter_no': '00036000000058', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 34, 139695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 12, 950000), 'min_std_flow_time': datetime.datetime(2018, 12, 15, 14, 28, 5, 715000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 12, 950000), 'min_work_flow_time': datetime.datetime(2018, 12, 15, 14, 28, 5, 715000), 'max_temperature': '23.0', 'min_temperature': '0.0', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 21, 16, 18, 29, 981000), 'min_temp_time': datetime.datetime(2018, 12, 21, 16, 16, 57, 918000), 'max_press': '109.1', 'min_press': '0.0', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 14, 10, 37, 29, 590000), 'min_press_time': datetime.datetime(2018, 12, 21, 16, 16, 57, 918000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000058å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 80
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000593'}]
0000000593
00030000000021 â˜† sum_total_volume is None ç½®ä¸º0
00030000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000492')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000593', 'rtu_no': '00030000000051', 'flmeter_no': '00030000000021', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 34, 480695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 6, 16, 58, 7, 913000), 'min_std_flow_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 16, 58, 7, 913000), 'min_work_flow_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_temperature': '24.2', 'min_temperature': '0.0', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 10, 29, 11, 11, 30, 633000), 'min_temp_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_press': '101.4', 'min_press': '0.0', 'avg_press': '16.0', 'max_press_time': datetime.datetime(2018, 10, 29, 11, 11, 30, 633000), 'min_press_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': '650', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '790', 'fm_state': '1', 'fm_state_msg': '[è¡¨å†…ç´¯è®¡å……å€¼é‡‘é¢æ¯”ICå¡å†…çš„ç´¯è®¡é‡‘é¢å¤§][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[è¡¨å†…ç´¯è®¡å……å€¼é‡‘é¢æ¯”ICå¡å†…çš„ç´¯è®¡é‡‘é¢å¤§][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '16.0', 'press_out': '16.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '3.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000062
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 21
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000594'}]
0000000594
00036000000062 â˜† use_volume_work <0 ç½®ä¸º0
00036000000062 â˜† sum_total_volume is None ç½®ä¸º0
00036000000062
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000543')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000594', 'rtu_no': '00030000000104', 'flmeter_no': '00036000000062', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 34, 866697), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_std_flow_time': datetime.datetime(2018, 12, 14, 12, 25, 58, 981000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_work_flow_time': datetime.datetime(2018, 12, 14, 12, 25, 58, 981000), 'max_temperature': '19.2', 'min_temperature': '10.3', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 19, 33, 2, 43000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 53, 153000), 'max_press': '103.6', 'min_press': '102.0', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_press_time': datetime.datetime(2018, 12, 25, 1, 22, 56, 559000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000062å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 706
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000595'}]
0000000595
00030000000008 â˜† sum_total_money <0 ç½®ä¸º0
00030000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000528')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000595', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 35, 198694), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_temp_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_press_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '43534.0', 'use_money': '43534.0', 'sum_total_volume': '43578', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '56492.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000011
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 431
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000596'}]
0000000596
00036000000011
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000477')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000596', 'rtu_no': None, 'flmeter_no': '00036000000011', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 35, 521727), 'year': '2018', 'std_sum': '1649.380', 'work_sum': '1669.680', 'max_std_flow': '15.97', 'min_std_flow': '0.0', 'avg_std_flow': '13.0', 'max_std_flow_time': datetime.datetime(2018, 10, 25, 0, 0, 47), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 0, 49), 'max_work_flow': '16.11', 'min_work_flow': '0.0', 'avg_work_flow': '13.0', 'max_work_flow_time': datetime.datetime(2018, 10, 26, 0, 1, 17), 'min_work_flow_time': datetime.datetime(2018, 8, 11, 0, 0, 49), 'max_temperature': '26.993', 'min_temperature': '19.649', 'avg_temperature': '23.0', 'max_temp_time': datetime.datetime(2018, 8, 15, 0, 0, 50), 'min_temp_time': datetime.datetime(2018, 10, 19, 0, 0, 45), 'max_press': '114.847', 'min_press': '98.563', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 8, 30, 0, 1, 18), 'min_press_time': datetime.datetime(2018, 8, 17, 0, 0, 43), 'price': '0.000', 'use_volume_work': '1652.77', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '23.0', 'temp_out': '23.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000011å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000066
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 14
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000597'}]
0000000597
00036000000066 â˜† sum_total_volume is None ç½®ä¸º0
00036000000066
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000533')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000597', 'rtu_no': '00030000000108', 'flmeter_no': '00036000000066', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 35, 805704), 'year': '2018', 'std_sum': '109', 'work_sum': '101', 'max_std_flow': '7.5', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 20, 12, 3, 41, 700000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 24, 12, 20, 19, 528000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'max_temperature': '20.5', 'min_temperature': '12.1', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 12, 35, 52, 309000), 'min_temp_time': datetime.datetime(2018, 12, 22, 1, 21, 14, 996000), 'max_press': '106.9', 'min_press': '101.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 24, 12, 20, 19, 528000), 'min_press_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'price': '1.0', 'use_volume_work': '101.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000066å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000064
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 180
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000598'}]
0000000598
00036000000064 â˜† sum_total_volume is None ç½®ä¸º0
00036000000064
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000547')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000598', 'rtu_no': '00030000000106', 'flmeter_no': '00036000000064', 'customer_no': '00030000000046', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 36, 104695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 19, 38, 43, 153000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 19, 38, 43, 153000), 'max_temperature': '13.3', 'min_temperature': '10.1', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 23, 17, 32, 28, 762000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 42, 309000), 'max_press': '103.5', 'min_press': '99.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_press_time': datetime.datetime(2018, 12, 21, 11, 32, 37, 715000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000064å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000023
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 605
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000599'}]
0000000599
00036000000023
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000530')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000599', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000023', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 36, 454727), 'year': '2018', 'std_sum': '187556.740', 'work_sum': '73774.290', 'max_std_flow': '329.0', 'min_std_flow': '0.0', 'avg_std_flow': '57.0', 'max_std_flow_time': datetime.datetime(2018, 9, 2, 4, 0, 25), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 22), 'max_work_flow': '143.6', 'min_work_flow': '0.0', 'avg_work_flow': '19.0', 'max_work_flow_time': datetime.datetime(2018, 8, 14, 16, 0, 35), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 22), 'max_temperature': '40.914', 'min_temperature': '-10.763', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2018, 7, 25, 14, 0, 25), 'min_temp_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'max_press': '408.554', 'min_press': '99.167', 'avg_press': '176.0', 'max_press_time': datetime.datetime(2018, 8, 27, 4, 0, 27), 'min_press_time': datetime.datetime(2018, 9, 29, 20, 0, 30), 'price': '0.000', 'use_volume_work': '58872.649999999994', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '176.0', 'press_out': '176.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000023å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000002
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 594
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000600'}]
0000000600
00030000000002 â˜† sum_total_money <0 ç½®ä¸º0
00030000000002
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000544')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000600', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000002', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 36, 752695), 'year': '2018', 'std_sum': '48', 'work_sum': '50', 'max_std_flow': '1631649859.0', 'min_std_flow': '0.0', 'avg_std_flow': '20593324.0', 'max_std_flow_time': datetime.datetime(2018, 7, 30, 11, 40, 54, 756000), 'min_std_flow_time': datetime.datetime(2018, 7, 26, 9, 19, 9, 414000), 'max_work_flow': '6881280.0', 'min_work_flow': '0.0', 'avg_work_flow': '46338.0', 'max_work_flow_time': datetime.datetime(2018, 7, 26, 10, 1, 54, 352000), 'min_work_flow_time': datetime.datetime(2018, 7, 26, 9, 19, 9, 414000), 'max_temperature': '1.5433238e+31', 'min_temperature': '-3275871490.0', 'avg_temperature': '5.196376430976431e+28', 'max_temp_time': datetime.datetime(2018, 7, 30, 11, 40, 54, 756000), 'min_temp_time': datetime.datetime(2018, 7, 25, 16, 43, 14, 570000), 'max_press': '99.54323', 'min_press': '-8255.064', 'avg_press': '95.0', 'max_press_time': datetime.datetime(2018, 7, 26, 10, 35, 41, 649000), 'min_press_time': datetime.datetime(2018, 7, 26, 11, 32, 13, 211000), 'price': '2.0800002', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '48', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '10.0', 'remain_volume': '0.0', 'fm_state': '05', 'fm_state_msg': 'è§£æè¡¨çŠ¶æ€å¤±è´¥', 'rtu_state': '0000', 'rtu_state_msg': 'é—¨å…³,å¸‚ç”µæ–­ç”µ', 'valve_state': '81', 'valve_state_msg': '81', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '95.0', 'press_out': '95.0', 'temp_in': '5.196376430976431e+28', 'temp_out': '5.196376430976431e+28', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000002å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000035
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 443
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000601'}]
0000000601
00036000000035 â˜† sum_total_money <0 ç½®ä¸º0
00036000000035
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000532')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000601', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000035', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 37, 42700), 'year': '2018', 'std_sum': '60316', 'work_sum': '51742', 'max_std_flow': '1101004800.0', 'min_std_flow': '0.0', 'avg_std_flow': '2494954.0', 'max_std_flow_time': datetime.datetime(2018, 11, 5, 21, 41, 6, 620000), 'min_std_flow_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 15, 19, 7, 177000), 'min_work_flow_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_temperature': '2.2977563e+23', 'min_temperature': '0.0', 'avg_temperature': '1.035695914221219e+21', 'max_temp_time': datetime.datetime(2018, 11, 1, 13, 32, 11, 33000), 'min_temp_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_press': '4.0815275e+31', 'min_press': '-3430800.5', 'avg_press': '1.842676072234763e+29', 'max_press_time': datetime.datetime(2018, 11, 3, 19, 13, 1, 851000), 'min_press_time': datetime.datetime(2018, 11, 2, 14, 20, 12, 441000), 'price': '2.5', 'use_volume_work': '51742.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '15.0', 'remain_volume': '0.0', 'fm_state': '74', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '1.842676072234763e+29', 'press_out': '1.842676072234763e+29', 'temp_in': '1.035695914221219e+21', 'temp_out': '1.035695914221219e+21', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000035å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 96
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000602'}]
0000000602
00030000000022 â˜† sum_total_volume is None ç½®ä¸º0
00030000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000539')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000602', 'rtu_no': '00030000000052', 'flmeter_no': '00030000000022', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 37, 344727), 'year': '2018', 'std_sum': '4321', 'work_sum': '1234', 'max_std_flow': '0.5', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 17, 8, 37, 22, 503000), 'min_std_flow_time': datetime.datetime(2018, 9, 18, 10, 29, 38, 822000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 18, 10, 43, 13, 916000), 'min_work_flow_time': datetime.datetime(2018, 9, 6, 19, 47, 14, 180000), 'max_temperature': '2.5', 'min_temperature': '2.0', 'avg_temperature': '2.0', 'max_temp_time': datetime.datetime(2018, 9, 17, 8, 37, 22, 503000), 'min_temp_time': datetime.datetime(2018, 9, 18, 10, 29, 38, 822000), 'max_press': '10.1', 'min_press': '10.1', 'avg_press': '10.0', 'max_press_time': datetime.datetime(2018, 9, 18, 10, 43, 13, 916000), 'min_press_time': datetime.datetime(2018, 9, 6, 19, 47, 14, 180000), 'price': '0.1', 'use_volume_work': '1234.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '63', 'press_in': '10.0', 'press_out': '10.0', 'temp_in': '2.0', 'temp_out': '2.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000005
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 650
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000603'}]
0000000603
00036000000005 â˜† sum_total_money <0 ç½®ä¸º0
00036000000005
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000484')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000603', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000005', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 37, 602726), 'year': '2018', 'std_sum': '148', 'work_sum': '154', 'max_std_flow': '6881280.0', 'min_std_flow': '0.0', 'avg_std_flow': '10586.0', 'max_std_flow_time': datetime.datetime(2018, 12, 4, 14, 49, 7, 147000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 19, 8, 894000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 43, 10, 465000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 19, 8, 894000), 'max_temperature': '24.39', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 1, 14, 27, 14, 659000), 'min_temp_time': datetime.datetime(2018, 12, 4, 14, 49, 7, 147000), 'max_press': '103.4', 'min_press': '-33781180.0', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 12, 31, 9, 0, 17, 293000), 'min_press_time': datetime.datetime(2018, 12, 9, 22, 27, 9, 576000), 'price': '3.5', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '148', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '212.5', 'remain_volume': '0.0', 'fm_state': '15', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000005å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000060
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 357
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000604'}]
0000000604
00036000000060 â˜† sum_total_volume is None ç½®ä¸º0
00036000000060
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000488')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000604', 'rtu_no': '00030000000102', 'flmeter_no': '00036000000060', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 37, 934727), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 1, 20, 40, 278000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 1, 20, 40, 278000), 'max_temperature': '20.4', 'min_temperature': '0.0', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 10, 23, 33, 75000), 'min_temp_time': datetime.datetime(2018, 12, 18, 9, 4, 38, 997000), 'max_press': '103.8', 'min_press': '0.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_press_time': datetime.datetime(2018, 12, 18, 9, 4, 38, 997000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '1', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000060å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000067
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 81
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000605'}]
0000000605
00036000000067 â˜† sum_total_volume is None ç½®ä¸º0
00036000000067
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000491')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000605', 'rtu_no': '00030000000109', 'flmeter_no': '00036000000067', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 38, 262694), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 3, 356000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 10, 1, 5, 465000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 3, 356000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 10, 1, 5, 465000), 'max_temperature': '20.5', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 12, 47, 45, 450000), 'min_temp_time': datetime.datetime(2018, 12, 20, 15, 21, 57, 121000), 'max_press': '113.5', 'min_press': '0.0', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 12, 26, 3, 17, 52, 465000), 'min_press_time': datetime.datetime(2018, 12, 20, 15, 21, 57, 121000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '5', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '11.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000067å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000061
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 373
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000606'}]
0000000606
00036000000061 â˜† use_volume_work <0 ç½®ä¸º0
00036000000061 â˜† sum_total_volume is None ç½®ä¸º0
00036000000061
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000525')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000606', 'rtu_no': '00030000000103', 'flmeter_no': '00036000000061', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 38, 596728), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 36, 49, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 36, 49, 246000), 'max_temperature': '18.7', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 22, 28, 10, 200000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'max_press': '107.5', 'min_press': '101.5', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 15, 2, 25, 20, 575000), 'min_press_time': datetime.datetime(2018, 12, 19, 15, 26, 13, 121000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000061å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000049
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1172
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000607'}]
0000000607
00036000000049 â˜† sum_total_volume is None ç½®ä¸º0
00036000000049
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000535')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000607', 'rtu_no': '00030000000091', 'flmeter_no': '00036000000049', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 38, 994695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '2.97', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 5, 15, 16, 53, 445000), 'min_std_flow_time': datetime.datetime(2018, 11, 12, 18, 11, 49, 381000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 23, 10, 46, 4, 746000), 'min_work_flow_time': datetime.datetime(2018, 11, 12, 18, 11, 49, 381000), 'max_temperature': '24.4', 'min_temperature': '6.4', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 12, 7, 18, 20, 51, 728000), 'min_temp_time': datetime.datetime(2018, 12, 10, 0, 21, 10, 425000), 'max_press': '105.0', 'min_press': '100.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 4, 20, 18, 10, 413000), 'min_press_time': datetime.datetime(2018, 12, 3, 9, 25, 57, 724000), 'price': '1312.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '90', 'remain_money': '90', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000049å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000068
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 22
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000608'}]
0000000608
00036000000068 â˜† sum_total_volume is None ç½®ä¸º0
00036000000068
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000541')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000608', 'rtu_no': '00030000000110', 'flmeter_no': '00036000000068', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 39, 275698), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 11, 668000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 42, 825000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 11, 668000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 42, 825000), 'max_temperature': '20.5', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 13, 36, 50, 496000), 'min_temp_time': datetime.datetime(2018, 12, 28, 15, 21, 51, 496000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '88.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 20, 56, 403000), 'min_press_time': datetime.datetime(2018, 12, 28, 15, 21, 51, 496000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '2', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '88.0', 'press_out': '88.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000068å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000069
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 63
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000609'}]
0000000609
00036000000069 â˜† sum_total_volume is None ç½®ä¸º0
00036000000069
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000486')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000609', 'rtu_no': '00030000000111', 'flmeter_no': '00036000000069', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 39, 541695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_temperature': '20.5', 'min_temperature': '20.5', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_temp_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_press_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '306', 'remain_money': '306', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000069å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000024
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1611
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000610'}]
0000000610
00036000000024
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000540')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000610', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000024', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 39, 966695), 'year': '2018', 'std_sum': '2579974.290', 'work_sum': '695543.720', 'max_std_flow': '385.52', 'min_std_flow': '0.0', 'avg_std_flow': '197.0', 'max_std_flow_time': datetime.datetime(2018, 8, 24, 4, 0, 23), 'min_std_flow_time': datetime.datetime(2018, 8, 20, 2, 0, 26), 'max_work_flow': '162.6', 'min_work_flow': '0.0', 'avg_work_flow': '50.0', 'max_work_flow_time': datetime.datetime(2018, 8, 7, 6, 0, 24), 'min_work_flow_time': datetime.datetime(2018, 8, 20, 2, 0, 26), 'max_temperature': '33.145', 'min_temperature': '-6.597', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 8, 26, 14, 0, 27), 'min_temp_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'max_press': '436.168', 'min_press': '98.572', 'avg_press': '320.0', 'max_press_time': datetime.datetime(2018, 9, 25, 2, 0, 24), 'min_press_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'price': '0.000', 'use_volume_work': '191453.65999999997', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '320.0', 'press_out': '320.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000024å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000017
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 8
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000611'}]
0000000611
00036000000017 â˜† sum_total_volume is None ç½®ä¸º0
00036000000017
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000493')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000611', 'rtu_no': '00030000000048', 'flmeter_no': '00036000000017', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 40, 268695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_std_flow_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_work_flow_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_temp_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_press_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2252', 'remain_money': '2252', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000017å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000039
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 755
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000612'}]
0000000612
00036000000039 â˜† sum_total_volume is None ç½®ä¸º0
00036000000039
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000518')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000612', 'rtu_no': '00030000000080', 'flmeter_no': '00036000000039', 'customer_no': '00030000000029', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 40, 644695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '10.34', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 1, 9, 51, 18, 66000), 'min_std_flow_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 16, 25, 39, 793000), 'min_work_flow_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_temperature': '22.6', 'min_temperature': '0.0', 'avg_temperature': '1.0', 'max_temp_time': datetime.datetime(2018, 11, 1, 15, 59, 39, 240000), 'min_temp_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_press': '102.2', 'min_press': '0.0', 'avg_press': '7.0', 'max_press_time': datetime.datetime(2018, 11, 1, 15, 57, 35, 256000), 'min_press_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'price': '2.32', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '1095', 'remain_money': '1095', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '7.0', 'press_out': '7.0', 'temp_in': '1.0', 'temp_out': '1.0', 'rssi': '7.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000039å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000015
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 263
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000613'}]
0000000613
00030000000015 â˜† sum_total_volume is None ç½®ä¸º0
00030000000015 â˜† sum_total_money <0 ç½®ä¸º0
00030000000015
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000517')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000613', 'rtu_no': '00030000000045', 'flmeter_no': '00030000000015', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 41, 117695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '21.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 16, 51, 58, 303000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 13, 58, 45, 280000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 52, 0, 774000), 'min_work_flow_time': datetime.datetime(2018, 9, 10, 9, 4, 30, 239000), 'max_temperature': '0.0', 'min_temperature': '-25.7', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 7, 10, 52, 0, 774000), 'min_temp_time': datetime.datetime(2018, 9, 10, 9, 4, 30, 239000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '88.0', 'max_press_time': datetime.datetime(2018, 9, 19, 16, 51, 58, 303000), 'min_press_time': datetime.datetime(2018, 10, 31, 13, 58, 45, 280000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '2103', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '88.0', 'press_out': '88.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000015å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000065
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 191
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000614'}]
0000000614
00036000000065 â˜† sum_total_volume is None ç½®ä¸º0
00036000000065
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000520')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000614', 'rtu_no': '00030000000107', 'flmeter_no': '00036000000065', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 41, 503699), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 6, 543000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 43, 55, 465000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 6, 543000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 43, 55, 465000), 'max_temperature': '20.5', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 28, 14, 23, 42, 262000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 21, 18, 75000), 'max_press': '107.2', 'min_press': '101.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 23, 18, 27, 48, 418000), 'min_press_time': datetime.datetime(2018, 12, 20, 15, 37, 27, 653000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '12', 'remain_money': '9', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000065å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 346
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000615'}]
0000000615
00036000000008 â˜† sum_total_money <0 ç½®ä¸º0
00036000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000500')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000615', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 41, 818699), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '48380', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '51691.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000013
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 829
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000616'}]
0000000616
00030000000013 â˜† sum_total_volume is None ç½®ä¸º0
00030000000013 â˜† sum_total_money <0 ç½®ä¸º0
00030000000013
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000515')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000616', 'rtu_no': '00030000000043', 'flmeter_no': '00030000000013', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 42, 118695), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '20.0', 'max_std_flow_time': datetime.datetime(2018, 9, 4, 18, 11, 17, 600000), 'min_std_flow_time': datetime.datetime(2018, 10, 30, 10, 33, 37, 530000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 37, 13, 749000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 400000), 'max_temperature': '25.8', 'min_temperature': '-25.7', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 9, 20, 30, 909000), 'min_temp_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 400000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 9, 4, 18, 11, 17, 600000), 'min_press_time': datetime.datetime(2018, 10, 31, 13, 41, 42, 548000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '5310', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000013å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000048
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 438
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000617'}]
0000000617
00036000000048 â˜† sum_total_volume is None ç½®ä¸º0
00036000000048 â˜† sum_total_money <0 ç½®ä¸º0
00036000000048
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000524')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000617', 'rtu_no': '00030000000090', 'flmeter_no': '00036000000048', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 42, 434729), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 10, 26, 27, 715000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 16, 24, 50, 483000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 10, 26, 27, 715000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 16, 24, 50, 483000), 'max_temperature': '25.2', 'min_temperature': '6.9', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 18, 24, 53, 39000), 'min_temp_time': datetime.datetime(2018, 12, 12, 0, 21, 58, 25000), 'max_press': '104.0', 'min_press': '100.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 9, 25, 50, 106000), 'min_press_time': datetime.datetime(2018, 12, 17, 1, 21, 36, 340000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '20.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000048å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000011
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 217
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000618'}]
0000000618
00030000000011 â˜† sum_total_volume is None ç½®ä¸º0
00030000000011 â˜† sum_total_money <0 ç½®ä¸º0
00030000000011
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000481')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000618', 'rtu_no': '00030000000020', 'flmeter_no': '00030000000011', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 42, 813726), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '25.36', 'avg_std_flow': '25.0', 'max_std_flow_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_std_flow_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_work_flow_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_temperature': '3302.5', 'min_temperature': '3302.5', 'avg_temperature': '3302.0', 'max_temp_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_temp_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_press': '103.7', 'min_press': '103.7', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_press_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'price': '0.2500', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '156', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '50', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '3302.0', 'temp_out': '3302.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000011å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0003 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0002
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0002 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0010
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0010 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0018
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 8
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0018 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00186000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 8
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0018', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0018', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000009'}]
0000000009
00186000000001 â˜† sum_total_volume is None ç½®ä¸º0
00186000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0018', '001820180000000008')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0018', 'sry_id': '001820180000000009', 'rtu_no': '00180000000001', 'flmeter_no': '00186000000001', 'customer_no': '00180000000001', 'report_time': datetime.datetime(2019, 4, 5, 17, 4, 43, 536699), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_std_flow_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_work_flow_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_temp_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_press_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 21.0, 'total_buy_volume': None, 'total_buy_money': '26471', 'remain_money': '26450', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[è¡¨å†…å……å€¼æ¬¡æ•°æ¯”ICå¡å……å€¼æ¬¡æ•°å¤š][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[è¡¨å†…å……å€¼æ¬¡æ•°æ¯”ICå¡å……å€¼æ¬¡æ•°å¤š][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '100', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '25.0', 'sry_status': '1'}]
insert sys_serial_no ok
00186000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0018 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0006
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0006 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0013
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0013 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0014
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0014 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
all done-å¹´æŠ¥è¡¨æ•´ä¸ªå¤„ç†æµç¨‹å®Œæˆ
----------------------------------------------------------------------------------------
ç¨‹åºè¿è¡Œå¼€å§‹æ—¶é—´ 2019-04-05 17:04:09.652698
ç¨‹åºè¿è¡Œç»“æŸæ—¶é—´: 2019-04-05 17:04:44.184695
æ•´ä¸ªç¨‹åºè¿è¡Œæ€»æ—¶é—´: 34 ç§’
----------------------------------------------------------------------------------------
ç¨‹åºè¿è¡Œå¼€å§‹time.clock(): 4e-07
ç¨‹åºè¿è¡Œç»“æŸtime.clock(): 34.5322264
æ•´ä¸ªç¨‹åºè¿è¡Œæ€»æ—¶é—´time.clock()å·®: 34.532226 ç§’
----------------------------------------------------------------------------------------
============================================================================================================================================================åˆ†éš”ç¬¦
æ­¤æœºæ„: 0008
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 134
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0008 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00086000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 134
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0008', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0008', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000011'}]
0000000011
00086000000001 â˜† sum_total_volume is None ç½®ä¸º0
00086000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0008', '000820180000000003')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0008', 'sry_id': '000820180000000011', 'rtu_no': '00080000000001', 'flmeter_no': '00086000000001', 'customer_no': '00080000000001', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 46, 418449), 'year': '2018', 'std_sum': '1', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_std_flow_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_work_flow_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_temp_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 13, 15, 59, 51, 551000), 'min_press_time': datetime.datetime(2018, 11, 12, 13, 44, 5, 602000), 'price': '2.3', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '23', 'remain_money': '20', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '5.0', 'sry_status': '1'}]
insert sys_serial_no ok
00086000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0008 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0015
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0015 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0017
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0017 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0005
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 27697
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0005 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 17
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00056000000029
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 172
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000188'}]
0000000188
00056000000029 â˜† sum_total_money <0 ç½®ä¸º0
00056000000029
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000040')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000188', 'rtu_no': '00050000000024', 'flmeter_no': '00056000000029', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 48, 20479), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 29, 15, 3, 22, 293000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 3, 4, 840000), 'price': '161.51', 'use_volume_work': '0.0', 'use_volume_std': '355.0', 'use_money': '57336.05', 'sum_total_volume': '23284', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '3134.36', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000029å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000014
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 147
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000189'}]
0000000189
00056000000014 â˜† sum_total_money <0 ç½®ä¸º0
00056000000014
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000043')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000189', 'rtu_no': '00050000000013', 'flmeter_no': '00056000000014', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 48, 354452), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 11, 4, 13, 996000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 32, 59, 246000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '60.0', 'use_money': '136.8', 'sum_total_volume': '3439', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '730.38', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000014å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000013
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1865
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000190'}]
0000000190
00056000000013 â˜† sum_total_money <0 ç½®ä¸º0
00056000000013
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000044')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000190', 'rtu_no': '00050000000012', 'flmeter_no': '00056000000013', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 48, 626451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '1108320570.0', 'min_std_flow': '0.0', 'avg_std_flow': '4159916.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 12, 58, 32, 45000), 'min_std_flow_time': datetime.datetime(2018, 10, 1, 22, 11, 16, 414000), 'max_work_flow': '1108320570.0', 'min_work_flow': '0.0', 'avg_work_flow': '4159916.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 12, 58, 32, 45000), 'min_work_flow_time': datetime.datetime(2018, 10, 1, 22, 11, 16, 414000), 'max_temperature': '35.91', 'min_temperature': '0.0', 'avg_temperature': '35.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 16, 6, 28, 809000), 'min_temp_time': datetime.datetime(2018, 11, 12, 9, 50, 35, 553000), 'max_press': '101.325', 'min_press': '0.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 9, 25, 13, 26, 21, 359000), 'min_press_time': datetime.datetime(2018, 11, 12, 9, 50, 35, 553000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '16715.0', 'use_money': '38110.2', 'sum_total_volume': '80351', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '1230.67', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '35.0', 'temp_out': '35.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000013å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 7183
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000191'}]
0000000191
00050000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000051')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000191', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 48, 957479), 'year': '2018', 'std_sum': '520', 'work_sum': '520', 'max_std_flow': '1101004800.0', 'min_std_flow': '0.0', 'avg_std_flow': '1544653.0', 'max_std_flow_time': datetime.datetime(2018, 8, 16, 2, 36, 34, 228000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 48, 32, 439000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 874000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 48, 32, 439000), 'max_temperature': '2.2977563e+23', 'min_temperature': '-3451289.5', 'avg_temperature': '5.116989920645969e+20', 'max_temp_time': datetime.datetime(2018, 8, 13, 2, 9, 39, 326000), 'min_temp_time': datetime.datetime(2018, 8, 7, 22, 19, 35, 97000), 'max_press': '154898956000.0', 'min_press': '-3447184.5', 'avg_press': '86258657.0', 'max_press_time': datetime.datetime(2018, 8, 12, 22, 9, 39, 76000), 'min_press_time': datetime.datetime(2018, 8, 8, 10, 49, 32, 272000), 'price': '0.0', 'use_volume_work': '520.0', 'use_volume_std': '520.0', 'use_money': '0.0', 'sum_total_volume': '520', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '83', 'valve_state_msg': '83', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '86258657.0', 'press_out': '86258657.0', 'temp_in': '5.116989920645969e+20', 'temp_out': '5.116989920645969e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 860
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000192'}]
0000000192
00050000000009 â˜† sum_total_money <0 ç½®ä¸º0
00050000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000049')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000192', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 49, 310482), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_std_flow_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_work_flow_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_temp_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 9, 18, 4, 56, 59, 87000), 'min_press_time': datetime.datetime(2018, 8, 17, 6, 57, 42, 982000), 'price': '1.71', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '238579', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '56355.66', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': '80', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000026
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 229
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000193'}]
0000000193
00056000000026 â˜† sum_total_money <0 ç½®ä¸º0
00056000000026
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000046')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000193', 'rtu_no': '00050000000021', 'flmeter_no': '00056000000026', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 49, 591451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_temp_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 11, 28, 32, 856000), 'min_press_time': datetime.datetime(2018, 12, 22, 20, 28, 32, 918000), 'price': '1.61', 'use_volume_work': '0.0', 'use_volume_std': '201.0', 'use_money': '323.61', 'sum_total_volume': '7985', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '1489.91', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000026å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 217
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000194'}]
0000000194
00056000000022 â˜† sum_total_money <0 ç½®ä¸º0
00056000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000045')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000194', 'rtu_no': '00050000000017', 'flmeter_no': '00056000000022', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 49, 889452), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_temp_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 14, 51, 26, 356000), 'min_press_time': datetime.datetime(2018, 12, 22, 21, 8, 21, 403000), 'price': '1.61', 'use_volume_work': '0.0', 'use_volume_std': '88.0', 'use_money': '141.68', 'sum_total_volume': '5021', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '430.89', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000028
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 134
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000195'}]
0000000195
00056000000028 â˜† sum_total_money <0 ç½®ä¸º0
00056000000028
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000048')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000195', 'rtu_no': '00050000000023', 'flmeter_no': '00056000000028', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 50, 220474), 'year': '2018', 'std_sum': '10145', 'work_sum': '11985', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_std_flow_time': datetime.datetime(2018, 12, 23, 0, 14, 39, 668000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_work_flow_time': datetime.datetime(2018, 12, 23, 0, 14, 39, 668000), 'max_temperature': '21.14', 'min_temperature': '8.88', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 12, 26, 3, 38, 35, 356000), 'min_temp_time': datetime.datetime(2018, 12, 28, 17, 11, 33, 918000), 'max_press': '109.49', 'min_press': '84.15', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 12, 30, 12, 4, 34, 59000), 'min_press_time': datetime.datetime(2018, 12, 29, 7, 32, 30, 684000), 'price': '1.52', 'use_volume_work': '11272.0', 'use_volume_std': '9543.0', 'use_money': '14505.36', 'sum_total_volume': '10145', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '76152.14', 'remain_volume': '0.0', 'fm_state': '98', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000028å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000027
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 171
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000196'}]
0000000196
00056000000027 â˜† sum_total_money <0 ç½®ä¸º0
00056000000027
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000050')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000196', 'rtu_no': '00050000000022', 'flmeter_no': '00056000000027', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 50, 552451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_temp_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 12, 10, 6, 262000), 'min_press_time': datetime.datetime(2018, 12, 23, 0, 32, 8, 778000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '1898.0', 'use_money': '4327.44', 'sum_total_volume': '73340', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '522.8', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000027å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000023
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 2
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000197'}]
0000000197
00056000000023 â˜† sum_total_money <0 ç½®ä¸º0
00056000000023
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000042')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000197', 'rtu_no': '00050000000018', 'flmeter_no': '00056000000023', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 50, 868450), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_std_flow_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_work_flow_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_temperature': '14.04', 'min_temperature': '8.0', 'avg_temperature': '11.0', 'max_temp_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_temp_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'max_press': '96.85', 'min_press': '91.27', 'avg_press': '94.0', 'max_press_time': datetime.datetime(2018, 12, 25, 14, 38, 15, 184000), 'min_press_time': datetime.datetime(2018, 12, 24, 21, 28, 23, 325000), 'price': '220.52', 'use_volume_work': '0.0', 'use_volume_std': '254.0', 'use_money': '56012.08', 'sum_total_volume': '144825', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '4948.6', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '94.0', 'press_out': '94.0', 'temp_in': '11.0', 'temp_out': '11.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000023å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 7279
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000198'}]
0000000198
00050000000008 â˜† sum_total_money <0 ç½®ä¸º0
00050000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000047')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000198', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 51, 224479), 'year': '2018', 'std_sum': '3', 'work_sum': '0', 'max_std_flow': '1715605414.0', 'min_std_flow': '262224450.0', 'avg_std_flow': '1098663791.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 14, 51, 36, 283000), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 23, 31, 23, 678000), 'max_work_flow': '1108320570.0', 'min_work_flow': '262224450.0', 'avg_work_flow': '1102112988.0', 'max_work_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 37, 359000), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 23, 31, 23, 678000), 'max_temperature': '2.2910694e+23', 'min_temperature': '-2107792.5', 'avg_temperature': '3.147505701332601e+20', 'max_temp_time': datetime.datetime(2018, 8, 7, 4, 39, 47, 526000), 'min_temp_time': datetime.datetime(2018, 7, 28, 18, 57, 58, 100000), 'max_press': '101.325', 'min_press': '-2107801.5', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 9, 19, 10, 32, 37, 359000), 'min_press_time': datetime.datetime(2018, 8, 9, 17, 29, 34, 402000), 'price': '1.5900002', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '93', 'valve_state_msg': '93', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '3.147505701332601e+20', 'temp_out': '3.147505701332601e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000025
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 212
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000199'}]
0000000199
00056000000025 â˜† sum_total_money <0 ç½®ä¸º0
00056000000025
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000041')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000199', 'rtu_no': '00050000000020', 'flmeter_no': '00056000000025', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 51, 569449), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_temp_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 30, 15, 47, 13, 809000), 'min_press_time': datetime.datetime(2018, 12, 22, 20, 41, 14, 762000), 'price': '2.28', 'use_volume_work': '0.0', 'use_volume_std': '2074.0', 'use_money': '4728.72', 'sum_total_volume': '35381', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '9132.72', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000025å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 164
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000200'}]
0000000200
00056000000020 â˜† sum_total_money <0 ç½®ä¸º0
00056000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000035')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000200', 'rtu_no': '00050000000015', 'flmeter_no': '00056000000020', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 51, 862451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 16, 637000), 'min_std_flow_time': datetime.datetime(2018, 12, 28, 11, 38, 22, 918000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 16, 637000), 'min_work_flow_time': datetime.datetime(2018, 12, 28, 11, 38, 22, 918000), 'max_temperature': '31.39', 'min_temperature': '23.52', 'avg_temperature': '28.0', 'max_temp_time': datetime.datetime(2018, 12, 26, 22, 1, 19, 403000), 'min_temp_time': datetime.datetime(2018, 12, 31, 6, 51, 24, 856000), 'max_press': '101.53', 'min_press': '83.11', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 12, 29, 1, 57, 27, 106000), 'min_press_time': datetime.datetime(2018, 12, 28, 6, 33, 25, 918000), 'price': '1.59', 'use_volume_work': '0.0', 'use_volume_std': '1.0', 'use_money': '1.59', 'sum_total_volume': '29928', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '469.55', 'remain_volume': '0.0', 'fm_state': '20', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '28.0', 'temp_out': '28.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000010
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1978
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000201'}]
0000000201
00056000000010 â˜† sum_total_money <0 ç½®ä¸º0
00056000000010
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000037')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000201', 'rtu_no': '00050000000004', 'flmeter_no': '00056000000010', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 52, 129448), 'year': '2018', 'std_sum': '525342', 'work_sum': '525342', 'max_std_flow': '1883308032.0', 'min_std_flow': '0.0', 'avg_std_flow': '112844395.0', 'max_std_flow_time': datetime.datetime(2018, 11, 28, 22, 5, 22, 719000), 'min_std_flow_time': datetime.datetime(2018, 10, 1, 22, 38, 58, 914000), 'max_work_flow': '1675051846.0', 'min_work_flow': '0.0', 'avg_work_flow': '109431540.0', 'max_work_flow_time': datetime.datetime(2018, 12, 4, 19, 49, 18, 804000), 'min_work_flow_time': datetime.datetime(2018, 10, 1, 22, 38, 58, 914000), 'max_temperature': '6.681447e+35', 'min_temperature': '0.0', 'avg_temperature': '6.746571029402958e+32', 'max_temp_time': datetime.datetime(2018, 10, 14, 20, 13, 57, 671000), 'min_temp_time': datetime.datetime(2018, 10, 4, 2, 29, 5, 945000), 'max_press': '868.0', 'min_press': '0.0', 'avg_press': '82.0', 'max_press_time': datetime.datetime(2018, 10, 4, 2, 29, 5, 945000), 'min_press_time': datetime.datetime(2018, 10, 1, 10, 27, 59, 304000), 'price': '1.52', 'use_volume_work': '79425.0', 'use_volume_std': '79425.0', 'use_money': '120726.0', 'sum_total_volume': '525342', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '4298.49', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '82.0', 'press_out': '82.0', 'temp_in': '6.746571029402958e+32', 'temp_out': '6.746571029402958e+32', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000010å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000024
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 28
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000202'}]
0000000202
00056000000024 â˜† sum_total_money <0 ç½®ä¸º0
00056000000024
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000039')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000202', 'rtu_no': '00050000000019', 'flmeter_no': '00056000000024', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 52, 468480), 'year': '2018', 'std_sum': '174131', 'work_sum': '174131', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_std_flow_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_work_flow_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'max_temperature': '19.01', 'min_temperature': '8.53', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 27, 5, 49, 35, 90000), 'min_temp_time': datetime.datetime(2018, 12, 29, 5, 49, 42, 137000), 'max_press': '86.29', 'min_press': '86.29', 'avg_press': '86.0', 'max_press_time': datetime.datetime(2018, 12, 30, 3, 59, 41, 528000), 'min_press_time': datetime.datetime(2018, 12, 29, 3, 47, 40, 840000), 'price': '1.43', 'use_volume_work': '8061.0', 'use_volume_std': '8061.0', 'use_money': '11527.23', 'sum_total_volume': '174131', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5645.89', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '86.0', 'press_out': '86.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000024å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00050000000006
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 6859
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000203'}]
0000000203
00050000000006 â˜† sum_total_money <0 ç½®ä¸º0
00050000000006
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000036')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000203', 'rtu_no': '00050000000003', 'flmeter_no': '00050000000006', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 52, 793479), 'year': '2018', 'std_sum': '3', 'work_sum': '0', 'max_std_flow': '1108320570.0', 'min_std_flow': '26178.0', 'avg_std_flow': '1101425015.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 843000), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 19, 35, 974000), 'max_work_flow': '1118216506.0', 'min_work_flow': '262224450.0', 'avg_work_flow': '1105221506.0', 'max_work_flow_time': datetime.datetime(2018, 8, 11, 0, 19, 35, 990000), 'min_work_flow_time': datetime.datetime(2018, 7, 30, 5, 42, 52, 209000), 'max_temperature': '2.2933942e+23', 'min_temperature': '-2103696.5', 'avg_temperature': '2.0061765855080913e+20', 'max_temp_time': datetime.datetime(2018, 8, 2, 3, 18, 56, 705000), 'min_temp_time': datetime.datetime(2018, 7, 28, 7, 57, 34, 22000), 'max_press': '101.325', 'min_press': '-2103696.5', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 9, 19, 10, 32, 35, 843000), 'min_press_time': datetime.datetime(2018, 7, 28, 1, 14, 55, 6000), 'price': '1.4900001', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '10.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '87', 'valve_state_msg': '87', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '2.0061765855080913e+20', 'temp_out': '2.0061765855080913e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00050000000006å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00056000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 197
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0005', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0005', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000204'}]
0000000204
00056000000021 â˜† sum_total_money <0 ç½®ä¸º0
00056000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0005', '000520180000000038')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0005', 'sry_id': '000520180000000204', 'rtu_no': '00050000000015', 'flmeter_no': '00056000000021', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 53, 134482), 'year': '2018', 'std_sum': '40070', 'work_sum': '43337', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 17, 809000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 42, 26, 903000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 36, 17, 809000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 42, 26, 903000), 'max_temperature': '34.03', 'min_temperature': '19.18', 'avg_temperature': '29.0', 'max_temp_time': datetime.datetime(2018, 12, 21, 21, 18, 29, 90000), 'min_temp_time': datetime.datetime(2018, 12, 24, 6, 19, 31, 200000), 'max_press': '101.05', 'min_press': '82.65', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 12, 31, 12, 58, 24, 278000), 'min_press_time': datetime.datetime(2018, 12, 28, 6, 33, 26, 247000), 'price': '1.46', 'use_volume_work': '2997.0', 'use_volume_std': '2804.0', 'use_money': '4093.84', 'sum_total_volume': '40070', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '39451.92', 'remain_volume': '0.0', 'fm_state': '33', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '80', 'valve_state_msg': 'å¼€é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '29.0', 'temp_out': '29.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00056000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0005 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0007
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 324
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0007 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00076000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 324
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0007', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0007', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000010'}]
0000000010
00076000000001 â˜† sum_total_volume is None ç½®ä¸º0
00076000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0007', '000720180000000003')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0007', 'sry_id': '000720180000000010', 'rtu_no': '00070000000001', 'flmeter_no': '00076000000001', 'customer_no': '00070000000001', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 53, 643485), 'year': '2018', 'std_sum': '781', 'work_sum': '777', 'max_std_flow': '4.02', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 10, 34, 48, 84000), 'min_std_flow_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 23, 31, 59, 653000), 'min_work_flow_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'max_temperature': '20.3', 'min_temperature': '-1.9', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 11, 9, 11, 45, 4, 718000), 'min_temp_time': datetime.datetime(2018, 12, 29, 7, 33, 49, 59000), 'max_press': '139.5', 'min_press': '0.0', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 11, 16, 9, 34, 13, 100000), 'min_press_time': datetime.datetime(2018, 11, 7, 10, 8, 53, 916000), 'price': '3.09', 'use_volume_work': '777.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 103.0, 'total_buy_volume': None, 'total_buy_money': '2192', 'remain_money': '2089', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '10.0', 'sry_status': '1'}]
insert sys_serial_no ok
00076000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0007 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0009
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0009 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0011
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0011 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0012
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 18
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0012 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00126000000002
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 18
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0012', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0012', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000007'}]
0000000007
00126000000002 â˜† sum_total_volume is None ç½®ä¸º0
00126000000002
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0012', '001220180000000003')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0012', 'sry_id': '001220180000000007', 'rtu_no': '00120000000002', 'flmeter_no': '00126000000002', 'customer_no': '00120000000001', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 54, 202487), 'year': '2018', 'std_sum': '11', 'work_sum': '12', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_std_flow_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_work_flow_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_temperature': '20.0', 'min_temperature': '20.0', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_temp_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'max_press': '101.1', 'min_press': '101.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 3, 16, 46, 57, 310000), 'min_press_time': datetime.datetime(2018, 12, 3, 16, 26, 50, 286000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 19.0, 'total_buy_volume': None, 'total_buy_money': '24', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00126000000002å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0012 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0016
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0016 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0019
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0019 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0003
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 49449
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0003 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 71
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00036000000065
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 191
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000598'}]
0000000598
00036000000065 â˜† sum_total_volume is None ç½®ä¸º0
00036000000065
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000166')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000598', 'rtu_no': '00030000000107', 'flmeter_no': '00036000000065', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 56, 565457), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 6, 543000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 20, 43, 55, 465000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 6, 543000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 20, 43, 55, 465000), 'max_temperature': '20.5', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 28, 14, 23, 42, 262000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 21, 18, 75000), 'max_press': '107.2', 'min_press': '101.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 23, 18, 27, 48, 418000), 'min_press_time': datetime.datetime(2018, 12, 20, 15, 37, 27, 653000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '12', 'remain_money': '9', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000065å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 348
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000599'}]
0000000599
00036000000009 â˜† sum_total_money <0 ç½®ä¸º0
00036000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000151')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000599', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 56, 838480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 17, 9, 43, 7, 262000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 4, 894000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '19668', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '80382.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000050
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 364
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000600'}]
0000000600
00036000000050 â˜† sum_total_volume is None ç½®ä¸º0
00036000000050
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000154')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000600', 'rtu_no': '00030000000092', 'flmeter_no': '00036000000050', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 57, 132475), 'year': '2018', 'std_sum': '0', 'work_sum': '30', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_std_flow_time': datetime.datetime(2018, 11, 29, 9, 8, 3, 721000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_work_flow_time': datetime.datetime(2018, 11, 29, 9, 8, 3, 721000), 'max_temperature': '20.5', 'min_temperature': '18.4', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 16, 15, 0, 4, 450000), 'min_temp_time': datetime.datetime(2018, 12, 4, 0, 20, 30, 919000), 'max_press': '101.4', 'min_press': '101.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 4, 8, 23, 45, 167000), 'min_press_time': datetime.datetime(2018, 12, 4, 0, 20, 30, 919000), 'price': '1.0', 'use_volume_work': '30.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 29.0, 'total_buy_volume': None, 'total_buy_money': '104', 'remain_money': '75', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '50', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000050å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 346
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000601'}]
0000000601
00036000000008 â˜† sum_total_money <0 ç½®ä¸º0
00036000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000167')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000601', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 57, 438482), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 17, 5, 16, 9, 606000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 3, 707000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '48380', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '51691.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 951
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000602'}]
0000000602
00036000000020 â˜† sum_total_volume is None ç½®ä¸º0
00036000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000171')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000602', 'rtu_no': '00030000000051', 'flmeter_no': '00036000000020', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 57, 716480), 'year': '2018', 'std_sum': '22', 'work_sum': '2', 'max_std_flow': '16.46', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 7, 9, 48, 23, 61000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 12, 57, 34, 605000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 17, 55, 23, 156000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 12, 57, 34, 605000), 'max_temperature': '32.1', 'min_temperature': '0.0', 'avg_temperature': '8.0', 'max_temp_time': datetime.datetime(2019, 2, 19, 18, 53, 43, 835000), 'min_temp_time': datetime.datetime(2018, 12, 5, 15, 6, 53, 297000), 'max_press': '628.3', 'min_press': '0.0', 'avg_press': '78.0', 'max_press_time': datetime.datetime(2018, 12, 24, 7, 30, 14, 356000), 'min_press_time': datetime.datetime(2018, 12, 5, 15, 6, 53, 297000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 5.0, 'total_buy_volume': None, 'total_buy_money': '90', 'remain_money': '85', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '78.0', 'press_out': '78.0', 'temp_in': '8.0', 'temp_out': '8.0', 'rssi': '17.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000062
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 21
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000603'}]
0000000603
00036000000062 â˜† use_volume_work <0 ç½®ä¸º0
00036000000062 â˜† sum_total_volume is None ç½®ä¸º0
00036000000062
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000206')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000603', 'rtu_no': '00030000000104', 'flmeter_no': '00036000000062', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 57, 995448), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_std_flow_time': datetime.datetime(2018, 12, 14, 12, 25, 58, 981000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_work_flow_time': datetime.datetime(2018, 12, 14, 12, 25, 58, 981000), 'max_temperature': '19.2', 'min_temperature': '10.3', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 19, 33, 2, 43000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 53, 153000), 'max_press': '103.6', 'min_press': '102.0', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 21, 9, 121000), 'min_press_time': datetime.datetime(2018, 12, 25, 1, 22, 56, 559000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000062å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000049
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1172
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000604'}]
0000000604
00036000000049 â˜† sum_total_volume is None ç½®ä¸º0
00036000000049
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000175')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000604', 'rtu_no': '00030000000091', 'flmeter_no': '00036000000049', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 58, 326451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '2.97', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 5, 15, 16, 53, 445000), 'min_std_flow_time': datetime.datetime(2018, 11, 12, 18, 11, 49, 381000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 23, 10, 46, 4, 746000), 'min_work_flow_time': datetime.datetime(2018, 11, 12, 18, 11, 49, 381000), 'max_temperature': '24.4', 'min_temperature': '6.4', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 12, 7, 18, 20, 51, 728000), 'min_temp_time': datetime.datetime(2018, 12, 10, 0, 21, 10, 425000), 'max_press': '105.0', 'min_press': '100.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 4, 20, 18, 10, 413000), 'min_press_time': datetime.datetime(2018, 12, 3, 9, 25, 57, 724000), 'price': '1312.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '90', 'remain_money': '90', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000049å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000055
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 56
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000605'}]
0000000605
00036000000055 â˜† use_volume_work <0 ç½®ä¸º0
00036000000055 â˜† sum_total_volume is None ç½®ä¸º0
00036000000055
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000188')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000605', 'rtu_no': '00030000000097', 'flmeter_no': '00036000000055', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 58, 613451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 2, 24, 41, 200000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 51, 49, 75000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 2, 24, 41, 200000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 51, 49, 75000), 'max_temperature': '19.2', 'min_temperature': '9.9', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 12, 14, 24, 23, 429000), 'min_temp_time': datetime.datetime(2018, 12, 31, 8, 28, 15, 996000), 'max_press': '103.6', 'min_press': '99.4', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 31, 9, 28, 37, 981000), 'min_press_time': datetime.datetime(2018, 12, 13, 7, 27, 45, 56000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 8.0, 'total_buy_volume': None, 'total_buy_money': '16', 'remain_money': '8', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000055å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000005
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 4783
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000606'}]
0000000606
00030000000005 â˜† use_volume_std <0 ç½®ä¸º0
00030000000005 â˜† sum_total_money <0 ç½®ä¸º0
00030000000005
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000210')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000606', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000005', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 58, 948451), 'year': '2018', 'std_sum': '148', 'work_sum': '154', 'max_std_flow': '2051080329.0', 'min_std_flow': '0.0', 'avg_std_flow': '12187862.0', 'max_std_flow_time': datetime.datetime(2018, 8, 25, 2, 12, 3, 274000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 50, 8, 548000), 'max_work_flow': '1183838787.0', 'min_work_flow': '0.0', 'avg_work_flow': '7026997.0', 'max_work_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 53, 814000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 50, 8, 548000), 'max_temperature': '5.526836e+22', 'min_temperature': '-5.0393358e+35', 'avg_temperature': '1.1555166424626483e+19', 'max_temp_time': datetime.datetime(2018, 11, 1, 19, 46, 6, 142000), 'min_temp_time': datetime.datetime(2018, 10, 19, 10, 51, 7, 329000), 'max_press': '102.06', 'min_press': '-2112016.5', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 11, 22, 8, 20, 5, 948000), 'min_press_time': datetime.datetime(2018, 11, 1, 15, 42, 3, 286000), 'price': '3.5', 'use_volume_work': '104.0', 'use_volume_std': '0', 'use_money': '0.0', 'sum_total_volume': '148', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '212.5', 'remain_volume': '0.0', 'fm_state': '15', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '1.1555166424626483e+19', 'temp_out': '1.1555166424626483e+19', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000005å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000014
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 761
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000607'}]
0000000607
00030000000014 â˜† sum_total_volume is None ç½®ä¸º0
00030000000014
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000186')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000607', 'rtu_no': '00030000000044', 'flmeter_no': '00030000000014', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 59, 266480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '20.0', 'max_std_flow_time': datetime.datetime(2018, 9, 4, 18, 11, 12, 118000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 14, 47, 38, 183000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 28, 14, 52, 1, 832000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 694000), 'max_temperature': '25.8', 'min_temperature': '-25.7', 'avg_temperature': '2.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 10, 17, 0, 342000), 'min_temp_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 694000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '94.0', 'max_press_time': datetime.datetime(2018, 9, 4, 18, 11, 12, 118000), 'min_press_time': datetime.datetime(2018, 10, 31, 14, 47, 38, 183000), 'price': '0.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '94.0', 'press_out': '94.0', 'temp_in': '2.0', 'temp_out': '2.0', 'rssi': '4.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000014å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000059
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 381
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000608'}]
0000000608
00036000000059 â˜† sum_total_volume is None ç½®ä¸º0
00036000000059
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000160')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000608', 'rtu_no': '00030000000101', 'flmeter_no': '00036000000059', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 59, 554479), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 51, 50, 434000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 2, 32, 10, 231000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 51, 50, 434000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 2, 32, 10, 231000), 'max_temperature': '21.7', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 12, 26, 23, 38, 16, 793000), 'min_temp_time': datetime.datetime(2018, 12, 20, 20, 41, 51, 309000), 'max_press': '107.0', 'min_press': '101.4', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 20, 20, 41, 51, 309000), 'min_press_time': datetime.datetime(2018, 12, 19, 14, 39, 45, 278000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000059å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000002
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 594
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000609'}]
0000000609
00030000000002 â˜† sum_total_money <0 ç½®ä¸º0
00030000000002
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000183')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000609', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000002', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 4, 59, 830451), 'year': '2018', 'std_sum': '48', 'work_sum': '50', 'max_std_flow': '1631649859.0', 'min_std_flow': '0.0', 'avg_std_flow': '20593324.0', 'max_std_flow_time': datetime.datetime(2018, 7, 30, 11, 40, 54, 756000), 'min_std_flow_time': datetime.datetime(2018, 7, 26, 9, 19, 9, 414000), 'max_work_flow': '6881280.0', 'min_work_flow': '0.0', 'avg_work_flow': '46338.0', 'max_work_flow_time': datetime.datetime(2018, 7, 26, 10, 1, 54, 352000), 'min_work_flow_time': datetime.datetime(2018, 7, 26, 9, 19, 9, 414000), 'max_temperature': '1.5433238e+31', 'min_temperature': '-3275871490.0', 'avg_temperature': '5.196376430976431e+28', 'max_temp_time': datetime.datetime(2018, 7, 30, 11, 40, 54, 756000), 'min_temp_time': datetime.datetime(2018, 7, 25, 16, 43, 14, 570000), 'max_press': '99.54323', 'min_press': '-8255.064', 'avg_press': '95.0', 'max_press_time': datetime.datetime(2018, 7, 26, 10, 35, 41, 649000), 'min_press_time': datetime.datetime(2018, 7, 26, 11, 32, 13, 211000), 'price': '2.0800002', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '48', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '10.0', 'remain_volume': '0.0', 'fm_state': '05', 'fm_state_msg': 'è§£æè¡¨çŠ¶æ€å¤±è´¥', 'rtu_state': '0000', 'rtu_state_msg': 'é—¨å…³,å¸‚ç”µæ–­ç”µ', 'valve_state': '81', 'valve_state_msg': '81', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '95.0', 'press_out': '95.0', 'temp_in': '5.196376430976431e+28', 'temp_out': '5.196376430976431e+28', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000002å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000011
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 431
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000610'}]
0000000610
00036000000011
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000193')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000610', 'rtu_no': None, 'flmeter_no': '00036000000011', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 0, 99480), 'year': '2018', 'std_sum': '1649.380', 'work_sum': '1669.680', 'max_std_flow': '15.97', 'min_std_flow': '0.0', 'avg_std_flow': '13.0', 'max_std_flow_time': datetime.datetime(2018, 10, 25, 0, 0, 47), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 0, 49), 'max_work_flow': '16.11', 'min_work_flow': '0.0', 'avg_work_flow': '13.0', 'max_work_flow_time': datetime.datetime(2018, 10, 26, 0, 1, 17), 'min_work_flow_time': datetime.datetime(2018, 8, 11, 0, 0, 49), 'max_temperature': '26.993', 'min_temperature': '19.649', 'avg_temperature': '23.0', 'max_temp_time': datetime.datetime(2018, 8, 15, 0, 0, 50), 'min_temp_time': datetime.datetime(2018, 10, 19, 0, 0, 45), 'max_press': '114.847', 'min_press': '98.563', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 8, 30, 0, 1, 18), 'min_press_time': datetime.datetime(2018, 8, 17, 0, 0, 43), 'price': '0.000', 'use_volume_work': '1652.77', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '23.0', 'temp_out': '23.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000011å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000018
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 863
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000611'}]
0000000611
00036000000018 â˜† sum_total_volume is None ç½®ä¸º0
00036000000018
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000165')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000611', 'rtu_no': '00030000000049', 'flmeter_no': '00036000000018', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 0, 400480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '477.63', 'min_std_flow': '0.0', 'avg_std_flow': '6.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 18, 40, 13, 656000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 10, 39, 6, 277000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 17, 41, 55, 453000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 10, 39, 6, 277000), 'max_temperature': '2491.0', 'min_temperature': '-25.7', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2019, 3, 26, 8, 42, 10, 843000), 'min_temp_time': datetime.datetime(2019, 1, 30, 14, 25, 2, 12000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '40.0', 'max_press_time': datetime.datetime(2019, 1, 30, 14, 25, 2, 12000), 'min_press_time': datetime.datetime(2018, 11, 30, 0, 20, 55, 586000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': '0', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '45', 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '40.0', 'press_out': '40.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000018å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000057
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 512
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000612'}]
0000000612
00036000000057 â˜† sum_total_volume is None ç½®ä¸º0
00036000000057
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000211')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000612', 'rtu_no': '00030000000099', 'flmeter_no': '00036000000057', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 0, 702480), 'year': '2018', 'std_sum': '12', 'work_sum': '12', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 29, 7, 30, 41, 934000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 1, 21, 45, 215000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 7, 30, 41, 934000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 1, 21, 45, 215000), 'max_temperature': '20.1', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 12, 10, 26, 57, 719000), 'min_temp_time': datetime.datetime(2018, 12, 31, 0, 21, 11, 59000), 'max_press': '106.9', 'min_press': '101.5', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 11, 20, 42, 11, 728000), 'min_press_time': datetime.datetime(2018, 12, 19, 15, 34, 32, 262000), 'price': '1.0', 'use_volume_work': '12.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000057å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000101
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 5
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000613'}]
0000000613
00036000000101 â˜† sum_total_volume is None ç½®ä¸º0
00036000000101
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000153')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000613', 'rtu_no': '00030000000141', 'flmeter_no': '00036000000101', 'customer_no': '00030000000068', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 1, 41482), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_std_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_work_flow_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_temperature': '20.0', 'min_temperature': '20.0', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_temp_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 3, 28, 9, 17, 11, 921000), 'min_press_time': datetime.datetime(2019, 3, 27, 16, 16, 9, 373000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '01', 'battery_voltage': None, 'battery_level': '22', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000101å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000024
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1611
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000614'}]
0000000614
00036000000024
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000208')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000614', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000024', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 1, 413455), 'year': '2018', 'std_sum': '2579974.290', 'work_sum': '695543.720', 'max_std_flow': '385.52', 'min_std_flow': '0.0', 'avg_std_flow': '197.0', 'max_std_flow_time': datetime.datetime(2018, 8, 24, 4, 0, 23), 'min_std_flow_time': datetime.datetime(2018, 8, 20, 2, 0, 26), 'max_work_flow': '162.6', 'min_work_flow': '0.0', 'avg_work_flow': '50.0', 'max_work_flow_time': datetime.datetime(2018, 8, 7, 6, 0, 24), 'min_work_flow_time': datetime.datetime(2018, 8, 20, 2, 0, 26), 'max_temperature': '33.145', 'min_temperature': '-6.597', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 8, 26, 14, 0, 27), 'min_temp_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'max_press': '436.168', 'min_press': '98.572', 'avg_press': '320.0', 'max_press_time': datetime.datetime(2018, 9, 25, 2, 0, 24), 'min_press_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'price': '0.000', 'use_volume_work': '191453.65999999997', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '320.0', 'press_out': '320.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000024å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000016
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 16
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000615'}]
0000000615
00030000000016 â˜† sum_total_volume is None ç½®ä¸º0
00030000000016 â˜† sum_total_money <0 ç½®ä¸º0
00030000000016
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000163')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000615', 'rtu_no': '00030000000047', 'flmeter_no': '00030000000016', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 1, 744480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 7, 10, 30, 27, 345000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 19, 23, 33, 892000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 30, 27, 345000), 'min_work_flow_time': datetime.datetime(2018, 11, 8, 19, 23, 33, 892000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 11, 7, 9, 34, 52, 938000), 'min_temp_time': datetime.datetime(2018, 11, 7, 10, 22, 48, 82000), 'max_press': '101.9', 'min_press': '0.0', 'avg_press': '19.0', 'max_press_time': datetime.datetime(2018, 11, 7, 9, 34, 52, 938000), 'min_press_time': datetime.datetime(2018, 11, 7, 10, 22, 48, 82000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '1618', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '19.0', 'press_out': '19.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000016å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000054
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 515
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000616'}]
0000000616
00036000000054 â˜† sum_total_volume is None ç½®ä¸º0
00036000000054 â˜† sum_total_money <0 ç½®ä¸º0
00036000000054
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000148')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000616', 'rtu_no': '00030000000096', 'flmeter_no': '00036000000054', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 2, 56451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '267.15', 'min_std_flow': '0.0', 'avg_std_flow': '1.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 18, 55, 19, 281000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 45, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 28, 10, 46, 22, 593000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 45, 246000), 'max_temperature': '98.4', 'min_temperature': '0.0', 'avg_temperature': '15.0', 'max_temp_time': datetime.datetime(2019, 3, 21, 9, 57, 27, 921000), 'min_temp_time': datetime.datetime(2018, 12, 11, 14, 26, 44, 303000), 'max_press': '104.2', 'min_press': '0.0', 'avg_press': '72.0', 'max_press_time': datetime.datetime(2018, 12, 31, 0, 21, 22, 262000), 'min_press_time': datetime.datetime(2018, 12, 11, 14, 26, 44, 303000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '72.0', 'press_out': '72.0', 'temp_in': '15.0', 'temp_out': '15.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000054å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 662
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000617'}]
0000000617
00030000000007 â˜† sum_total_money <0 ç½®ä¸º0
00030000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000204')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000617', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 2, 398480), 'year': '2018', 'std_sum': '64', 'work_sum': '66', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 14, 0, 51, 380000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 11, 9, 34, 360000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 14, 0, 51, 380000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 11, 9, 34, 360000), 'max_temperature': '26.963799', 'min_temperature': '26.96', 'avg_temperature': '26.0', 'max_temp_time': datetime.datetime(2018, 9, 6, 17, 41, 19, 939000), 'min_temp_time': datetime.datetime(2018, 10, 8, 11, 17, 51, 702000), 'max_press': '100.15426', 'min_press': '100.15', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 9, 6, 17, 41, 19, 939000), 'min_press_time': datetime.datetime(2018, 10, 8, 11, 17, 51, 702000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '54289.0', 'use_money': '54289.0', 'sum_total_volume': '54353', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '45711.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '26.0', 'temp_out': '26.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000070
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 22
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000618'}]
0000000618
00036000000070 â˜† sum_total_volume is None ç½®ä¸º0
00036000000070
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000184')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000618', 'rtu_no': '00030000000112', 'flmeter_no': '00036000000070', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 2, 728449), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_temperature': '20.5', 'min_temperature': '20.5', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_temp_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 1, 10, 18, 27, 22, 371000), 'min_press_time': datetime.datetime(2018, 12, 20, 9, 56, 38, 450000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '200', 'remain_money': '200', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000070å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000013
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 829
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000619'}]
0000000619
00030000000013 â˜† sum_total_volume is None ç½®ä¸º0
00030000000013 â˜† sum_total_money <0 ç½®ä¸º0
00030000000013
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000212')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000619', 'rtu_no': '00030000000043', 'flmeter_no': '00030000000013', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 3, 125451), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '20.0', 'max_std_flow_time': datetime.datetime(2018, 9, 4, 18, 11, 17, 600000), 'min_std_flow_time': datetime.datetime(2018, 10, 30, 10, 33, 37, 530000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 37, 13, 749000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 400000), 'max_temperature': '25.8', 'min_temperature': '-25.7', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 9, 20, 30, 909000), 'min_temp_time': datetime.datetime(2018, 9, 4, 18, 35, 30, 400000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 9, 4, 18, 11, 17, 600000), 'min_press_time': datetime.datetime(2018, 10, 31, 13, 41, 42, 548000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '5310', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000013å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000003
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 5655
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000620'}]
0000000620
00030000000003 â˜† sum_total_money <0 ç½®ä¸º0
00030000000003
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000162')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000620', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000003', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 3, 523477), 'year': '2018', 'std_sum': '64', 'work_sum': '67', 'max_std_flow': '2142519759.0', 'min_std_flow': '0.0', 'avg_std_flow': '17855155.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 16, 54, 9, 470000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 5, 751000), 'max_work_flow': '1241223232.0', 'min_work_flow': '0.0', 'avg_work_flow': '7043536.0', 'max_work_flow_time': datetime.datetime(2018, 7, 25, 16, 3, 11, 914000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 5, 751000), 'max_temperature': '2.5821684e+38', 'min_temperature': '-1.0115858e+36', 'avg_temperature': '1.8264700312268874e+35', 'max_temp_time': datetime.datetime(2018, 8, 4, 16, 4, 43, 87000), 'min_temp_time': datetime.datetime(2018, 8, 3, 19, 4, 42, 837000), 'max_press': '128.0', 'min_press': '-8449346.0', 'avg_press': '97.0', 'max_press_time': datetime.datetime(2018, 10, 24, 21, 47, 6, 622000), 'min_press_time': datetime.datetime(2018, 11, 1, 11, 25, 21, 511000), 'price': '2.5', 'use_volume_work': '67.0', 'use_volume_std': '64.0', 'use_money': '160.0', 'sum_total_volume': '64', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '292.5', 'remain_volume': '0.0', 'fm_state': '06', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '97.0', 'press_out': '97.0', 'temp_in': '1.8264700312268874e+35', 'temp_out': '1.8264700312268874e+35', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000003å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000008
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 706
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000621'}]
0000000621
00030000000008 â˜† sum_total_money <0 ç½®ä¸º0
00030000000008
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000149')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000621', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000008', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 3, 871479), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_temp_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 14, 10, 49, 55, 933000), 'min_press_time': datetime.datetime(2018, 8, 9, 10, 19, 33, 763000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '43534.0', 'use_money': '43534.0', 'sum_total_volume': '43578', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '56492.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000008å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000046
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 959
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000622'}]
0000000622
00036000000046 â˜† sum_total_volume is None ç½®ä¸º0
00036000000046
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000157')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000622', 'rtu_no': '00030000000088', 'flmeter_no': '00036000000046', 'customer_no': '00030000000040', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 4, 327480), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 18, 934000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 15, 14, 53, 942000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 18, 934000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 15, 14, 53, 942000), 'max_temperature': '27.4', 'min_temperature': '0.0', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2018, 12, 4, 15, 15, 14, 575000), 'min_temp_time': datetime.datetime(2018, 11, 29, 8, 50, 47, 552000), 'max_press': '106.0', 'min_press': '0.0', 'avg_press': '61.0', 'max_press_time': datetime.datetime(2018, 12, 9, 3, 22, 36, 855000), 'min_press_time': datetime.datetime(2018, 11, 29, 8, 50, 47, 552000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '1999815', 'remain_money': '1999813', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '61.0', 'press_out': '61.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000046å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000035
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 443
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000623'}]
0000000623
00036000000035 â˜† sum_total_money <0 ç½®ä¸º0
00036000000035
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000159')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000623', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000035', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 4, 662481), 'year': '2018', 'std_sum': '60316', 'work_sum': '51742', 'max_std_flow': '1101004800.0', 'min_std_flow': '0.0', 'avg_std_flow': '2494954.0', 'max_std_flow_time': datetime.datetime(2018, 11, 5, 21, 41, 6, 620000), 'min_std_flow_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 15, 19, 7, 177000), 'min_work_flow_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_temperature': '2.2977563e+23', 'min_temperature': '0.0', 'avg_temperature': '1.035695914221219e+21', 'max_temp_time': datetime.datetime(2018, 11, 1, 13, 32, 11, 33000), 'min_temp_time': datetime.datetime(2018, 10, 10, 12, 16, 7, 984000), 'max_press': '4.0815275e+31', 'min_press': '-3430800.5', 'avg_press': '1.842676072234763e+29', 'max_press_time': datetime.datetime(2018, 11, 3, 19, 13, 1, 851000), 'min_press_time': datetime.datetime(2018, 11, 2, 14, 20, 12, 441000), 'price': '2.5', 'use_volume_work': '51742.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '15.0', 'remain_volume': '0.0', 'fm_state': '74', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '1.842676072234763e+29', 'press_out': '1.842676072234763e+29', 'temp_in': '1.035695914221219e+21', 'temp_out': '1.035695914221219e+21', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000035å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000017
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 29
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000624'}]
0000000624
00030000000017 â˜† sum_total_volume is None ç½®ä¸º0
00030000000017 â˜† sum_total_money <0 ç½®ä¸º0
00030000000017
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000180')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000624', 'rtu_no': '00030000000047', 'flmeter_no': '00030000000017', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 4, 982479), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_std_flow_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_work_flow_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_temp_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 22, 16, 16, 39, 144000), 'min_press_time': datetime.datetime(2018, 11, 6, 20, 4, 9, 543000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '2103', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000017å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000053
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 694
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000625'}]
0000000625
00036000000053 â˜† sum_total_volume is None ç½®ä¸º0
00036000000053
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000178')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000625', 'rtu_no': '00030000000095', 'flmeter_no': '00036000000053', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 5, 265485), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 14, 26, 39, 246000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 21, 16, 762000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 14, 26, 39, 246000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 21, 16, 762000), 'max_temperature': '25.6', 'min_temperature': '0.0', 'avg_temperature': '11.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 15, 7, 42, 195000), 'min_temp_time': datetime.datetime(2018, 12, 11, 16, 2, 7, 531000), 'max_press': '110.4', 'min_press': '0.0', 'avg_press': '73.0', 'max_press_time': datetime.datetime(2018, 12, 10, 10, 56, 15, 414000), 'min_press_time': datetime.datetime(2018, 12, 11, 16, 2, 7, 531000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '190', 'remain_money': '190', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '73.0', 'press_out': '73.0', 'temp_in': '11.0', 'temp_out': '11.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000053å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000060
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 357
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000626'}]
0000000626
00036000000060 â˜† sum_total_volume is None ç½®ä¸º0
00036000000060
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000182')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000626', 'rtu_no': '00030000000102', 'flmeter_no': '00036000000060', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 5, 634464), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 1, 20, 40, 278000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 1, 20, 40, 278000), 'max_temperature': '20.4', 'min_temperature': '0.0', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 10, 23, 33, 75000), 'min_temp_time': datetime.datetime(2018, 12, 18, 9, 4, 38, 997000), 'max_press': '103.8', 'min_press': '0.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 2, 21, 51, 325000), 'min_press_time': datetime.datetime(2018, 12, 18, 9, 4, 38, 997000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '1', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000060å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000023
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 605
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000627'}]
0000000627
00036000000023
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000164')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000627', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000023', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 6, 48480), 'year': '2018', 'std_sum': '187556.740', 'work_sum': '73774.290', 'max_std_flow': '329.0', 'min_std_flow': '0.0', 'avg_std_flow': '57.0', 'max_std_flow_time': datetime.datetime(2018, 9, 2, 4, 0, 25), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 22), 'max_work_flow': '143.6', 'min_work_flow': '0.0', 'avg_work_flow': '19.0', 'max_work_flow_time': datetime.datetime(2018, 8, 14, 16, 0, 35), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 22), 'max_temperature': '40.914', 'min_temperature': '-10.763', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2018, 7, 25, 14, 0, 25), 'min_temp_time': datetime.datetime(2018, 12, 29, 8, 0, 25), 'max_press': '408.554', 'min_press': '99.167', 'avg_press': '176.0', 'max_press_time': datetime.datetime(2018, 8, 27, 4, 0, 27), 'min_press_time': datetime.datetime(2018, 9, 29, 20, 0, 30), 'price': '0.000', 'use_volume_work': '58872.649999999994', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '176.0', 'press_out': '176.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000023å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000017
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 8
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000628'}]
0000000628
00036000000017 â˜† sum_total_volume is None ç½®ä¸º0
00036000000017
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000207')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000628', 'rtu_no': '00030000000048', 'flmeter_no': '00036000000017', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 6, 811480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_std_flow_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_work_flow_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_temp_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 12, 7, 13, 10, 20, 727000), 'min_press_time': datetime.datetime(2018, 12, 7, 13, 9, 25, 665000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2252', 'remain_money': '2252', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000017å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000067
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 81
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000629'}]
0000000629
00036000000067 â˜† sum_total_volume is None ç½®ä¸º0
00036000000067
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000169')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000629', 'rtu_no': '00030000000109', 'flmeter_no': '00036000000067', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 7, 129484), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 3, 356000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 10, 1, 5, 465000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 3, 356000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 10, 1, 5, 465000), 'max_temperature': '20.5', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 12, 47, 45, 450000), 'min_temp_time': datetime.datetime(2018, 12, 20, 15, 21, 57, 121000), 'max_press': '113.5', 'min_press': '0.0', 'avg_press': '99.0', 'max_press_time': datetime.datetime(2018, 12, 26, 3, 17, 52, 465000), 'min_press_time': datetime.datetime(2018, 12, 20, 15, 21, 57, 121000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '5', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '99.0', 'press_out': '99.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '11.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000067å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000038
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 573
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000630'}]
0000000630
00036000000038 â˜† use_volume_work <0 ç½®ä¸º0
00036000000038 â˜† sum_total_volume is None ç½®ä¸º0
00036000000038
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000202')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000630', 'rtu_no': '00030000000079', 'flmeter_no': '00036000000038', 'customer_no': '00030000000016', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 7, 443474), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 17, 50, 746000), 'min_std_flow_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 17, 50, 746000), 'min_work_flow_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_temperature': '23.3', 'min_temperature': '0.0', 'avg_temperature': '15.0', 'max_temp_time': datetime.datetime(2018, 11, 1, 15, 9, 7, 433000), 'min_temp_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'max_press': '107.1', 'min_press': '0.0', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 11, 20, 12, 54, 3, 883000), 'min_press_time': datetime.datetime(2018, 11, 1, 14, 54, 53, 500000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 3.0, 'total_buy_volume': None, 'total_buy_money': '3', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '15.0', 'temp_out': '15.0', 'rssi': '13.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000038å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000056
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 283
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000631'}]
0000000631
00036000000056 â˜† sum_total_volume is None ç½®ä¸º0
00036000000056
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000196')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000631', 'rtu_no': '00030000000098', 'flmeter_no': '00036000000056', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 7, 823480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 11, 15, 31, 11, 452000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 11, 15, 31, 11, 452000), 'max_temperature': '19.4', 'min_temperature': '10.3', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 18, 41, 55, 777000), 'min_temp_time': datetime.datetime(2018, 12, 31, 0, 20, 39, 43000), 'max_press': '103.8', 'min_press': '99.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 30, 0, 20, 59, 512000), 'min_press_time': datetime.datetime(2018, 12, 11, 17, 31, 57, 432000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000056å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000028
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1618
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000632'}]
0000000632
00036000000028
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000194')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000632', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000028', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 8, 174455), 'year': '2018', 'std_sum': '311644.480', 'work_sum': '287074.660', 'max_std_flow': '110.62', 'min_std_flow': '0.0', 'avg_std_flow': '8.0', 'max_std_flow_time': datetime.datetime(2018, 10, 31, 6, 0, 24), 'min_std_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 23), 'max_work_flow': '107.11', 'min_work_flow': '0.0', 'avg_work_flow': '8.0', 'max_work_flow_time': datetime.datetime(2018, 8, 9, 16, 0, 23), 'min_work_flow_time': datetime.datetime(2018, 7, 28, 8, 0, 23), 'max_temperature': '37.858', 'min_temperature': '3.406', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 8, 2, 16, 0, 24), 'min_temp_time': datetime.datetime(2018, 11, 9, 6, 0, 24), 'max_press': '113.946', 'min_press': '101.325', 'avg_press': '108.0', 'max_press_time': datetime.datetime(2018, 11, 1, 16, 0, 26), 'min_press_time': datetime.datetime(2018, 11, 23, 0, 0, 23), 'price': '0.000', 'use_volume_work': '33982.06999999998', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '108.0', 'press_out': '108.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000028å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000005
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 650
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000633'}]
0000000633
00036000000005 â˜† sum_total_money <0 ç½®ä¸º0
00036000000005
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000192')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000633', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000005', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 8, 481451), 'year': '2018', 'std_sum': '148', 'work_sum': '154', 'max_std_flow': '6881280.0', 'min_std_flow': '0.0', 'avg_std_flow': '10586.0', 'max_std_flow_time': datetime.datetime(2018, 12, 4, 14, 49, 7, 147000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 19, 8, 894000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 43, 10, 465000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 19, 8, 894000), 'max_temperature': '24.39', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 1, 14, 27, 14, 659000), 'min_temp_time': datetime.datetime(2018, 12, 4, 14, 49, 7, 147000), 'max_press': '103.4', 'min_press': '-33781180.0', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 12, 31, 9, 0, 17, 293000), 'min_press_time': datetime.datetime(2018, 12, 9, 22, 27, 9, 576000), 'price': '3.5', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '148', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '212.5', 'remain_volume': '0.0', 'fm_state': '15', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000005å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000068
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 22
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000634'}]
0000000634
00036000000068 â˜† sum_total_volume is None ç½®ä¸º0
00036000000068
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000161')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000634', 'rtu_no': '00030000000110', 'flmeter_no': '00036000000068', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 8, 742480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 11, 668000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 42, 825000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 21, 11, 668000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 9, 56, 42, 825000), 'max_temperature': '20.5', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 13, 36, 50, 496000), 'min_temp_time': datetime.datetime(2018, 12, 28, 15, 21, 51, 496000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '88.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 20, 56, 403000), 'min_press_time': datetime.datetime(2018, 12, 28, 15, 21, 51, 496000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '2', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '88.0', 'press_out': '88.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000068å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000066
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 14
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000635'}]
0000000635
00036000000066 â˜† sum_total_volume is None ç½®ä¸º0
00036000000066
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000176')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000635', 'rtu_no': '00030000000108', 'flmeter_no': '00036000000066', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 9, 215448), 'year': '2018', 'std_sum': '109', 'work_sum': '101', 'max_std_flow': '7.5', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 20, 12, 3, 41, 700000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 24, 12, 20, 19, 528000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'max_temperature': '20.5', 'min_temperature': '12.1', 'avg_temperature': '19.0', 'max_temp_time': datetime.datetime(2018, 12, 20, 12, 35, 52, 309000), 'min_temp_time': datetime.datetime(2018, 12, 22, 1, 21, 14, 996000), 'max_press': '106.9', 'min_press': '101.3', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 24, 12, 20, 19, 528000), 'min_press_time': datetime.datetime(2018, 12, 20, 17, 36, 47, 934000), 'price': '1.0', 'use_volume_work': '101.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '19.0', 'temp_out': '19.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000066å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000044
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 450
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000636'}]
0000000636
00036000000044 â˜† sum_total_volume is None ç½®ä¸º0
00036000000044
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000179')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000636', 'rtu_no': '00030000000085', 'flmeter_no': '00036000000044', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 10, 98450), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 10, 5, 23, 15, 754000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 10, 5, 23, 15, 754000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_temperature': '19.8', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 11, 29, 19, 25, 30, 139000), 'min_temp_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '98.0', 'max_press_time': datetime.datetime(2018, 12, 8, 18, 25, 27, 550000), 'min_press_time': datetime.datetime(2018, 11, 16, 15, 3, 44, 802000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 650.0, 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '98.0', 'press_out': '98.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000044å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000007
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 298
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000637'}]
0000000637
00036000000007 â˜† sum_total_money <0 ç½®ä¸º0
00036000000007
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000185')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000637', 'rtu_no': '00030000000012', 'flmeter_no': '00036000000007', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 11, 57479), 'year': '2018', 'std_sum': '64', 'work_sum': '66', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_temperature': '26.96', 'min_temperature': '26.96', 'avg_temperature': '26.0', 'max_temp_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_temp_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'max_press': '100.15', 'min_press': '100.15', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 12, 17, 12, 24, 12, 262000), 'min_press_time': datetime.datetime(2018, 12, 6, 15, 7, 2, 707000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '60492', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '39572.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '26.0', 'temp_out': '26.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000007å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 96
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000638'}]
0000000638
00030000000022 â˜† sum_total_volume is None ç½®ä¸º0
00030000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000189')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000638', 'rtu_no': '00030000000052', 'flmeter_no': '00030000000022', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 11, 301448), 'year': '2018', 'std_sum': '4321', 'work_sum': '1234', 'max_std_flow': '0.5', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 17, 8, 37, 22, 503000), 'min_std_flow_time': datetime.datetime(2018, 9, 18, 10, 29, 38, 822000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 18, 10, 43, 13, 916000), 'min_work_flow_time': datetime.datetime(2018, 9, 6, 19, 47, 14, 180000), 'max_temperature': '2.5', 'min_temperature': '2.0', 'avg_temperature': '2.0', 'max_temp_time': datetime.datetime(2018, 9, 17, 8, 37, 22, 503000), 'min_temp_time': datetime.datetime(2018, 9, 18, 10, 29, 38, 822000), 'max_press': '10.1', 'min_press': '10.1', 'avg_press': '10.0', 'max_press_time': datetime.datetime(2018, 9, 18, 10, 43, 13, 916000), 'min_press_time': datetime.datetime(2018, 9, 6, 19, 47, 14, 180000), 'price': '0.1', 'use_volume_work': '1234.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '63', 'press_in': '10.0', 'press_out': '10.0', 'temp_in': '2.0', 'temp_out': '2.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000019
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 60
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000639'}]
0000000639
00030000000019 â˜† sum_total_volume is None ç½®ä¸º0
00030000000019
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000181')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000639', 'rtu_no': '00030000000049', 'flmeter_no': '00030000000019', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 11, 559479), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 9, 9, 11, 16, 36, 733000), 'min_std_flow_time': datetime.datetime(2018, 11, 2, 13, 11, 30, 924000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 13, 27, 16, 356000), 'min_work_flow_time': datetime.datetime(2018, 9, 9, 11, 15, 30, 177000), 'max_temperature': '21.9', 'min_temperature': '-25.7', 'avg_temperature': '1.0', 'max_temp_time': datetime.datetime(2018, 11, 6, 13, 25, 14, 120000), 'min_temp_time': datetime.datetime(2018, 9, 9, 11, 15, 30, 177000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '11.0', 'max_press_time': datetime.datetime(2018, 9, 9, 11, 16, 36, 733000), 'min_press_time': datetime.datetime(2018, 11, 2, 13, 11, 30, 924000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': '0', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '59', 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '11.0', 'press_out': '11.0', 'temp_in': '1.0', 'temp_out': '1.0', 'rssi': '10.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000019å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000042
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 483
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000640'}]
0000000640
00036000000042 â˜† use_volume_work <0 ç½®ä¸º0
00036000000042 â˜† sum_total_volume is None ç½®ä¸º0
00036000000042
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000155')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000640', 'rtu_no': '00030000000083', 'flmeter_no': '00036000000042', 'customer_no': '00030000000032', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 11, 849448), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '19.75', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 13, 10, 49, 12, 658000), 'min_std_flow_time': datetime.datetime(2018, 11, 17, 8, 23, 31, 42000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 21, 10, 22, 19, 197000), 'min_work_flow_time': datetime.datetime(2018, 11, 17, 8, 23, 31, 42000), 'max_temperature': '26.5', 'min_temperature': '14.9', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 19, 17, 21, 17, 669000), 'min_temp_time': datetime.datetime(2018, 11, 20, 10, 11, 29, 883000), 'max_press': '102.3', 'min_press': '92.1', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 11, 20, 23, 1, 51, 621000), 'min_press_time': datetime.datetime(2018, 11, 19, 13, 49, 31, 769000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 17.0, 'total_buy_volume': None, 'total_buy_money': '19', 'remain_money': '2', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[å……å€¼é‡‘é¢è¿‡å¤§è¶…å‡ºæ¶²æ™¶æ˜¾ç¤ºèŒƒå›´][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '8.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000042å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000015
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 263
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000641'}]
0000000641
00030000000015 â˜† sum_total_volume is None ç½®ä¸º0
00030000000015 â˜† sum_total_money <0 ç½®ä¸º0
00030000000015
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000205')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000641', 'rtu_no': '00030000000045', 'flmeter_no': '00030000000015', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 12, 156482), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '21.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 16, 51, 58, 303000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 13, 58, 45, 280000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 7, 10, 52, 0, 774000), 'min_work_flow_time': datetime.datetime(2018, 9, 10, 9, 4, 30, 239000), 'max_temperature': '0.0', 'min_temperature': '-25.7', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 7, 10, 52, 0, 774000), 'min_temp_time': datetime.datetime(2018, 9, 10, 9, 4, 30, 239000), 'max_press': '103.7', 'min_press': '0.0', 'avg_press': '88.0', 'max_press_time': datetime.datetime(2018, 9, 19, 16, 51, 58, 303000), 'min_press_time': datetime.datetime(2018, 10, 31, 13, 58, 45, 280000), 'price': '3.086', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '2103', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '88.0', 'press_out': '88.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000015å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000037
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 312
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000642'}]
0000000642
00036000000037 â˜† sum_total_volume is None ç½®ä¸º0
00036000000037
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000200')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000642', 'rtu_no': '00030000000064', 'flmeter_no': '00036000000037', 'customer_no': '00030000000018', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 12, 502447), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_std_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_work_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_temperature': '19.0', 'min_temperature': '0.0', 'avg_temperature': '7.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 0, 21, 11, 418000), 'min_temp_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'max_press': '103.5', 'min_press': '0.0', 'avg_press': '46.0', 'max_press_time': datetime.datetime(2018, 12, 30, 0, 20, 50, 575000), 'min_press_time': datetime.datetime(2018, 11, 28, 16, 31, 24, 115000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 6.0, 'total_buy_volume': None, 'total_buy_money': '6', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '46.0', 'press_out': '46.0', 'temp_in': '7.0', 'temp_out': '7.0', 'rssi': '5.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000037å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000058
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 309
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000643'}]
0000000643
00036000000058 â˜† use_volume_work <0 ç½®ä¸º0
00036000000058 â˜† sum_total_volume is None ç½®ä¸º0
00036000000058
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000174')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000643', 'rtu_no': '00030000000100', 'flmeter_no': '00036000000058', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 12, 798479), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 12, 950000), 'min_std_flow_time': datetime.datetime(2018, 12, 15, 14, 28, 5, 715000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 0, 21, 12, 950000), 'min_work_flow_time': datetime.datetime(2018, 12, 15, 14, 28, 5, 715000), 'max_temperature': '23.0', 'min_temperature': '0.0', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 21, 16, 18, 29, 981000), 'min_temp_time': datetime.datetime(2018, 12, 21, 16, 16, 57, 918000), 'max_press': '109.1', 'min_press': '0.0', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 14, 10, 37, 29, 590000), 'min_press_time': datetime.datetime(2018, 12, 21, 16, 16, 57, 918000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000058å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000039
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 755
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000644'}]
0000000644
00036000000039 â˜† sum_total_volume is None ç½®ä¸º0
00036000000039
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000150')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000644', 'rtu_no': '00030000000080', 'flmeter_no': '00036000000039', 'customer_no': '00030000000029', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 13, 162477), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '10.34', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 1, 9, 51, 18, 66000), 'min_std_flow_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 16, 25, 39, 793000), 'min_work_flow_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_temperature': '22.6', 'min_temperature': '0.0', 'avg_temperature': '1.0', 'max_temp_time': datetime.datetime(2018, 11, 1, 15, 59, 39, 240000), 'min_temp_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'max_press': '102.2', 'min_press': '0.0', 'avg_press': '7.0', 'max_press_time': datetime.datetime(2018, 11, 1, 15, 57, 35, 256000), 'min_press_time': datetime.datetime(2018, 10, 30, 10, 0, 4, 467000), 'price': '2.32', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '1095', 'remain_money': '1095', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '7.0', 'press_out': '7.0', 'temp_in': '1.0', 'temp_out': '1.0', 'rssi': '7.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000039å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000047
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 451
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000645'}]
0000000645
00036000000047 â˜† sum_total_volume is None ç½®ä¸º0
00036000000047
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000168')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000645', 'rtu_no': '00030000000089', 'flmeter_no': '00036000000047', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 13, 488449), 'year': '2018', 'std_sum': '12', 'work_sum': '12', 'max_std_flow': '0.04', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 21, 13, 42, 20, 374000), 'min_std_flow_time': datetime.datetime(2018, 11, 21, 16, 6, 55, 855000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 29, 12, 51, 25, 934000), 'min_work_flow_time': datetime.datetime(2018, 11, 21, 16, 6, 55, 855000), 'max_temperature': '24.3', 'min_temperature': '0.0', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 28, 13, 21, 18, 75000), 'min_temp_time': datetime.datetime(2018, 11, 22, 15, 38, 16, 652000), 'max_press': '111.6', 'min_press': '0.0', 'avg_press': '80.0', 'max_press_time': datetime.datetime(2018, 12, 5, 9, 10, 17, 84000), 'min_press_time': datetime.datetime(2018, 11, 22, 15, 38, 16, 652000), 'price': '1.0', 'use_volume_work': '12.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 21.0, 'total_buy_volume': None, 'total_buy_money': '119', 'remain_money': '98', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '80.0', 'press_out': '80.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000047å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000063
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 586
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000646'}]
0000000646
00036000000063 â˜† use_volume_work <0 ç½®ä¸º0
00036000000063 â˜† sum_total_volume is None ç½®ä¸º0
00036000000063
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000203')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000646', 'rtu_no': '00030000000105', 'flmeter_no': '00036000000063', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 13, 791480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 12, 15, 56, 168000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 48, 590000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 12, 15, 56, 168000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 20, 48, 590000), 'max_temperature': '19.2', 'min_temperature': '9.3', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 12, 14, 0, 20, 56, 918000), 'min_temp_time': datetime.datetime(2018, 12, 25, 14, 6, 12, 418000), 'max_press': '103.1', 'min_press': '92.6', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 14, 19, 33, 0, 90000), 'min_press_time': datetime.datetime(2018, 12, 15, 23, 37, 4, 590000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '3.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000063å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 18
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000647'}]
0000000647
00036000000021 â˜† use_volume_work <0 ç½®ä¸º0
00036000000021 â˜† sum_total_volume is None ç½®ä¸º0
00036000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000152')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000647', 'rtu_no': '00030000000055', 'flmeter_no': '00036000000021', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 14, 51479), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 4, 2, 8, 38, 29, 181000), 'min_std_flow_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 4, 2, 8, 38, 29, 181000), 'min_work_flow_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'max_temperature': '23.4', 'min_temperature': '0.0', 'avg_temperature': '1.0', 'max_temp_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'min_temp_time': datetime.datetime(2019, 3, 27, 14, 11, 18, 481000), 'max_press': '102.4', 'min_press': '0.0', 'avg_press': '5.0', 'max_press_time': datetime.datetime(2019, 2, 21, 8, 59, 17, 896000), 'min_press_time': datetime.datetime(2019, 3, 27, 14, 11, 18, 481000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '26351', 'remain_money': '26351', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '100', 'press_in': '5.0', 'press_out': '5.0', 'temp_in': '1.0', 'temp_out': '1.0', 'rssi': '25.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000069
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 63
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000648'}]
0000000648
00036000000069 â˜† sum_total_volume is None ç½®ä¸º0
00036000000069
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000173')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000648', 'rtu_no': '00030000000111', 'flmeter_no': '00036000000069', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 14, 345480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_std_flow_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_work_flow_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_temperature': '20.5', 'min_temperature': '20.5', 'avg_temperature': '20.0', 'max_temp_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_temp_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'max_press': '101.3', 'min_press': '101.3', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2019, 1, 10, 17, 35, 16, 606000), 'min_press_time': datetime.datetime(2018, 12, 20, 10, 4, 31, 356000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '306', 'remain_money': '306', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '20.0', 'temp_out': '20.0', 'rssi': '16.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000069å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000004
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 4979
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000649'}]
0000000649
00030000000004 â˜† sum_total_money <0 ç½®ä¸º0
00030000000004
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000201')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000649', 'rtu_no': '00030000000002', 'flmeter_no': '00030000000004', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 14, 659478), 'year': '2018', 'std_sum': '60357', 'work_sum': '51783', 'max_std_flow': '1183737306.0', 'min_std_flow': '0.0', 'avg_std_flow': '10185396.0', 'max_std_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 57, 33000), 'min_std_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 7, 720000), 'max_work_flow': '1183737308.0', 'min_work_flow': '0.0', 'avg_work_flow': '7524140.0', 'max_work_flow_time': datetime.datetime(2018, 7, 31, 9, 19, 57, 33000), 'min_work_flow_time': datetime.datetime(2018, 8, 1, 15, 47, 7, 720000), 'max_temperature': '2.2977563e+23', 'min_temperature': '-3434896.5', 'avg_temperature': '3.230426611769431e+20', 'max_temp_time': datetime.datetime(2018, 11, 2, 2, 52, 31, 401000), 'min_temp_time': datetime.datetime(2018, 8, 3, 15, 34, 12, 72000), 'max_press': '1.044871e+34', 'min_press': '-3430800.5', 'avg_press': '1.4689891544486847e+31', 'max_press_time': datetime.datetime(2018, 11, 2, 2, 52, 31, 401000), 'min_press_time': datetime.datetime(2018, 7, 31, 11, 47, 11, 611000), 'price': '2.5', 'use_volume_work': '41.0', 'use_volume_std': '41.0', 'use_money': '102.5', 'sum_total_volume': '60357', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '5.0', 'remain_volume': '0.0', 'fm_state': '78', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '1.4689891544486847e+31', 'press_out': '1.4689891544486847e+31', 'temp_in': '3.230426611769431e+20', 'temp_out': '3.230426611769431e+20', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000004å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000020
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 392
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000650'}]
0000000650
00030000000020 â˜† sum_total_volume is None ç½®ä¸º0
00030000000020
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000147')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000650', 'rtu_no': '00030000000051', 'flmeter_no': '00030000000020', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 15, 35480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 29, 11, 42, 38, 869000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 29, 11, 42, 38, 869000), 'min_work_flow_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_temperature': '19.4', 'min_temperature': '0.0', 'avg_temperature': '6.0', 'max_temp_time': datetime.datetime(2018, 11, 15, 16, 52, 44, 888000), 'min_temp_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'max_press': '103.1', 'min_press': '0.0', 'avg_press': '35.0', 'max_press_time': datetime.datetime(2018, 11, 22, 15, 44, 20, 331000), 'min_press_time': datetime.datetime(2018, 11, 8, 10, 1, 9, 630000), 'price': '2.32', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '657', 'remain_money': '657', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '35.0', 'press_out': '35.0', 'temp_in': '6.0', 'temp_out': '6.0', 'rssi': '7.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000020å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000010
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 114
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000651'}]
0000000651
00036000000010
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000144')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000651', 'rtu_no': None, 'flmeter_no': '00036000000010', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 15, 313483), 'year': '2018', 'std_sum': '2523.170', 'work_sum': '2557.740', 'max_std_flow': '40.4', 'min_std_flow': '0.0', 'avg_std_flow': '14.0', 'max_std_flow_time': datetime.datetime(2018, 10, 25, 0, 0, 46), 'min_std_flow_time': datetime.datetime(2018, 8, 11, 0, 1, 17), 'max_work_flow': '41.09', 'min_work_flow': '0.0', 'avg_work_flow': '14.0', 'max_work_flow_time': datetime.datetime(2018, 10, 26, 0, 1, 3), 'min_work_flow_time': datetime.datetime(2018, 8, 11, 0, 1, 17), 'max_temperature': '26.636', 'min_temperature': '19.225', 'avg_temperature': '24.0', 'max_temp_time': datetime.datetime(2018, 8, 15, 0, 0, 51), 'min_temp_time': datetime.datetime(2018, 10, 19, 0, 0, 45), 'max_press': '102.385', 'min_press': '98.676', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 10, 12, 0, 0, 48), 'min_press_time': datetime.datetime(2018, 8, 17, 0, 0, 47), 'price': '0.000', 'use_volume_work': '2527.87', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '24.0', 'temp_out': '24.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000010å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000021
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 80
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000652'}]
0000000652
00030000000021 â˜† sum_total_volume is None ç½®ä¸º0
00030000000021
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000156')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000652', 'rtu_no': '00030000000051', 'flmeter_no': '00030000000021', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 15, 624479), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 6, 16, 58, 7, 913000), 'min_std_flow_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 16, 58, 7, 913000), 'min_work_flow_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_temperature': '24.2', 'min_temperature': '0.0', 'avg_temperature': '3.0', 'max_temp_time': datetime.datetime(2018, 10, 29, 11, 11, 30, 633000), 'min_temp_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'max_press': '101.4', 'min_press': '0.0', 'avg_press': '16.0', 'max_press_time': datetime.datetime(2018, 10, 29, 11, 11, 30, 633000), 'min_press_time': datetime.datetime(2018, 9, 3, 16, 51, 8, 757000), 'price': '0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': '650', 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': '790', 'fm_state': '1', 'fm_state_msg': '[è¡¨å†…ç´¯è®¡å……å€¼é‡‘é¢æ¯”ICå¡å†…çš„ç´¯è®¡é‡‘é¢å¤§][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[è¡¨å†…ç´¯è®¡å……å€¼é‡‘é¢æ¯”ICå¡å†…çš„ç´¯è®¡é‡‘é¢å¤§][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '16.0', 'press_out': '16.0', 'temp_in': '3.0', 'temp_out': '3.0', 'rssi': '3.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000021å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000043
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 235
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000653'}]
0000000653
00036000000043 â˜† sum_total_volume is None ç½®ä¸º0
00036000000043
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000170')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000653', 'rtu_no': '00030000000084', 'flmeter_no': '00036000000043', 'customer_no': '00030000000035', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 15, 911482), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 25, 0, 22, 13, 762000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 12, 34, 30, 561000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 25, 0, 22, 13, 762000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 12, 34, 30, 561000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '16.0', 'max_temp_time': datetime.datetime(2018, 11, 13, 13, 51, 30, 639000), 'min_temp_time': datetime.datetime(2018, 11, 13, 15, 51, 19, 152000), 'max_press': '1915.2', 'min_press': '0.0', 'avg_press': '168.0', 'max_press_time': datetime.datetime(2018, 11, 13, 15, 49, 16, 875000), 'min_press_time': datetime.datetime(2018, 11, 13, 13, 50, 32, 965000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 650.0, 'total_buy_volume': None, 'total_buy_money': '650', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '168.0', 'press_out': '168.0', 'temp_in': '16.0', 'temp_out': '16.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000043å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000045
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 429
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000654'}]
0000000654
00036000000045 â˜† sum_total_volume is None ç½®ä¸º0
00036000000045
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000198')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000654', 'rtu_no': '00030000000086', 'flmeter_no': '00036000000045', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 16, 261482), 'year': '2018', 'std_sum': '759', 'work_sum': '757', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 23, 15, 37, 20, 12000), 'min_std_flow_time': datetime.datetime(2018, 11, 1, 14, 58, 17, 675000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 23, 15, 37, 20, 12000), 'min_work_flow_time': datetime.datetime(2018, 11, 1, 14, 58, 17, 675000), 'max_temperature': '20.8', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 29, 11, 10, 34, 328000), 'min_temp_time': datetime.datetime(2018, 11, 29, 9, 21, 30, 138000), 'max_press': '104.2', 'min_press': '0.0', 'avg_press': '95.0', 'max_press_time': datetime.datetime(2018, 11, 20, 9, 32, 10, 368000), 'min_press_time': datetime.datetime(2018, 11, 29, 9, 21, 30, 138000), 'price': '1.0', 'use_volume_work': '757.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '3', 'remain_money': '3', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '95.0', 'press_out': '95.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000045å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000040
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 1947
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000655'}]
0000000655
00036000000040 â˜† use_volume_work <0 ç½®ä¸º0
00036000000040 â˜† sum_total_volume is None ç½®ä¸º0
00036000000040
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000191')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000655', 'rtu_no': '00030000000081', 'flmeter_no': '00036000000040', 'customer_no': '00030000000030', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 16, 589483), 'year': '2018', 'std_sum': '2', 'work_sum': '1', 'max_std_flow': '19.84', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 9, 10, 48, 38, 934000), 'min_std_flow_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 4, 2, 17, 20, 59, 15000), 'min_work_flow_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_temperature': '27.0', 'min_temperature': '0.0', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 10, 30, 10, 19, 8, 780000), 'min_temp_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'max_press': '110.7', 'min_press': '0.0', 'avg_press': '74.0', 'max_press_time': datetime.datetime(2018, 12, 24, 14, 48, 45, 919000), 'min_press_time': datetime.datetime(2018, 10, 29, 19, 6, 42, 31000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '74.0', 'press_out': '74.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '11.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000040å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000009
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 749
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000656'}]
0000000656
00030000000009 â˜† sum_total_money <0 ç½®ä¸º0
00030000000009
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000187')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000656', 'rtu_no': '00030000000012', 'flmeter_no': '00030000000009', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 17, 25480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_std_flow_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_work_flow_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_temp_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2018, 11, 14, 12, 59, 54, 759000), 'min_press_time': datetime.datetime(2018, 8, 9, 9, 59, 33, 78000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '14141.0', 'use_money': '14141.0', 'sum_total_volume': '14220', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '85830.0', 'remain_volume': '0.0', 'fm_state': '00', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '81', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000009å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000080
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 6
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000657'}]
0000000657
00036000000080 â˜† sum_total_volume is None ç½®ä¸º0
00036000000080
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000213')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000657', 'rtu_no': '00030000000120', 'flmeter_no': '00036000000080', 'customer_no': '00030000000050', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 17, 329451), 'year': '2018', 'std_sum': '0', 'work_sum': '1', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 26, 11, 11, 55, 457000), 'min_std_flow_time': datetime.datetime(2019, 3, 26, 14, 2, 35, 281000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 26, 11, 11, 55, 457000), 'min_work_flow_time': datetime.datetime(2019, 3, 26, 14, 2, 35, 281000), 'max_temperature': '20.0', 'min_temperature': '0.1', 'avg_temperature': '10.0', 'max_temp_time': datetime.datetime(2019, 3, 26, 13, 54, 3, 265000), 'min_temp_time': datetime.datetime(2019, 3, 26, 11, 15, 20, 86000), 'max_press': '101.3', 'min_press': '0.0', 'avg_press': '50.0', 'max_press_time': datetime.datetime(2019, 3, 26, 13, 54, 3, 265000), 'min_press_time': datetime.datetime(2019, 3, 26, 11, 15, 20, 86000), 'price': '665.6244', 'use_volume_work': '1.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '600', 'remain_money': '600', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[ç”µé‡ä¸è¶³å…³é˜€][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '50.0', 'press_out': '50.0', 'temp_in': '10.0', 'temp_out': '10.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000080å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000012
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 3748
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000658'}]
0000000658
00030000000012 â˜† sum_total_volume is None ç½®ä¸º0
00030000000012
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000209')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000658', 'rtu_no': '00030000000042', 'flmeter_no': '00030000000012', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 17, 645449), 'year': '2018', 'std_sum': '2', 'work_sum': '2', 'max_std_flow': '25.36', 'min_std_flow': '0.0', 'avg_std_flow': '25.0', 'max_std_flow_time': datetime.datetime(2018, 9, 19, 11, 40, 19, 867000), 'min_std_flow_time': datetime.datetime(2018, 11, 8, 15, 4, 5, 771000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 6, 15, 56, 16, 530000), 'min_work_flow_time': datetime.datetime(2018, 9, 4, 10, 35, 7, 470000), 'max_temperature': '3302.5', 'min_temperature': '-25.7', 'avg_temperature': '2846.0', 'max_temp_time': datetime.datetime(2018, 9, 4, 14, 33, 5, 258000), 'min_temp_time': datetime.datetime(2018, 9, 7, 13, 57, 14, 694000), 'max_press': '103.7', 'min_press': '101.6', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 9, 19, 11, 40, 19, 867000), 'min_press_time': datetime.datetime(2018, 11, 6, 15, 46, 30, 174000), 'price': '1.0', 'use_volume_work': '2.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '2996', 'remain_money': '2996', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '2846.0', 'temp_out': '2846.0', 'rssi': '1.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000012å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000064
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 180
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000659'}]
0000000659
00036000000064 â˜† sum_total_volume is None ç½®ä¸º0
00036000000064
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000177')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000659', 'rtu_no': '00030000000106', 'flmeter_no': '00036000000064', 'customer_no': '00030000000046', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 17, 994464), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 22, 19, 38, 43, 153000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 22, 19, 38, 43, 153000), 'max_temperature': '13.3', 'min_temperature': '10.1', 'avg_temperature': '12.0', 'max_temp_time': datetime.datetime(2018, 12, 23, 17, 32, 28, 762000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 42, 309000), 'max_press': '103.5', 'min_press': '99.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 1, 20, 59, 512000), 'min_press_time': datetime.datetime(2018, 12, 21, 11, 32, 37, 715000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '12.0', 'temp_out': '12.0', 'rssi': '14.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000064å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000041
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 127
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000660'}]
0000000660
00036000000041 â˜† use_volume_work <0 ç½®ä¸º0
00036000000041 â˜† sum_total_volume is None ç½®ä¸º0
00036000000041
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000199')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000660', 'rtu_no': '00030000000082', 'flmeter_no': '00036000000041', 'customer_no': '00030000000031', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 18, 303479), 'year': '2018', 'std_sum': '4', 'work_sum': '4', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 21, 0, 20, 26, 45000), 'min_std_flow_time': datetime.datetime(2018, 11, 16, 16, 39, 32, 598000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 21, 0, 20, 26, 45000), 'min_work_flow_time': datetime.datetime(2018, 11, 16, 16, 39, 32, 598000), 'max_temperature': '20.6', 'min_temperature': '0.0', 'avg_temperature': '18.0', 'max_temp_time': datetime.datetime(2018, 11, 21, 9, 16, 3, 723000), 'min_temp_time': datetime.datetime(2018, 11, 14, 15, 28, 29, 565000), 'max_press': '102.7', 'min_press': '88.4', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 11, 14, 15, 28, 29, 565000), 'min_press_time': datetime.datetime(2018, 11, 15, 10, 29, 1, 347000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 15.0, 'total_buy_volume': None, 'total_buy_money': '15', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '18.0', 'temp_out': '18.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000041å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000022
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 787
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000661'}]
0000000661
00036000000022
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000197')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000661', 'rtu_no': '00050000000004', 'flmeter_no': '00036000000022', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 18, 587450), 'year': '2018', 'std_sum': '1500674.370', 'work_sum': '428552.710', 'max_std_flow': '173.94', 'min_std_flow': '0.0', 'avg_std_flow': '107.0', 'max_std_flow_time': datetime.datetime(2018, 8, 14, 0, 0, 26), 'min_std_flow_time': datetime.datetime(2018, 7, 25, 16, 0, 22), 'max_work_flow': '101.09', 'min_work_flow': '0.0', 'avg_work_flow': '31.0', 'max_work_flow_time': datetime.datetime(2018, 8, 14, 16, 0, 25), 'min_work_flow_time': datetime.datetime(2018, 7, 25, 16, 0, 22), 'max_temperature': '41.54', 'min_temperature': '16.591', 'avg_temperature': '29.0', 'max_temp_time': datetime.datetime(2018, 8, 24, 16, 0, 23), 'min_temp_time': datetime.datetime(2018, 10, 24, 2, 7, 18), 'max_press': '431.816', 'min_press': '133.135', 'avg_press': '355.0', 'max_press_time': datetime.datetime(2018, 9, 25, 2, 0, 23), 'min_press_time': datetime.datetime(2018, 8, 14, 16, 0, 25), 'price': '0.000', 'use_volume_work': '75799.62', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0.000', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '0.000', 'remain_volume': '0.000', 'fm_state': None, 'fm_state_msg': None, 'rtu_state': None, 'rtu_state_msg': None, 'valve_state': '0', 'valve_state_msg': None, 'power_voltage': None, 'battery_voltage': None, 'battery_level': None, 'press_in': '355.0', 'press_out': '355.0', 'temp_in': '29.0', 'temp_out': '29.0', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000022å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000018
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 225
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000662'}]
0000000662
00030000000018 â˜† sum_total_volume is None ç½®ä¸º0
00030000000018 â˜† sum_total_money <0 ç½®ä¸º0
00030000000018
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000143')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000662', 'rtu_no': '00030000000048', 'flmeter_no': '00030000000018', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 18, 914480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 11, 29, 12, 57, 41, 574000), 'min_std_flow_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 11, 29, 12, 57, 41, 574000), 'min_work_flow_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_temperature': '20.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2018, 11, 9, 16, 23, 14, 462000), 'min_temp_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'max_press': '102.0', 'min_press': '0.0', 'avg_press': '1.0', 'max_press_time': datetime.datetime(2018, 11, 9, 16, 23, 14, 462000), 'min_press_time': datetime.datetime(2018, 10, 31, 14, 7, 40, 324000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '148', 'remain_money': '149', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '1.0', 'press_out': '1.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '4.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000018å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000052
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 826
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000663'}]
0000000663
00036000000052 â˜† sum_total_volume is None ç½®ä¸º0
00036000000052
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000195')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000663', 'rtu_no': '00030000000094', 'flmeter_no': '00036000000052', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 19, 206449), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '6.31', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 4, 10, 45, 30, 39000), 'min_std_flow_time': datetime.datetime(2018, 11, 29, 8, 48, 30, 878000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 21, 16, 22, 27, 183000), 'min_work_flow_time': datetime.datetime(2018, 11, 29, 8, 48, 30, 878000), 'max_temperature': '26.1', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 18, 20, 29, 365000), 'min_temp_time': datetime.datetime(2018, 12, 4, 9, 2, 4, 27000), 'max_press': '104.1', 'min_press': '0.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 9, 24, 23, 28000), 'min_press_time': datetime.datetime(2018, 12, 4, 9, 2, 4, 27000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 5.0, 'total_buy_volume': None, 'total_buy_money': '10', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000052å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000003
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 679
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000664'}]
0000000664
00036000000003 â˜† sum_total_money <0 ç½®ä¸º0
00036000000003
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000190')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000664', 'rtu_no': '00030000000002', 'flmeter_no': '00036000000003', 'customer_no': None, 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 19, 491480), 'year': '2018', 'std_sum': '64', 'work_sum': '67', 'max_std_flow': '9306112.0', 'min_std_flow': '0.0', 'avg_std_flow': '22585.0', 'max_std_flow_time': datetime.datetime(2018, 12, 3, 10, 46, 11, 364000), 'min_std_flow_time': datetime.datetime(2018, 12, 5, 12, 0, 15, 49000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 15, 43, 11, 590000), 'min_work_flow_time': datetime.datetime(2018, 12, 5, 12, 0, 15, 49000), 'max_temperature': '2.0172747e+36', 'min_temperature': '0.0', 'avg_temperature': '2.9709494845360823e+33', 'max_temp_time': datetime.datetime(2018, 12, 4, 10, 36, 50, 871000), 'min_temp_time': datetime.datetime(2018, 12, 3, 10, 46, 11, 364000), 'max_press': '101.62', 'min_press': '-2109584.5', 'avg_press': '100.0', 'max_press_time': datetime.datetime(2018, 11, 30, 7, 31, 11, 657000), 'min_press_time': datetime.datetime(2018, 12, 6, 23, 30, 14, 63000), 'price': '2.5', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '64', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '293.61', 'remain_volume': '0.0', 'fm_state': '06', 'fm_state_msg': None, 'rtu_state': '0000', 'rtu_state_msg': None, 'valve_state': '87', 'valve_state_msg': 'å…³é˜€', 'power_voltage': '0000', 'battery_voltage': '0000', 'battery_level': None, 'press_in': '100.0', 'press_out': '100.0', 'temp_in': '2.9709494845360823e+33', 'temp_out': '2.9709494845360823e+33', 'rssi': '0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000003å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00030000000011
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 217
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000665'}]
0000000665
00030000000011 â˜† sum_total_volume is None ç½®ä¸º0
00030000000011 â˜† sum_total_money <0 ç½®ä¸º0
00030000000011
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000172')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000665', 'rtu_no': '00030000000020', 'flmeter_no': '00030000000011', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 19, 860480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '25.36', 'min_std_flow': '25.36', 'avg_std_flow': '25.0', 'max_std_flow_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_std_flow_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_work_flow_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_temperature': '3302.5', 'min_temperature': '3302.5', 'avg_temperature': '3302.0', 'max_temp_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_temp_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'max_press': '103.7', 'min_press': '103.7', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 9, 3, 16, 23, 6, 629000), 'min_press_time': datetime.datetime(2018, 9, 3, 16, 21, 24, 325000), 'price': '0.2500', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '0', 'remain_money': '156', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '50', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '3302.0', 'temp_out': '3302.0', 'rssi': '6.0', 'sry_status': '1'}]
insert sys_serial_no ok
00030000000011å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000051
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 643
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000666'}]
0000000666
00036000000051 â˜† use_volume_work <0 ç½®ä¸º0
00036000000051 â˜† sum_total_volume is None ç½®ä¸º0
00036000000051
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000158')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000666', 'rtu_no': '00030000000093', 'flmeter_no': '00036000000051', 'customer_no': '00030000000036', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 20, 239464), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 1, 17, 16, 38, 6, 450000), 'min_std_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 1, 17, 16, 38, 6, 450000), 'min_work_flow_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'max_temperature': '23.4', 'min_temperature': '0.0', 'avg_temperature': '17.0', 'max_temp_time': datetime.datetime(2018, 12, 11, 0, 20, 56, 632000), 'min_temp_time': datetime.datetime(2018, 12, 7, 8, 40, 54, 795000), 'max_press': '114.8', 'min_press': '101.3', 'avg_press': '103.0', 'max_press_time': datetime.datetime(2018, 12, 30, 10, 24, 41, 950000), 'min_press_time': datetime.datetime(2018, 11, 28, 16, 31, 22, 834000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 0.0, 'total_buy_volume': None, 'total_buy_money': '5', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '103.0', 'press_out': '103.0', 'temp_in': '17.0', 'temp_out': '17.0', 'rssi': '12.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000051å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000048
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 438
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000667'}]
0000000667
00036000000048 â˜† sum_total_volume is None ç½®ä¸º0
00036000000048 â˜† sum_total_money <0 ç½®ä¸º0
00036000000048
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000145')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000667', 'rtu_no': '00030000000090', 'flmeter_no': '00036000000048', 'customer_no': '00030000000006', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 20, 649449), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 30, 10, 26, 27, 715000), 'min_std_flow_time': datetime.datetime(2018, 12, 6, 16, 24, 50, 483000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 30, 10, 26, 27, 715000), 'min_work_flow_time': datetime.datetime(2018, 12, 6, 16, 24, 50, 483000), 'max_temperature': '25.2', 'min_temperature': '6.9', 'avg_temperature': '14.0', 'max_temp_time': datetime.datetime(2018, 12, 10, 18, 24, 53, 39000), 'min_temp_time': datetime.datetime(2018, 12, 12, 0, 21, 58, 25000), 'max_press': '104.0', 'min_press': '100.0', 'avg_press': '101.0', 'max_press_time': datetime.datetime(2018, 12, 30, 9, 25, 50, 106000), 'min_press_time': datetime.datetime(2018, 12, 17, 1, 21, 36, 340000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': '0', 'total_buy_volume': None, 'total_buy_money': '4', 'remain_money': '5', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '101.0', 'press_out': '101.0', 'temp_in': '14.0', 'temp_out': '14.0', 'rssi': '20.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000048å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
00036000000061
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 373
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0003', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0003', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000668'}]
0000000668
00036000000061 â˜† use_volume_work <0 ç½®ä¸º0
00036000000061 â˜† sum_total_volume is None ç½®ä¸º0
00036000000061
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0003', '000320180000000146')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0003', 'sry_id': '000320180000000668', 'rtu_no': '00030000000103', 'flmeter_no': '00036000000061', 'customer_no': '00030000000007', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 20, 909480), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'min_std_flow_time': datetime.datetime(2018, 12, 16, 0, 36, 49, 246000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'min_work_flow_time': datetime.datetime(2018, 12, 16, 0, 36, 49, 246000), 'max_temperature': '18.7', 'min_temperature': '10.3', 'avg_temperature': '13.0', 'max_temp_time': datetime.datetime(2018, 12, 13, 22, 28, 10, 200000), 'min_temp_time': datetime.datetime(2018, 12, 31, 1, 20, 59, 512000), 'max_press': '107.5', 'min_press': '101.5', 'avg_press': '102.0', 'max_press_time': datetime.datetime(2018, 12, 15, 2, 25, 20, 575000), 'min_press_time': datetime.datetime(2018, 12, 19, 15, 26, 13, 121000), 'price': '1.0', 'use_volume_work': '0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 2.0, 'total_buy_volume': None, 'total_buy_money': '2', 'remain_money': '0', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': 'æ— æŠ¥è­¦[çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '64', 'press_in': '102.0', 'press_out': '102.0', 'temp_in': '13.0', 'temp_out': '13.0', 'rssi': '15.0', 'sry_status': '1'}]
insert sys_serial_no ok
00036000000061å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0003 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0002
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0002 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0010
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0010 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0018
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 8
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0018 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] å¼€å§‹è¿›è¡Œè®¡ç®—å¹´æŠ¥è¡¨æ•°æ®å¤„ç†
ä¸åŒçš„è¡¨è®¡å·å…±æœ‰ä¸ªæ•°: 1
æ ¹æ®è¡¨è®¡å·ï¼Œè¿›è¡Œæ•°æ®çš„å†æ¬¡ç­›é€‰ï¼Œå¤„ç†ï¼Œå†™å…¥æ•°æ®åº“
----------------------------------------------------------------------------------------
00186000000001
æ­¤æŸ¥è¯¢åŒºé—´,å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 8
æ­¤æŸ¥è¯¢åŒºé—´,ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…å½“å‰ç¼–å·ä¸‹æ€»å…±æŠ„è¡¨è®°å½•: 0
å¼€å§‹å–è‡ªåŠ¨é€’å¢æµæ°´å·é€»è¾‘
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[update SYS_SERIAL_NO set SSN_VALUE= trim(To_Char(SSN_VALUE+1,'0000000000')) where SSN_ORG_ID= :ssn_org_id and SSN_KEY_NAME = :ssn_key_name and SSN_YEAR = :ssn_year and SSN_MONTH = :ssn_month],å‚æ•°:[{'ssn_org_id': '0018', 'ssn_key_name': 'SCADA_REPORT_YEARLY', 'ssn_year': '2019', 'ssn_month': '04'}]
update sys_serial_no ok
[{'SSN_ORG_ID': '0018', 'SSN_KEY_NAME': 'SCADA_REPORT_YEARLY', 'SSN_KEY_TYPE': '2', 'SSN_KEY_DESCRIPTION': '2019å¹´æŠ¥è¡¨', 'SSN_YEAR': '2019', 'SSN_MONTH': '04', 'SSN_VALUE': '0000000010'}]
0000000010
00186000000001 â˜† sum_total_volume is None ç½®ä¸º0
00186000000001
æ€»åˆ—è¡¨é•¿åº¦: 1
æ‰§è¡Œsql:[delete from SCADA_REPORT_YEARLY where SRY_ORG_ID = :1 and SRY_ID=:2],å‚æ•°:[('0018', '001820180000000003')]
del_by_where ok
æ‰§è¡Œsql:[INSERT INTO SCADA_REPORT_YEARLY (SRY_ORG_ID,SRY_ID, RTU_NO,FLMETER_NO,CUSTOMER_NO,REPORT_TIME,YEAR,STD_SUM,WORK_SUM,MAX_STD_FLOW,MIN_STD_FLOW,AVG_STD_FLOW,MAX_STD_FLOW_TIME,MIN_STD_FLOW_TIME,MAX_WORK_FLOW,MIN_WORK_FLOW,AVG_WORK_FLOW,MAX_WORK_FLOW_TIME,MIN_WORK_FLOW_TIME,MAX_TEMPERATURE,MIN_TEMPERATURE,AVG_TEMPERATURE,MAX_TEMP_TIME,MIN_TEMP_TIME,MAX_PRESS,MIN_PRESS,AVG_PRESS,MAX_PRESS_TIME,MIN_PRESS_TIME,PRICE,USE_VOLUME_WORK,USE_VOLUME_STD,USE_MONEY,SUM_TOTAL_VOLUME,SUM_TOTAL_MONEY,TOTAL_BUY_VOLUME,TOTAL_BUY_MONEY,REMAIN_MONEY,REMAIN_VOLUME,FM_STATE,FM_STATE_MSG,RTU_STATE,RTU_STATE_MSG,VALVE_STATE,VALVE_STATE_MSG,POWER_VOLTAGE,BATTERY_VOLTAGE,BATTERY_LEVEL,PRESS_IN,PRESS_OUT,TEMP_IN,TEMP_OUT,RSSI,SRY_STATUS )VALUES(:sry_org_id,:sry_id, :rtu_no,:flmeter_no,:customer_no,:report_time,:year, :std_sum,:work_sum,:max_std_flow,:min_std_flow,:avg_std_flow,:max_std_flow_time,:min_std_flow_time,:max_work_flow,:min_work_flow, :avg_work_flow,:max_work_flow_time,:min_work_flow_time,:max_temperature,:min_temperature,:avg_temperature,:max_temp_time,:min_temp_time,:max_press,:min_press,:avg_press,:max_press_time,:min_press_time,:price,:use_volume_work,:use_volume_std,:use_money,:sum_total_volume,:sum_total_money,:total_buy_volume,:total_buy_money,:remain_money,:remain_volume,:fm_state,:fm_state_msg,:rtu_state,:rtu_state_msg,:valve_state,:valve_state_msg,:power_voltage,:battery_voltage,:battery_level,:press_in,:press_out,:temp_in,:temp_out,:rssi, :sry_status)],å‚æ•°:[{'sry_org_id': '0018', 'sry_id': '001820180000000010', 'rtu_no': '00180000000001', 'flmeter_no': '00186000000001', 'customer_no': '00180000000001', 'report_time': datetime.datetime(2019, 4, 6, 12, 5, 21, 502458), 'year': '2018', 'std_sum': '0', 'work_sum': '0', 'max_std_flow': '0.0', 'min_std_flow': '0.0', 'avg_std_flow': '0.0', 'max_std_flow_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_std_flow_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_work_flow': '0.0', 'min_work_flow': '0.0', 'avg_work_flow': '0.0', 'max_work_flow_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_work_flow_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_temperature': '0.0', 'min_temperature': '0.0', 'avg_temperature': '0.0', 'max_temp_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_temp_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'max_press': '0.0', 'min_press': '0.0', 'avg_press': '0.0', 'max_press_time': datetime.datetime(2019, 3, 27, 16, 27, 17, 291000), 'min_press_time': datetime.datetime(2019, 3, 27, 16, 8, 36, 95000), 'price': '1.0', 'use_volume_work': '0.0', 'use_volume_std': '0.0', 'use_money': '0.0', 'sum_total_volume': '0', 'sum_total_money': 21.0, 'total_buy_volume': None, 'total_buy_money': '26471', 'remain_money': '26450', 'remain_volume': None, 'fm_state': '1', 'fm_state_msg': '[è¡¨å†…å……å€¼æ¬¡æ•°æ¯”ICå¡å……å€¼æ¬¡æ•°å¤š][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'rtu_state': '1', 'rtu_state_msg': '[è¡¨å†…å……å€¼æ¬¡æ•°æ¯”ICå¡å……å€¼æ¬¡æ•°å¤š][çŠ¶æ€å­—2å¤‡ç”¨å¾…å®š;]', 'valve_state': None, 'valve_state_msg': None, 'power_voltage': '00', 'battery_voltage': None, 'battery_level': '100', 'press_in': '0.0', 'press_out': '0.0', 'temp_in': '0.0', 'temp_out': '0.0', 'rssi': '25.0', 'sry_status': '1'}]
insert sys_serial_no ok
00186000000001å¤„ç†å¥½æ•°æ®å·²å†™å…¥oracle
----------------------------------------------------------------------------------------
0018 data_processing is ok
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0006
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0006 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0013
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0013 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
æ­¤æœºæ„: 0014
ğŸ’— I am main()
æ€»å…±æŠ„è¡¨æ•°æ®: 0
ä¸‹é¢æ˜¯æŸ¥è¯¢å½“å¹´çš„ä¸Šä¸€å¹´æœ€åä¸€å¤©å†…æ•°æ®-æ€»å…±æŠ„è¡¨æ•°æ®
æ€»å…±æŠ„è¡¨æ•°æ®: 0
0014 ['2018-01-01 00:00:00', '2018-12-31 23:59:59'] æœŸé—´æ— æŠ„è¡¨æ•°æ®ï¼Œè¯·ç­‰å¾…é‡æ–°è®¡ç®—å¹´æŠ¥è¡¨
----------------------------------------------------------------------------------------
all done-å¹´æŠ¥è¡¨æ•´ä¸ªå¤„ç†æµç¨‹å®Œæˆ
----------------------------------------------------------------------------------------
ç¨‹åºè¿è¡Œå¼€å§‹æ—¶é—´ 2019-04-06 12:04:46.212453
ç¨‹åºè¿è¡Œç»“æŸæ—¶é—´: 2019-04-06 12:05:22.027497
æ•´ä¸ªç¨‹åºè¿è¡Œæ€»æ—¶é—´: 35 ç§’
----------------------------------------------------------------------------------------
ç¨‹åºè¿è¡Œå¼€å§‹time.clock(): 3e-07
ç¨‹åºè¿è¡Œç»“æŸtime.clock(): 35.8144991
æ•´ä¸ªç¨‹åºè¿è¡Œæ€»æ—¶é—´time.clock()å·®: 35.814498799999996 ç§’
----------------------------------------------------------------------------------------
